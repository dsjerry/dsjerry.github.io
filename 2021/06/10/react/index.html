<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ - smalljerry aka dsjerry</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="dsjerry&#039;s blog"><meta name="msapplication-TileImage" content="https://avatars.githubusercontent.com/u/53891546?v=4"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="dsjerry&#039;s blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ğŸ‰ å¸Œæœ›å¯ä»¥è®°å½•ä¸€äº›ç¬”è®°ï¼Œä¿æŒåŸæœ‰ä¹…ç¬”è®°çš„å‰æä¸‹åŠ¨æ€æ›´æ–°ï¼Œæ–¹ä¾¿å¯¹æ¯”å¤ä¹  ğŸ‘‰ å€¼å¾—å­¦ä¹ çš„ Thinking In React"><meta property="og:type" content="blog"><meta property="og:title" content="æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ"><meta property="og:url" content="https://smalljerry.cn/2021/06/10/react/"><meta property="og:site_name" content="smalljerry aka dsjerry"><meta property="og:description" content="ğŸ‰ å¸Œæœ›å¯ä»¥è®°å½•ä¸€äº›ç¬”è®°ï¼Œä¿æŒåŸæœ‰ä¹…ç¬”è®°çš„å‰æä¸‹åŠ¨æ€æ›´æ–°ï¼Œæ–¹ä¾¿å¯¹æ¯”å¤ä¹  ğŸ‘‰ å€¼å¾—å­¦ä¹ çš„ Thinking In React"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://z3.ax1x.com/2021/06/23/RuSjot.png"><meta property="article:published_time" content="2021-06-10T12:11:50.000Z"><meta property="article:modified_time" content="2025-02-22T02:14:47.356Z"><meta property="article:author" content="dsjerry"><meta property="article:tag" content="js"><meta property="article:tag" content="react"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://z3.ax1x.com/2021/06/23/RuSjot.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://smalljerry.cn/2021/06/10/react/"},"headline":"æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ","image":["https://z3.ax1x.com/2021/06/23/RuSjot.png"],"datePublished":"2021-06-10T12:11:50.000Z","dateModified":"2025-02-22T02:14:47.356Z","author":{"@type":"Person","name":"dsjerry"},"publisher":{"@type":"Organization","name":"smalljerry aka dsjerry","logo":{"@type":"ImageObject","url":{"text":"SMALLJERRY"}}},"description":"ğŸ‰ å¸Œæœ›å¯ä»¥è®°å½•ä¸€äº›ç¬”è®°ï¼Œä¿æŒåŸæœ‰ä¹…ç¬”è®°çš„å‰æä¸‹åŠ¨æ€æ›´æ–°ï¼Œæ–¹ä¾¿å¯¹æ¯”å¤ä¹  ğŸ‘‰ å€¼å¾—å­¦ä¹ çš„ Thinking In React"}</script><link rel="canonical" href="https://smalljerry.cn/2021/06/10/react/"><link rel="icon" href="https://avatars.githubusercontent.com/u/53891546?v=4"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?4b1b8ea31347bc0c974b11aca38a6236";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5233359657851046" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/darkreader/4.9.58/darkreader.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">

<link rel="stylesheet" href="/css/aplayer.css">

<link rel="stylesheet" href="/css/logo.css">

<link rel="stylesheet" href="/css/theme-toggle.css">

<link rel="stylesheet" href="/css/custom-shadow.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="smalljerry aka dsjerry" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">SMALLJERRY</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">åˆ†ç±»</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">å…³äº</a></div><div class="navbar-end"><a class="navbar-item" title="åˆ‡æ¢ä¸»é¢˜" href="javascript:;" id="theme-toggle-button"><i class="fas fa-moon" id="theme-toggle-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/dsjerry"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://z3.ax1x.com/2021/06/23/RuSjot.png" alt="æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-06-10T12:11:50.000Z" title="2021/6/10 20:11:50">2021-06-10</time>å‘è¡¨</span><span class="level-item"><time dateTime="2025-02-22T02:14:47.356Z" title="2025/2/22 10:14:47">2025-02-22</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">å‰ç«¯å­¦ä¹ </a></span><span class="level-item">1 å°æ—¶è¯»å®Œ (å¤§çº¦10191ä¸ªå­—)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®</span></div></div><h1 class="title is-3 is-size-4-mobile">æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ</h1><div class="content"><p>ğŸ‰ å¸Œæœ›å¯ä»¥è®°å½•ä¸€äº›ç¬”è®°ï¼Œä¿æŒåŸæœ‰ä¹…ç¬”è®°çš„å‰æä¸‹åŠ¨æ€æ›´æ–°ï¼Œæ–¹ä¾¿å¯¹æ¯”å¤ä¹ </p>
<p>ğŸ‘‰ å€¼å¾—å­¦ä¹ çš„ <a target="_blank" rel="noopener" href="https://react.dev/learn/thinking-in-react">Thinking In React</a></p>
<span id="more"></span>

<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ğŸ™ƒ è®°å½•æ—¶é—´ã€ç‰ˆæœ¬çš„ä¸åŒï¼Œä»£ç é£æ ¼ä¼šä¸åŒï¼Œæœ€æ–°çš„ç‰ˆæœ¬ç¤ºä¾‹ä¼šæ˜¯æœ€ä¸Šé¢ä¸€ä¸ªç„¶åç”¨ <code>æ–°---</code> å’Œ <code>æ—§---</code> æ ‡è¯†</p>
<p><code>TBR</code> æ ‡å‡ºçš„ï¼Œæ˜¯æ²¡çœ‹æ˜ç™½ï¼Œè¿˜éœ€ç»†å“çš„ ğŸ˜…</p>
<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="ä½¿ç”¨-vite"><a href="#ä½¿ç”¨-vite" class="headerlink" title="ä½¿ç”¨ vite"></a>ä½¿ç”¨ vite</h3><p><a target="_blank" rel="noopener" href="https://vitejs.dev/guide/">ğŸŒ Getting Start</a></p>
<p>å…ˆåˆ›å»º <code>vite</code> å†é€‰æ‹© <code>react</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŒ‡å®š <code>react</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest my-react-app -- --template react</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yarn</span></span><br><span class="line">yarn create vite my-react-app --template react</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pnpm</span></span><br><span class="line">pnpm create vite my-react-app --template react</span><br></pre></td></tr></table></figure>

<ul>
<li>æˆ–è€…æ˜¯ <code>react-ts</code></li>
</ul>
<h3 id="éè„šæ‰‹æ¶"><a href="#éè„šæ‰‹æ¶" class="headerlink" title="éè„šæ‰‹æ¶"></a>éè„šæ‰‹æ¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react react-dom</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>&lt;script&gt;</code>å¯¼å…¥ï¼Œæ³¨æ„å¯¼å…¥é¡ºåº</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./node_modules/react/umd/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./node_modules/react-dom/umd/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">/*	åˆ›å»ºreactå…ƒç´ ï¼ˆäº†è§£ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">		- å‚æ•°ä¸€ï¼šå…ƒç´ åç§°</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">		- å‚æ•°äºŒï¼šå…ƒç´ å±æ€§ï¼Œæ˜¯å¯¹è±¡</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">		- å‚æ•°ä¸‰ï¼šå…ƒç´ çš„å­èŠ‚ç‚¹ï¼ˆä»è¿™ä¸ªå‚æ•°å¼€å§‹ï¼Œä¹‹åæ·»åŠ çš„å‚æ•°éƒ½æ˜¯å­èŠ‚ç‚¹ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">	*/</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> title = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h1&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;hello react!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">/*	æ¸²æŸ“reactå…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    	- å‚æ•°ä¸€ï¼šè¦æ¸²æŸ“çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    	- å‚æ•°äºŒï¼šæŒ‚è½½ç‚¹</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    */</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(title, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="è„šæ‰‹æ¶"><a href="#è„šæ‰‹æ¶" class="headerlink" title="è„šæ‰‹æ¶"></a>è„šæ‰‹æ¶</h3><p><code>React.createElement()</code>å’Œ<code>createRoot()</code>çš„åŒºåˆ«</p>
<ul>
<li>å‰è€…ï¼šåˆ›å»º React Element</li>
<li>åè€…ï¼šåˆ›å»ºä¸€ä¸ª root-level çš„å®¹å™¨æ¥æ¸²æŸ“ React ç¨‹åº <code>React 18</code></li>
</ul>
<h4 id="React-18-ä»¥å‰"><a href="#React-18-ä»¥å‰" class="headerlink" title="React 18 ä»¥å‰"></a>React 18 ä»¥å‰</h4><p>ä¸‹è½½</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¨è</span></span><br><span class="line">npx create-react-app myReact</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># ä¸å¤ªæ¨è</span></span></span><br><span class="line">npm init react-app myReact</span><br><span class="line">yarn create react-app myReact</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ï¼ˆè¦è¿›å…¥é¡¹ç›®çš„æ ¹ç›®å½•ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼Œé€šè¿‡ ES6 çš„ <code>import</code> å…³é”®å­—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºreactå…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> title = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h1&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;hello react!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸²æŸ“å…ƒç´ </span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(title, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="React-18-ä»¥å"><a href="#React-18-ä»¥å" class="headerlink" title="React 18 ä»¥å"></a>React 18 ä»¥å</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react react-dom</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºç°æœ‰çš„HTMLå†…å®¹</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨Reactç»„ä»¶å–è€Œä»£ä¹‹</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;app&quot;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>);</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…æ˜¯å¹¶ä¸æƒ³æ¸…ç©ºå½“å‰ HTML é¡µé¢çš„å†…å®¹ï¼Œé‚£å°±æ‰¾ä¸€ä¸ªå…ƒç´ å½“ä½œå®¹å™¨æ¥æ¸²æŸ“å½“å‰çš„ React ç»„ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This paragraph is a part of HTML.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">&quot;navigation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This paragraph is also a part of HTML.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">NavigationBar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> Actually implement a navigation bar</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello from React!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> domNode = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;navigation&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> root = <span class="title function_">createRoot</span>(domNode);</span><br><span class="line">root.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">NavigationBar</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>

<h2 id="React-å’Œ-JSX"><a href="#React-å’Œ-JSX" class="headerlink" title="React å’Œ JSX"></a>React å’Œ JSX</h2><p><code>jsx</code> æ˜¯ <code>JavaScript XML</code> çš„ç®€å†™ï¼Œåœ¨ JavaScript æ–‡ä»¶ä¸­å†™ HTML-like æ ‡ç­¾</p>
<ul>
<li>å› ä¸º<code>jsx</code>ä¸æ˜¯æ ‡å‡†çš„<code>ECMAScript</code>è¯­æ³•ï¼Œè€Œæ˜¯å®ƒçš„è¯­æ³•æ‰©å±•ï¼Œæ‰€ä»¥åœ¨æ™®é€šç¯å¢ƒæ˜¯ä¸å¯ä»¥ä½¿ç”¨çš„ï¼›è¦åœ¨è„šæ‰‹æ¶ä¸­ä½¿ç”¨ï¼ˆå› ä¸ºè„šæ‰‹æ¶ä¸­åŒ…å«äº†<code>babel</code>ï¼Œ@babel&#x2F;preset-reactï¼‰</li>
</ul>
<blockquote>
<p>JSX å’Œ React æ˜¯ä¸¤ä¸ªä¸œè¥¿ï¼Œå‰è€…æ˜¯è¯­æ³•æ‹“å±•ï¼Œåè€…æ˜¯ä¸€ä¸ª JavaScript åº“ã€‚React æ˜¯ä½¿ç”¨äº†è¿™ç§è¯­æ³•æ‹“å±•ã€‚é€šå¸¸æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œä½†ä¹Ÿå¯ä»¥åˆ†å¼€ä½¿ç”¨ã€‚<a target="_blank" rel="noopener" href="https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html#whats-a-jsx-transform">æ›´å¤šä»‹ç»</a></p>
</blockquote>
<h3 id="è¯­æ³•è§„åˆ™"><a href="#è¯­æ³•è§„åˆ™" class="headerlink" title="è¯­æ³•è§„åˆ™"></a>è¯­æ³•è§„åˆ™</h3><p><strong>1. å•æ ¹èŠ‚ç‚¹</strong></p>
<blockquote>
<p>åŸå› ï¼šJSX çœ‹èµ·æ¥åƒ HTMLï¼Œä½†æ˜¯æ˜¯è½¬æ¢æˆåŸç”Ÿçš„ JavaScript å¯¹è±¡ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯ä¸å¯ä»¥è¿”å›ä¸¤ä¸ªå¯¹è±¡çš„ï¼Œæ‰€ä»¥æ‰éœ€è¦åŒ…è£¹èµ·æ¥</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>123<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>456<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="comment">// æˆ–è€…ç©ºç™½çš„</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>123<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>456<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™ä¸ªç©ºç™½çš„æ ‡ç­¾å«åš Fragment ï¼ˆç‰‡æ®µ ï¼Ÿï¼Ÿï¼‰</li>
<li>å®Œæ•´æ ·å­ï¼š<code>&lt;Fragment&gt;&lt;/Fragment&gt;</code></li>
<li>å‘ Fragment ä¼  <em>key</em>ï¼Œä¸èƒ½ä½¿ç”¨çŸ­æ ‡ç­¾ <code>&lt;&gt;&lt;/&gt;</code>ï¼Œéœ€è¦ä» react å¯¼å…¥ Fragment ç„¶å s ä½¿ç”¨<code>&lt;Fragment key=&#123;yourKey&#125;&gt;...&lt;/Fragment&gt;</code></li>
<li>ä¸ä¼šé‡ç½®<code>state</code>ï¼Œåœ¨ä»<code>&lt;&gt;&lt;Child /&gt;&lt;/&gt;</code>åˆ°<code>[&lt;Child&gt;]</code>æˆ–åè½¬çš„æ—¶å€™ï¼›<code>&lt;&gt;&lt;&gt;&lt;Child /&gt;&lt;/&gt;&lt;/&gt;</code>å°±ä¼šé‡ç½®ã€‚å…³äºé‡ç½® stateï¼Œéœ€è¦è·³è½¬çœ‹åˆ°<code>state</code>ç« èŠ‚</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºreactå…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> title = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    Hello Hi <span class="tag">&lt;<span class="name">span</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸²æŸ“å…ƒç´ </span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(title, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>class &#x3D;&gt; className ã€for &#x3D;&gt; htmlForï¼Œç­‰ç­‰</li>
<li>å¦‚æœå…ƒç´ æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå¯ä»¥è½¬ä¸ºå•æ ‡ç­¾ï¼š<code>&lt;span&gt;&lt;/span&gt;</code> &#x3D;&gt; <code>&lt;span /&gt;</code>ï¼Œå½“ç„¶ä¸è½¬ä¹Ÿè¡Œ</li>
</ul>
<p><strong>2. å¿…é¡»è¦å…³é—­æ ‡ç­¾</strong></p>
<p>â€¦å…¶å®ä¸€ç›´ä¸çŸ¥é“æ ‡ç­¾è¿˜å¯ä»¥ä¸ç”¨å…³é—­çš„ ğŸ¥²</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;12</span><br><span class="line">  &lt;li&gt;34</span><br><span class="line">  &lt;li&gt;56</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;img&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>12<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>34<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>56<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>3. é©¼å³°å¼å±æ€§å</strong></p>
<p>å› ä¸º JSX è¦è½¬æ¢æˆ JavaScript å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œä¾‹å¦‚ HTML-like ä¸­çš„æ ·å¼ç±»<code>class</code>æ”¹æˆäº†<code>className</code>ï¼Œä¸ç„¶å¾—å’Œ JavaScript ç±»çš„å…³é”®å­—å†²çª</p>
<p>DOM èŠ‚ç‚¹çš„<code>className</code>å±æ€§ä¹Ÿæ˜¯è¿™ä¸ªæ„æ€ï¼Œé¿å…ä¸æ“ä½œ DOM çš„ç¼–ç¨‹è¯­è¨€ä¿ç•™çš„<code>class</code>å…³é”®å­—å†²çª</p>
<blockquote>
<p>å¯¹äºæ ·å¼ç±»ï¼Œclass æ˜¯å±äº HTML çš„ï¼Œè€Œ className æ˜¯ DOM å±æ€§</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://react.dev/reference/react-dom/components/common">ğŸ‘‰ è¿™é‡ŒæŸ¥çœ‹æ‰€æœ‰çš„å±æ€§å</a></p>
<blockquote>
<p>ç”±äºå†å²åŸå› <code>aria-*</code> å’Œ <code>data-*</code> ä¾ç„¶ä½¿ç”¨ <code>-</code> è€Œä¸æ˜¯é©¼å³°å¼ã€‚ä¸»è¦åŸå› æœ‰ W3C å®šçš„ä¸€äº› HTML è§„èŒƒï¼Œç„¶å React ä¹Ÿéµå¾ªè¿™äº›è§„èŒƒä»¥é€‚é…å¾ˆå¤šåº“ã€å¼€å‘å·¥å…·ã€ä¸åŒæŠ€æœ¯ç­‰ç­‰</p>
</blockquote>
<ul>
<li>aria è§„èŒƒ: Accessible Rich Internet Applicationsï¼Œæä¾›ä¸€ç»„å±æ€§å¢å¼º web åº”ç”¨ç¨‹åºçš„å¯è®¿é—®æ€§ã€‚</li>
</ul>
<h3 id="ä½¿ç”¨-js-è¡¨è¾¾å¼-JSX-çš„èŠ±æ‹¬å·"><a href="#ä½¿ç”¨-js-è¡¨è¾¾å¼-JSX-çš„èŠ±æ‹¬å·" class="headerlink" title="ä½¿ç”¨ js è¡¨è¾¾å¼ (JSX çš„èŠ±æ‹¬å·)"></a>ä½¿ç”¨ js è¡¨è¾¾å¼ (JSX çš„èŠ±æ‹¬å·)</h3><blockquote>
<p>â— èŠ±æ‹¬å·å¤–é¢æ˜¯ä¸éœ€è¦åŠ  åŒå¼•å·æˆ–è€…å•å¼•å· çš„ï¼›èŠ±æ‹¬å·é‡Œé¢å¦‚æœæ˜¯å­—ç¬¦ä¸² <br /> return è¯­å¥ä¸­ JS è¡¨è¾¾å¼è¦å†™åœ¨èŠ±æ‹¬å·é‡Œé¢</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Avatar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> avatar = <span class="string">&quot;https://i.imgur.com/7vQD0fPs.jpg&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> description = <span class="string">&quot;Gregorio Y. Zara&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">className</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">src</span>=<span class="string">&#123;avatar&#125;</span> <span class="attr">alt</span>=<span class="string">&#123;description&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Jerry&quot;</span>; <span class="comment">// ä½¿ç”¨ä¸€ä¸ªèŠ±æ‹¬å·ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">const</span> title = <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(title, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>&#123;&#125;</code>ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„åˆæ³•çš„<code>JavaScript</code>è¡¨è¾¾å¼ï¼Œä¸è¿‡ä¹Ÿæœ‰ä¾‹å¤–</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">hello</span> = (<span class="params"></span>) =&gt; <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> myDiv = <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªdiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> title = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;1 + 1&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;1 &lt; 2 ? &quot;å¯¹å‘€&quot; : &quot;ä¸å¯¹&quot;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;hello()&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;div&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(title, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>jsx è‡ªèº«ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œæ‰€ä»¥<code>&#123;div&#125;</code>ä¹Ÿé€‚ç”¨</li>
<li><code>&lt;p&gt;&#123; &#123;a: &quot;æˆ‘æ˜¯a&quot;&#125; &#125;&lt;/p&gt;</code>ï¼Œè¿™ç§å¯¹è±¡æ˜¯<strong>ä¸è¡Œ</strong>çš„ï¼Œä½†æ˜¯åœ¨<code>style</code>æ ·å¼ä¸­åˆå¯ä»¥ä½¿ç”¨</li>
<li>åœ¨é‡Œé¢ä½¿ç”¨è¯­å¥ä¹Ÿæ˜¯<strong>ä¸è¡Œ</strong>çš„ï¼šifã€for è¿™äº›</li>
</ul>
<p><strong>JSX ä½¿ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·çš„åœºæ™¯</strong></p>
<ul>
<li>CSSï¼š<code>&lt;ul style=&#123;&#123;backgroundColor: 'black', color: 'pink'&#125;&#125;&gt;</code><ul>
<li>css å±æ€§åè¦é©¼å³°å¼</li>
</ul>
</li>
<li>JSX ä¼ é€’å¯¹è±¡ï¼š<code>person=&#123;&#123; name: "Hedy Lamarr", inventions: 5 &#125;&#125;</code></li>
</ul>
<h3 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Item</span>(<span class="params">&#123; name, isPacked &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;isPacked ? name + &quot;âœ”&quot; : name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Pane</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">name</span>=<span class="string">&quot;mike&quot;</span> <span class="attr">isPacked</span>=<span class="string">&#123;false&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Item</span> <span class="attr">name</span>=<span class="string">&quot;amy&quot;</span> <span class="attr">isPacked</span>=<span class="string">&#123;true&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœä¸æ¸²æŸ“ä¸œè¥¿ï¼Œå¯ä»¥è¿”å›<code>null</code>ã€‚<strong>ä¸€èˆ¬ä¸ä¼šè¿™æ ·åš</strong></li>
</ul>
<p>ä½¿ç”¨é€»è¾‘ä¸ç®€åŒ–æ¡ä»¶åˆ¤æ–­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;name&#125; &#123;isPacked &amp;&amp; &quot;âœ”&quot;&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>React considers <code>false</code> as a â€œholeâ€ in the JSX treeï¼Œåƒ<code>undefined</code>å’Œ<code>null</code>ä¸€æ ·ä¸æ¸²æŸ“ä¸œè¥¿</li>
<li>å¯ç”¨å¤šä¸ªèŠ±æ‹¬å·</li>
</ul>
<blockquote>
<p>æ³¨æ„ <code>&amp;&amp;</code> å·¦è¾¹æœ‰æ•°å­—ï¼Œå› ä¸ºå¦‚æœæ˜¯ <em>0</em> çš„è¯ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯<code>false</code>ï¼›å¯ä»¥åŠ ä¸ªå‰æåˆ¤æ–­å½“å·¦è¾¹å¤§äº <em>0</em></p>
</blockquote>
<p>å¦‚æœè¦ç®€åŒ–è¿”å›è¯­å¥ï¼Œæˆ–è€…æœ‰ä¸ªé»˜è®¤è¿”å›ï¼Œå¯ä»¥ä½¿ç”¨ç»“åˆä½¿ç”¨<strong>å˜é‡å’Œ JSX</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Item</span>(<span class="params">&#123; name, isPacked &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> content = name;</span><br><span class="line">  <span class="keyword">if</span> (isPacked) &#123;</span><br><span class="line">    <span class="comment">// å¤šè¡Œè¦ä½¿ç”¨æ‹¬å·</span></span><br><span class="line">    content = <span class="language-xml"><span class="tag">&lt;<span class="name">del</span>&gt;</span>&#123;name + &quot;âœ”&quot;&#125;<span class="tag">&lt;/<span class="name">del</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;content&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h3><blockquote>
<p>ç®­å¤´å‡½æ•°<code>=&gt;</code>åé¢éšå¼è¿”å›ï¼Œä¸ç”¨åŠ ä¸Š<code>return</code>ï¼Œä½†æ˜¯åªè¿”å›ä¸€è¡Œï¼›è¿”å›å¤šè¡Œ<code>=&gt;</code>éœ€è¦åŠ ä¸Š<code>&#123;&#125;</code>å’Œ<code>return</code></p>
</blockquote>
<p>å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„<code>map()</code>æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> songs = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;æˆ‘å¾ˆå¿«ä¹&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;ä½ å¾ˆå¿«ä¹&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;ä»–å¾ˆå¿«ä¹&quot;</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">SongList</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å†³å®šåˆ—è¡¨ç»“æ„ï¼ˆæ¯ä¸€é¡¹éå†éœ€è¦æœ‰ä¸€ä¸ªkeyï¼‰</span></span><br><span class="line">  <span class="keyword">const</span> songItems = songs.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span>&#123;item.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>&#123;songItems&#125;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€èˆ¬ä¼šç”¨æ•°æ®åº“ä¸­å¯¹åº”çš„ ID ä½œä¸º key</li>
<li>å¦‚æœæ˜¯æœ¬åœ°æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID">crypto.randomUUID()</a> æˆ–è€…æ˜¯åŒ…<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/uuid">uuid</a> ç”Ÿæˆ</li>
</ul>
<blockquote>
<p>ä¸è¦ä½¿ç”¨<code>Math.random()</code>ç”Ÿæˆ keyï¼Œkey é™¤äº†æ ‡è¯†å½“å‰ DOMï¼Œè¿˜ä¼šæœ‰ç¼“å­˜ä½œç”¨ï¼Œæ•°æ®ä¸å˜åŒ–çš„ä¸ä¼šé‡æ–°æ¸²æŸ“ä»¥ä½¿å¾—æ¸²æŸ“æ›´å¿«ï¼Œå¦‚æœç”¨äº†éšæœºæ•°ï¼Œæ‰€æœ‰çš„ DOM éƒ½ä¼šåœ¨æ•°æ®æ›´æ–°æ—¶é‡æ–°æ¸²æŸ“ <br /> key åœ¨<code>props</code>æ˜¯è·å–ä¸åˆ°çš„</p>
</blockquote>
<p>æƒ³è¦æ¸²æŸ“å¤šä¸ª DOM èŠ‚ç‚¹ä½†æ˜¯åˆä¸æƒ³åœ¨å¤–é¢åŒ…ä¸€ä¸ªå¤šä½™çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listItems = people.<span class="title function_">map</span>(<span class="function"><span class="params">person</span> =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;person.id&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;person.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;person.bio&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">));</span><br></pre></td></tr></table></figure>

<p>ä¸æƒ³ï¼Œè¦è¿™ä¸ªå¤–é¢çš„<code>&lt;div&gt;</code>ï¼Œå¯ç”¨<code>&lt;Fragment&gt;</code>ä»£æ›¿ï¼Œåœ¨ DOM ä¸­ Fragments ä¸ä¼šå‡ºç°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®°å¾—è¦äº‹å…ˆå¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Fragment</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> listItems = people.<span class="title function_">map</span>(<span class="function"><span class="params">person</span> =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Fragment</span> <span class="attr">key</span>=<span class="string">&#123;person.id&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;person.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;person.bio&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Fragment</span>&gt;</span></span></span><br><span class="line">));</span><br></pre></td></tr></table></figure>

<p>è®°å¾—è¦äº‹å…ˆå¯¼å…¥ï¼š</p>
<blockquote>
<p>ä¸èƒ½ä½¿ç”¨ <code>&lt;&gt;&lt;/&gt;</code>ï¼Œå› ä¸ºå®ƒä¸èƒ½ä¼ é€’ <code>key</code></p>
</blockquote>
<h3 id="æ ·å¼å¤„ç†"><a href="#æ ·å¼å¤„ç†" class="headerlink" title="æ ·å¼å¤„ç†"></a>æ ·å¼å¤„ç†</h3><p>è¡Œå†…æ ·å¼ï¼šstyleï¼ˆä¸æ¨èï¼‰ï¼Œä½¿ç”¨æ ·å¼æ—¶å¯ä»¥åœ¨<code>&#123;&#125;</code>ä¸­ä½¿ç”¨å¯¹è±¡</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &quot;<span class="attr">red</span>&quot;, <span class="attr">backgroundColor:</span> &quot;<span class="attr">yellow</span>&quot; &#125;&#125;&gt;</span>JSXè¡Œå†…æ ·å¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ç±»åï¼šclassName</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.css */</span></span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="string">&quot;red&quot;</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="string">&quot;yellow&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;index.css&quot;</span><span class="keyword">const</span> list = ( <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span>JSXç±»æ ·å¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span> )</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°ç»“ï¼šReact æ˜¯åˆ©ç”¨ JavaScript è¯­è¨€è‡ªèº«æ¥ç¼–å†™ç•Œé¢ï¼Œè€Œä¸æ˜¯åƒ Vue ä¸€æ ·é€šè¿‡å¢å¼º HTML çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<h1 id="ç»„ä»¶åŸºç¡€"><a href="#ç»„ä»¶åŸºç¡€" class="headerlink" title="ç»„ä»¶åŸºç¡€"></a>ç»„ä»¶åŸºç¡€</h1><ul>
<li>ä¸€ä¸ªé¡µé¢å¯ä»¥å…¨éƒ¨éƒ½æ˜¯ React ç»„ä»¶ã€‚</li>
<li>a React component is a JavaScript function that you can sprinkle with markup</li>
</ul>
<h2 id="ä¸¤ç§åˆ›å»ºæ–¹å¼"><a href="#ä¸¤ç§åˆ›å»ºæ–¹å¼" class="headerlink" title="ä¸¤ç§åˆ›å»ºæ–¹å¼"></a>ä¸¤ç§åˆ›å»ºæ–¹å¼</h2><blockquote>
<p><code>React 16.8</code> ä»¥å æ¨èåˆ›å»ºç»„ä»¶çš„æ–¹æ³•ä¸å†æ˜¯ <em>ç±»ç»„ä»¶</em> ï¼Œè€Œæ˜¯ <em>å‡½æ•°ç»„ä»¶</em></p>
</blockquote>
<p>å‡½æ•°çš„æ–¹å¼å’Œç±»çš„æ–¹å¼</p>
<h3 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h3><ul>
<li>ä½¿ç”¨<code>function</code>å…³é”®å­—</li>
<li>å‡½æ•°åç§°<strong>å¤§å†™</strong>å¼€å¤´</li>
<li>å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼ï¼ˆè¿”å›<code>null</code>è¡¨ç¤ºä¸æ¸²æŸ“å†…å®¹ï¼‰<ul>
<li>è¿”å›å•è¡Œå¯ä¸éœ€è¦æ‹¬å·ï¼Œè¿”å›<strong>å¤šè¡Œå¿…é¡»æ‹¬å·</strong></li>
</ul>
</li>
<li>ä¸è¦åœ¨ç»„ä»¶é‡Œé¢å†å®šä¹‰å…¶ä»–ç»„ä»¶</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æˆ–è€…const Hello = ()=&gt; &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// å‡½æ•°åä½œä¸ºæ ‡ç­¾å</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Profile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://i.imgur.com/MK3eW3Am.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Katherine Johnson&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è™½ç„¶é‡Œé¢æœ‰<em>src</em>ã€<em>alt</em>ï¼Œä½†æ˜¯å®åˆ™ä¸º JavaScriptï¼Œè¿™ç§å†™æ³•å«</li>
<li>React ä¼šä»¥å¤§å°å†™æ¥åŒºåˆ† HTML æ ‡ç­¾å’Œ React ç»„ä»¶</li>
</ul>
<h3 id="ç±»ç»„ä»¶"><a href="#ç±»ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶"></a>ç±»ç»„ä»¶</h3><ul>
<li>ä½¿ç”¨<code>class</code>å…³é”®å­—</li>
<li>ç±»åè¦å¤§å†™å¼€å¤´ï¼Œå¹¶ä¸”ç»§æ‰¿äº<code>React.Component</code></li>
<li>å¿…é¡»æœ‰<code>render()</code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•è¦æœ‰è¿”å›å€¼</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span> (</span><br><span class="line">    	<span class="keyword">return</span> ( <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªç±»ç»„ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º"><a href="#ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º" class="headerlink" title="ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º"></a>ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º</h2><ul>
<li>ä¸€èˆ¬ä¼šå°†ä¸€ä¸ªç»„ä»¶æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ä¸­</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åç¼€åå¯çœç•¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NavMenu</span> <span class="keyword">from</span> <span class="string">&quot;./navMenu.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†…éƒ¨ä½¿ç”¨çš„è¯ï¼Œæ— éœ€å¯¼å‡º</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">HeaderTitle</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Header</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">NavMenu</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HeaderTitle</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Hello.js */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span> (</span><br><span class="line">    	<span class="keyword">return</span> ( <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ç»„ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Hello</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.js */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Hello</span> <span class="keyword">from</span> <span class="string">&quot;./Hello.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥"><a href="#é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥" class="headerlink" title="é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥"></a>é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥</h3><ul>
<li>ä¸€ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡º</li>
</ul>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>å¯¼å‡º</th>
<th>å¯¼å…¥</th>
</tr>
</thead>
<tbody><tr>
<td>é»˜è®¤</td>
<td><code>export default function Button() &#123;&#125;</code></td>
<td><code>import Button from &#39;./Button.js&#39;;</code></td>
</tr>
<tr>
<td>å‘½å</td>
<td><code>export function Button() &#123;&#125;</code></td>
<td><code>import &#123; Button &#125; from &#39;./Button.js&#39;;</code></td>
</tr>
</tbody></table>
<ul>
<li>é»˜è®¤å¯¼å‡ºï¼Œå¯¼å…¥çš„æ—¶å€™ï¼Œå¯¼å…¥åå­—éšä¾¿å†™</li>
<li>å‘½åçš„æ—¶å€™ï¼Œåå­—éœ€è¦å¯¹åº”</li>
</ul>
<p>è™½ç„¶é»˜è®¤å¯¼å‡º<code>export default () =&gt; &#123;&#125;</code>æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¸æ¨èæ²¡æœ‰åå­—</p>
<h2 id="äº‹ä»¶å¤„ç†"><a href="#äº‹ä»¶å¤„ç†" class="headerlink" title="äº‹ä»¶å¤„ç†"></a>äº‹ä»¶å¤„ç†</h2><h3 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><ul>
<li><code>on+äº‹ä»¶åç§°=&#123;äº‹ä»¶å¤„ç†ç¨‹åº&#125;</code>ï¼Œ<code>onClick=&#123;()=&gt;&#123;&#125;&#125;</code></li>
<li>é©¼å³°å¼å‘½å</li>
</ul>
<blockquote>
<p>äº‹ä»¶å¤„ç†å‡½æ•°å¿…é¡»æ˜¯<strong>ä¼ é€’</strong>è€Œä¸æ˜¯<strong>è°ƒç”¨</strong>ï¼Œå°±æ˜¯è¯´ä¸ç”¨åœ¨å‡½æ•°åé¢åŠ ä¸Šæ‹¬å·</p>
</blockquote>
<p>ç»™ç»„ä»¶æ·»åŠ äº‹ä»¶å¤„ç†ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åä½œä¸º<em>props</em>ä¼ é€’ç»™<code>&lt;button&gt;</code></p>
<ul>
<li>è¿™ä¸ªå‡½æ•°ä¸€èˆ¬åœ¨å½“å‰è¿™ä¸ªç»„ä»¶é‡Œé¢</li>
<li>ä»¥<code>handle</code>å¼€å¤´ï¼š<code>onClick=&#123;handleClick&#125;</code>, <code>onMouseEnter=&#123;handleMouseEnter&#125;</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;You clicked me!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">handleClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è§¦å‘å•å‡»äº‹ä»¶&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h4><ul>
<li>äº‹ä»¶å¤„ç†å™¨ä¼šæ•è·åˆ°å­ç»„ä»¶å¯èƒ½ä¼šæœ‰çš„äº‹ä»¶ï¼šç§°ä¸ºå†’æ³¡æˆ–è€…ä¼ æ’­ï¼›åœ¨äº‹ä»¶å‘ç”Ÿçš„åœ°æ–¹å¼€å§‹ï¼Œç„¶åé¡ºç€ç»„ä»¶æ ‘å¾€ä¸Šä¼ é€’ã€‚æ¯”å¦‚å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶éƒ½æœ‰ç‚¹å‡»äº‹ä»¶ã€‚</li>
</ul>
<blockquote>
<p>æ‰€æœ‰äº‹ä»¶éƒ½ä¼šå†’æ³¡ï¼Œé™¤äº†<code>onScroll</code>ï¼Œåªåœ¨ä½¿ç”¨çš„åœ°æ–¹ä¿ƒå‘</p>
</blockquote>
<p>äº‹ä»¶å¤„ç†å‡½æ•°ä»…æœ‰çš„ä¸€ä¸ªå‚æ•°å°±æ˜¯<em>äº‹ä»¶å¯¹è±¡</em>ï¼Œä¸€èˆ¬ç”¨<code>e</code>æ¥è¡¨ç¤º</p>
<ul>
<li><code>e.stopPropagation()</code> é˜»æ­¢å†’æ³¡</li>
<li>çˆ¶ç»„ä»¶æ·»åŠ <code>onClickCapture=&#123;()=&gt;&#123; /* ... */&#125;&#125;</code> æ•è·å­ç»„ä»¶äº‹ä»¶</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•è·äº‹ä»¶</span></span><br><span class="line">&lt;div onClickCapture=&#123;<span class="function">() =&gt;</span> &#123;&#125;&#125;&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span> =&gt;</span> e.stopPropagation()&#125; /&gt;</span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span> =&gt;</span> e.stopPropagation()&#125; /&gt;</span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">handleClick</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">// é˜»æ­¢é»˜è®¤äº‹ä»¶</span></span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.baidu.com&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        å»ç™¾åº¦</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äº‹ä»¶å¤„ç†å‡½æ•°è¯»å–-props-å’Œä½œä¸º-props-ä¼ é€’"><a href="#äº‹ä»¶å¤„ç†å‡½æ•°è¯»å–-props-å’Œä½œä¸º-props-ä¼ é€’" class="headerlink" title="äº‹ä»¶å¤„ç†å‡½æ•°è¯»å– props å’Œä½œä¸º props ä¼ é€’"></a>äº‹ä»¶å¤„ç†å‡½æ•°è¯»å– props å’Œä½œä¸º props ä¼ é€’</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params">&#123; onClick, children &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onClick&#125;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">PlayButton</span>(<span class="params">&#123; movieName &#125;</span>) &#123;</span><br><span class="line">  <span class="comment">// ä¹‹æ‰€ä»¥åœ¨è¿™å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ˜¯å› ä¸ºå¯¹äº&lt;Button&gt;çš„ä¸åŒè°ƒç”¨æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæ‰€ä»¥ä¸æŠŠå¤„ç†å‡½æ•°æ”¾&lt;button&gt;é‡Œé¢</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handlePlayClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›´æ¥ä½¿ç”¨ props</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`Playing <span class="subst">$&#123;movieName&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è¿™é‡Œçš„onClickå¯¹åº”çš„æ˜¯åŸç”Ÿ&lt;button&gt;é‚£é‡Œçš„onClickï¼Œæ‰€ç¤ºä½¿ç”¨äº†é»˜è®¤å</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;handlePlayClick&#125;</span>&gt;</span>Play &quot;&#123;movieName&#125;&quot;<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Toolbar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">PlayButton</span> <span class="attr">movieName</span>=<span class="string">&quot;Kiki&#x27;s Delivery Service&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°-props-åå­—"><a href="#è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°-props-åå­—" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° props åå­—"></a>è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° props åå­—</h3><ul>
<li>ä½œä¸º props ä¼ é€’æ—¶ä½¿ç”¨çš„åå­—</li>
<li>ä¸Šé¢çš„<code>handlePlayClick</code>ä½œä¸º props ä¼ é€’çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯<code>onClick</code>ï¼Œç®—æ˜¯ä½¿ç”¨äº†é»˜è®¤åå­—</li>
</ul>
<p>ä¸€èˆ¬ä»¥<code>on</code>å¼€å¤´ï¼Œç„¶åé©¼å³°å¼å‘½å</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params">&#123; onSmash, children &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onSmash&#125;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onSmash</span>=<span class="string">&#123;()</span> =&gt;</span> alert(&quot;Playing!&quot;)&#125;&gt;Play Movie<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onSmash</span>=<span class="string">&#123;()</span> =&gt;</span> alert(&quot;Uploading!&quot;)&#125;&gt;Upload Image<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯¹äºåŸç”Ÿçš„ HTML å…ƒç´ ï¼Œè¦å°½é‡ä½¿ç”¨å¯¹åº”åŠŸèƒ½çš„å…ƒç´ å…¶å¯¹åº”çš„äº‹ä»¶ã€‚æ¯”å¦‚ç‚¹å‡»äº‹ä»¶ä¼šç”¨åˆ°<code>&lt;button&gt;</code>è€Œä¸æ˜¯<code>div</code></p>
</blockquote>
<h2 id="state"><a href="#state" class="headerlink" title="state"></a>state</h2><p>éšç€æ—¶é—´æ”¹å˜çš„æ•°æ®å« <em>state</em>ï¼Œå¯¹äºå¯¹è±¡å’Œæ•°ç»„ï¼Œreact æ¨èå®ƒä»¬çš„ä½¿ç”¨æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œè¦æƒ³æ›´æ–°ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„</p>
<h3 id="æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶"><a href="#æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶" class="headerlink" title="æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶"></a>æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶</h3><ul>
<li><del style="color: darkred">æ— çŠ¶æ€ç»„ä»¶ï¼šå‡½æ•°ç»„ä»¶ï¼›æœ‰çŠ¶æ€ç»„ä»¶ï¼šç±»ç»„ä»¶</del> <code>React 16.8</code></li>
<li>çŠ¶æ€ï¼ˆstateï¼‰è´Ÿè´£æ•°æ®</li>
<li><del style="color: darkred;">å‡½æ•°ç»„ä»¶æ²¡çŠ¶æ€ï¼Œå¯ä»¥ç”¨äºå±•ç¤ºæ•°æ®ï¼ˆé™æ€ï¼‰</del> <code>React 16.8</code></li>
<li>ç±»ç»„ä»¶æœ‰è‡ªå·±çŠ¶æ€ï¼Œå¯ä»¥ç”¨äºæ›´æ–°ç•Œé¢ï¼ˆåŠ¨æ€ï¼‰<code>React 16.8 åä¸å†æ˜¯ä¸»æ¨çš„</code></li>
</ul>
<h3 id="state-åŸºæœ¬ä½¿ç”¨-æ–°"><a href="#state-åŸºæœ¬ä½¿ç”¨-æ–°" class="headerlink" title="state åŸºæœ¬ä½¿ç”¨(æ–°)"></a>state åŸºæœ¬ä½¿ç”¨(æ–°)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [index, setIndex] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å˜å€¼</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">setIndex</span>(index + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>useState</code> è¿”å›ä¸¤ä¸ªä¸œè¥¿é€šè¿‡è§£æ„è·å¾—ï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªæ˜¯æ›´æ–°è¿™ä¸ªå€¼äºŒç‚¹æ–¹æ³•</li>
<li>åå­—éšä¾¿èµ·ï¼Œä½†ä¹ æƒ¯ä½¿ç”¨ <code>åå­—</code> å’Œ <code>setåå­—</code></li>
<li>æ¯ä¸ªç»„ä»¶é‡Œçš„ state éƒ½æ˜¯ç‹¬ç«‹çš„</li>
</ul>
<blockquote>
<p><code>use</code>å¼€å¤´çš„<em>Hooks</em>æ–¹æ³•ï¼Œåªå¯åœ¨ç»„ä»¶çš„<strong>top level</strong>æ‰§è¡Œï¼Œä¸å¯å†æ¡ä»¶åˆ¤æ–­ã€åˆ—è¡¨å¾ªç¯ä¸­ä½¿ç”¨</p>
</blockquote>
<h4 id="æ›´æ”¹-å¯¹è±¡-ç±»å‹çš„-state"><a href="#æ›´æ”¹-å¯¹è±¡-ç±»å‹çš„-state" class="headerlink" title="æ›´æ”¹ å¯¹è±¡ ç±»å‹çš„ state"></a>æ›´æ”¹ <em>å¯¹è±¡</em> ç±»å‹çš„ state</h4><p>ç›´æ¥æ›´æ–°å¯¹è±¡é‡Œçš„å±æ€§æ˜¯ä¸ä¼šè§¦å‘é¡µé¢æ›´æ–°çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [position, setPosition] = <span class="title function_">useState</span>(&#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ..</span></span><br><span class="line"></span><br><span class="line">position.<span class="property">x</span> = e.<span class="property">clientX</span>;</span><br><span class="line">position.<span class="property">y</span> = e.<span class="property">clientY</span>;</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶åœ¨æŸäº›æƒ…å†µè¿™æ ·åšä¼šæœ‰æ•ˆï¼Œä½†æ˜¯å¹¶ä¸æ¨èã€‚æ‰€ä»¥è¦ä½¿ç”¨<code>setPosition</code>ä¼ é€’ä¸€ä¸ªæ–°çš„å¯¹è±¡è¿‡å»ï¼Œç„¶åç»„ä»¶é‡æ–°æ¸²æŸ“</p>
<p>é‡ç‚¹æ˜¯ä½¿ç”¨<code>setXXX</code>è¿™ä¸ªå‡½æ•°ï¼Œä¸ç®¡è¦æ›´æ–°çš„å€¼ä»¥ä»€ä¹ˆå½¢å¼å˜åŒ–ï¼Œæ¯”å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nextPosition = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">nextPosition.<span class="property">x</span> = e.<span class="property">clientX</span>;</span><br><span class="line">nextPosition.<span class="property">y</span> = e.<span class="property">clientY</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">setPosition</span>(nextPosition); <span class="comment">// äº‹å®ä¸Šå’Œä¸‹é¢è¿™ä¸ªç›¸åŒ</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setPosition</span>(&#123; <span class="attr">x</span>: e.<span class="property">clientX</span>, <span class="attr">y</span>: e.<span class="property">clientY</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡è¿™æ ·ä¼šæœ‰ä¸ªæ–°çš„é—®é¢˜ï¼Œå°±æ˜¯åªæ˜¯æƒ³è¦æ”¹å˜æŸä¸€ä¸ªå±æ€§çš„å€¼ï¼Œä¸æƒ³è¦æ”¹å˜å…¶ä»–å€¼ã€‚</p>
<ul>
<li>å¦‚æœé‡æ–°å°†æ•´ä¸ªå¯¹è±¡ä¼ ä¸€æ¬¡ï¼Œå±æ€§å¤šäº†ä¼šå¾ˆéº»çƒ¦</li>
</ul>
<p>ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å°†ä¸éœ€è¦æ”¹å˜çš„å¯¹è±¡å±æ€§å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœåªéœ€è¦æ”¹å˜ firstNameï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†</span></span><br><span class="line"><span class="title function_">setPerson</span>(&#123;</span><br><span class="line">  <span class="attr">firstName</span>: e.<span class="property">target</span>.<span class="property">value</span>,</span><br><span class="line">  <span class="attr">lastName</span>: person.<span class="property">lastName</span>,</span><br><span class="line">  <span class="attr">email</span>: person.<span class="property">email</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ ·ä¼˜åŒ–</span></span><br><span class="line"><span class="title function_">setPerson</span>(&#123;</span><br><span class="line">  ...person, <span class="comment">// å¤åˆ¶æ—§çš„å€¼</span></span><br><span class="line">  <span class="attr">firstName</span>: e.<span class="property">target</span>.<span class="property">value</span>, <span class="comment">// ä»…é‡å†™ firstName</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å±•å¼€è¿ç®—ç¬¦ä»…åœ¨å¯¹è±¡çš„ç¬¬ä¸€å±‚èµ·ä½œç”¨ï¼Œå¦‚æœè¦å¤åˆ¶æ›´æ·±å±‚çš„ï¼Œå¾—å¤šæ¬¡ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [person, setPerson] = <span class="title function_">useState</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Niki de Saint Phalle&quot;</span>,</span><br><span class="line">  <span class="attr">artwork</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;Blue Nana&quot;</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;Hamburg&quot;</span>,</span><br><span class="line">    <span class="attr">image</span>: <span class="string">&quot;https://i.imgur.com/Sd1AgUOm.jpg&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>åªæƒ³è¦æ›´æ–° <em>artwork</em> çš„ <em>city</em></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nextArtwork = &#123; ...person.<span class="property">artwork</span>, <span class="attr">city</span>: <span class="string">&quot;New Delhi&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> nextPerson = &#123; ...person, <span class="attr">artwork</span>: nextArtwork &#125;;</span><br><span class="line"><span class="title function_">setPerson</span>(nextPerson);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…ç›´æ¥åœ¨é‡Œé¢</span></span><br><span class="line"><span class="title function_">setPerson</span>(&#123;</span><br><span class="line">  ...person, <span class="comment">// Copy other fields</span></span><br><span class="line">  <span class="attr">artwork</span>: &#123;</span><br><span class="line">    <span class="comment">// but replace the artwork</span></span><br><span class="line">    ...person.<span class="property">artwork</span>, <span class="comment">// with the same one</span></span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;New Delhi&quot;</span>, <span class="comment">// but in New Delhi!</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>â” å…¶ä»–æƒ…å†µï¼šæ›´æ”¹ <code>obj3.artwork</code>ï¼Œ<code>obj1</code> å’Œ <code>obj2.artwork</code> ä¹Ÿä¼šæ”¹å˜ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Blue Nana&quot;</span>,</span><br><span class="line">  <span class="attr">city</span>: <span class="string">&quot;Hamburg&quot;</span>,</span><br><span class="line">  <span class="attr">image</span>: <span class="string">&quot;https://i.imgur.com/Sd1AgUOm.jpg&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Niki de Saint Phalle&quot;</span>,</span><br><span class="line">  <span class="attr">artwork</span>: obj1,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Copycat&quot;</span>,</span><br><span class="line">  <span class="attr">artwork</span>: obj1,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="æ›´æ–°-æ•°ç»„-ç±»å‹çš„-state"><a href="#æ›´æ–°-æ•°ç»„-ç±»å‹çš„-state" class="headerlink" title="æ›´æ–° æ•°ç»„ ç±»å‹çš„ state"></a>æ›´æ–° <em>æ•°ç»„</em> ç±»å‹çš„ state</h4><ul>
<li>åŒæ ·æ¨èä¸å¯å˜ï¼ˆimmutableï¼‰ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨<code>arr[0] = &quot;qaq&quot;</code>æ¥ä¿®æ”¹å…¶ä¸­çš„å€¼</li>
<li>åŒæ ·ä¹Ÿä¸æ¨èä½¿ç”¨<code>pop()</code>ã€<code>push()</code>ç­‰æ–¹æ³•æ¥æ”¹å˜å®ƒ</li>
<li>æ¨èä»æ—§æ•°ç»„çš„åŸºç¡€ä¸Šåˆ›å»ºæ–°çš„æ•°ç»„ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸ä¼šæ”¹å˜æ—§æ•°ç»„çš„æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚<code>filter()</code>ã€<code>map()</code></li>
</ul>
<p>React ä¸­ state ä¸­æ•°ç»„çš„æ“ä½œæ–¹æ³•æ¨èï¼ˆé¿å…ä½¿ç”¨è¯¥ç™¾å¹´æ•°ç»„çš„ï¼Œæ¨èä½¿ç”¨è¿”å›æ–°æ•°ç»„çš„ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>é¿å…</th>
<th>æ¨è</th>
</tr>
</thead>
<tbody><tr>
<td>æ·»åŠ </td>
<td>push, unshift</td>
<td>concat, [â€¦arr]</td>
</tr>
<tr>
<td>åˆ é™¤</td>
<td>pop, shift, splice</td>
<td>filter, slice</td>
</tr>
<tr>
<td>æ›¿æ¢</td>
<td>splice, arr[i]&#x3D;xx</td>
<td>map</td>
</tr>
<tr>
<td>æ’åº</td>
<td>reverse, sort</td>
<td>å…ˆå¤åˆ¶è¿™ä¸ªæ•°ç»„</td>
</tr>
</tbody></table>
<p><strong>æ·»åŠ å†…å®¹</strong>ï¼šå’Œå¯¹è±¡ä¸€æ ·ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥å¤åˆ¶ä»¥è¾¾åˆ°æ”¹å˜æŸä¸€ä¸ªå€¼çš„ç›®çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [artists, setArtists] = <span class="title function_">useState</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="title function_">setArtists</span>(</span><br><span class="line">  <span class="comment">// Replace the state</span></span><br><span class="line">  [</span><br><span class="line">    <span class="comment">// with a new array</span></span><br><span class="line">    ...artists, <span class="comment">// that contains all the old items</span></span><br><span class="line">    &#123; <span class="attr">id</span>: nextId++, <span class="attr">name</span>: name &#125;, <span class="comment">// and one new item at the end</span></span><br><span class="line">  ]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>è¦æ”¹å˜æ–°æ’å…¥å€¼çš„ä½ç½®ï¼Œå°†æ–°æ’å…¥çš„å€¼è¿™è¡Œæ”¾åˆ°æ‰©å±•è¿ç®—çš„ä¸Šé¢å°±è¡Œ</li>
</ul>
<p><strong>åˆ é™¤å†…å®¹</strong>ï¼šæœ€ç®€å•çš„å°±æ˜¯è¿‡æ»¤æ‰è¿™ä¸ªä¸éœ€è¦çš„ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸ªæ–°æ•°ç»„çš„ä¸åŒ…å«è¿™ä¸ªè¦åˆ é™¤çš„å†…å®¹</p>
<p><strong>æ›¿æ¢å†…å®¹</strong>ï¼šåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä½¿ç”¨<code>map</code>ï¼Œå¦‚æœç¬¦åˆï¼Œæ”¹å˜è¿™ä¸ªå€¼ç„¶åè¿”å›ï¼Œä¸ç¬¦åˆçš„è¿”å›åŸæ¥çš„æ ·å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [counters, setCounters] = <span class="title function_">useState</span>([xx, xxx]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nextCounters = counters.<span class="title function_">map</span>(<span class="function">(<span class="params">c, i</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (i === index) &#123;</span><br><span class="line">    <span class="comment">// +1</span></span><br><span class="line">    <span class="keyword">return</span> c + <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸æ”¹å˜</span></span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">setCounters</span>(nextCounters);</span><br></pre></td></tr></table></figure>

<p><strong>æ’å…¥å†…å®¹</strong>ï¼šç¡®å®šè¦æ·»åŠ çš„ä½ç½®ï¼Œç„¶åä½¿ç”¨<code>slice</code>åˆ†å‰²æ•°ç»„ï¼Œå°†è¦æ·»åŠ çš„æ”¾åˆ°ä¸¤ä¸ªåˆ‡ç‰‡ä¸­é—´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [artists, setArtists] = <span class="title function_">useState</span>([xxx, xx, x]);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> insertAt = <span class="number">1</span>; <span class="comment">// ä»»ä½•è¦æ’å…¥çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">const</span> nextArtists = [</span><br><span class="line">  <span class="comment">// æ’å…¥ç‚¹å‰:</span></span><br><span class="line">  ...artists.<span class="title function_">slice</span>(<span class="number">0</span>, insertAt),</span><br><span class="line">  <span class="comment">// è¦æ’å…¥çš„:</span></span><br><span class="line">  &#123; <span class="attr">id</span>: nextId++, <span class="attr">name</span>: name &#125;,</span><br><span class="line">  <span class="comment">// æ’å…¥ç‚¹å:</span></span><br><span class="line">  ...artists.<span class="title function_">slice</span>(insertAt),</span><br><span class="line">];</span><br><span class="line"><span class="title function_">setArtists</span>(nextArtists);</span><br></pre></td></tr></table></figure>

<p><strong>å…¶ä»–æ“ä½œ</strong>ï¼šæ¯”å¦‚ <em>åè½¬</em>ï¼Œ<em>æ’åº</em>ï¼Œjs æ–¹æ³•ä¼šæ”¹å˜æ—§çš„æ•°ç»„ï¼Œæ‰€ä»¥è¦å…ˆå¤åˆ¶å‡ºä¸€ä¸ªæ•°ç»„ç„¶åå†åšå‡ºæ”¹å˜ï¼Œå¦‚<code>nextList.sort()</code>ï¼Œ<code>nextList[0] = &#123;name: &quot;zs&quot;, age: 18&#125;</code></p>
<blockquote>
<p>å¯¹äºæ•°ç»„ <em>list</em> å’Œ <em>nextList</em>ï¼Œè™½ç„¶ä¸æ˜¯ç›¸åŒçš„æ•°ç»„ï¼Œä½†æ˜¯<code>list[0]</code>å’Œ<code>nextList[0]</code>æŒ‡å‘çš„æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥ç›´æ¥<code>nextList[0].age=19</code>è¿™æ ·çš„è¿˜æ˜¯ä¸æ¨èçš„ï¼Œå› ä¸ºè¿™æ˜¯æµ…æ‹·è´ï¼Œæ˜¯ç›´æ¥æ”¹æ‰äº†å¯¹è±¡é‡Œé¢çš„ä¸œè¥¿</p>
</blockquote>
<p><strong>ğŸ‘‰ æ›´æ–°æ•°ç»„é‡Œé¢çš„å¯¹è±¡</strong></p>
<p>å¯¹è±¡å…¶å®å¹¶ä¸æ˜¯å†æ•°ç»„é‡Œé¢çš„ï¼Œåªæ˜¯åœ¨ä»£ç è¿™é‡Œçœ‹èµ·æ¥æ˜¯åœ¨é‡Œé¢ï¼›ä½†äº‹å®ä¸Šå½“ä½¿ç”¨æ•°ç»„æ—¶ï¼ˆè™½ç„¶å·²ç»ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦å¤åˆ¶å‡ºä¸åŒçš„æ•°ç»„ï¼‰ï¼Œå°è¯•æ”¹å˜å…¶ä¸­æ•°ç»„å†…å…ƒç´ çš„å€¼ï¼Œå¦å¤–çš„å¼•ç”¨ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼Œå› ä¸ºæ•°ç»„å®ƒå†…å®¹æœ¬èº«è¿˜æ˜¯å’Œæ—§æ•°ç»„ä¸€æ ·ï¼Œåªæ˜¯åœ¨æ–°çš„æ•°ç»„é‡Œé¢å‘†ç€ç½¢äº†</p>
<p>æ‰€ä»¥æ”¹å˜æ•°ç»„é‡Œé¢ä½ çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨<code>map</code>æ‰¾å‡ºè¦æ”¹å˜çš„å¯¹è±¡ï¼Œç„¶åä½¿ç”¨æ›´æ–°å¯¹è±¡çš„æ–¹æ³•æ›´æ–°ç›®æ ‡å¯¹è±¡</p>
<h3 id="state-åŸºæœ¬ä½¿ç”¨"><a href="#state-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="state åŸºæœ¬ä½¿ç”¨"></a>state åŸºæœ¬ä½¿ç”¨</h3><ul>
<li>ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ç»„ä»¶å†…éƒ¨<strong>ç§æœ‰</strong>çš„æ•°æ®ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.component</span> &#123;</span><br><span class="line">  <span class="title function_">construtor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ES6 ä¸­ç±»çš„ç»§æ‰¿ä¸­è¦æ±‚è¦æœ‰çš„ï¼Œå¦‚æœæœ‰å‚æ•°å°±å¾—åœ¨å…¶ä¸­ä¼ é€’</span></span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–state</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">            this.setState(&#123; count: this.state.count + 1 &#125;);</span></span><br><span class="line"><span class="language-xml">          &#125;&#125;</span></span><br><span class="line"><span class="language-xml">        &gt;</span></span><br><span class="line"><span class="language-xml">          +1</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>â— æ³¨ï¼šä¸èƒ½ç›´æ¥ä¿®æ”¹ state ä¸­çš„å€¼ï¼š<code>this.state.count++</code>ï¼Œè¿™æ ·æ˜¯é”™çš„</li>
</ul>
<p>ä¸Šé¢çš„è¯­æ³•æœ‰ä¸ªç®€åŒ–ç‰ˆçš„ï¼Œå»æ‰äº†æ„é€ å™¨å’Œ super</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="this-æŒ‡å‘é—®é¢˜è§£å†³-1"><a href="#this-æŒ‡å‘é—®é¢˜è§£å†³-1" class="headerlink" title="this æŒ‡å‘é—®é¢˜è§£å†³ 1"></a>this æŒ‡å‘é—®é¢˜è§£å†³ 1</h3><ul>
<li>ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.component</span> &#123;</span><br><span class="line">  <span class="title function_">construtor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å°†äº‹å‡å¤„ç†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œä¼šå¸¦æ¥thisæŒ‡å‘é—®é¢˜,ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³</span></span><br><span class="line">  <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.add()&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>â— æ³¨ï¼šåœ¨<code>&lt;button&gt;</code>ä¸­è°ƒç”¨æ—¶ï¼Œå‡½æ•°åé¢<strong>è¦</strong>åŠ ä¸Š<code>()</code></li>
</ul>
<h3 id="this-æŒ‡å‘é—®é¢˜è§£å†³-2"><a href="#this-æŒ‡å‘é—®é¢˜è§£å†³-2" class="headerlink" title="this æŒ‡å‘é—®é¢˜è§£å†³ 2"></a>this æŒ‡å‘é—®é¢˜è§£å†³ 2</h3><ul>
<li>åˆ©ç”¨ ES5 ä¸­çš„<code>bind</code>æ–¹æ³•ç»‘å®š this</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.component</span> &#123;</span><br><span class="line">  <span class="title function_">construtor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="comment">// å°†äº‹å‡å¤„ç†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œä¼šå¸¦æ¥thisæŒ‡å‘é—®é¢˜,ä½¿ç”¨bind()ç»‘å®š</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">add</span> = <span class="variable language_">this</span>.<span class="property">add</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.add&#125;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>â— æ³¨ï¼šåœ¨<code>&lt;button&gt;</code>ä¸­è°ƒç”¨æ—¶ï¼Œè¿™é‡Œå·²ç»ä¸æ˜¯å‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥å‡½æ•°åé¢<strong>ä¸ç”¨</strong>åŠ ä¸Š<code>()</code></li>
</ul>
<h3 id="this-æŒ‡å‘é—®é¢˜è§£å†³-3"><a href="#this-æŒ‡å‘é—®é¢˜è§£å†³-3" class="headerlink" title="this æŒ‡å‘é—®é¢˜è§£å†³ 3"></a>this æŒ‡å‘é—®é¢˜è§£å†³ 3</h3><p>åŸºäºä¸Šé¢çš„å†…å®¹ï¼Œåªéœ€è¦ä¿®æ”¹<code>add()</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">add = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™æ˜¯å®éªŒæ€§è¯­æ³•ï¼Œä½†æ˜¯åœ¨<code>babel</code>ä¸­ä½¿ç”¨ä¸å¿…æ‹…å¿ƒ</li>
</ul>
<h2 id="è¡¨å•å¤„ç†"><a href="#è¡¨å•å¤„ç†" class="headerlink" title="è¡¨å•å¤„ç†"></a>è¡¨å•å¤„ç†</h2><h3 id="å—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶</h3><ul>
<li>HTML ä¸­çš„çŠ¶æ€ï¼ˆæ•°æ®ï¼‰æ˜¯å…ƒç´ è‡ªå·±æ§åˆ¶çš„ï¼Œä½†æ˜¯åœ¨ React ä¸­è¦åœ¨ state ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ setState æ¥ä¿®æ”¹</li>
<li>è§£å†³è¿™ä¸ªå†²çªï¼ŒReact å°†<code>state</code>å’Œå…ƒç´ çš„<code>value</code>ç»‘å®šåœ¨ä¸€èµ·</li>
<li>å—æ§ç»„ä»¶ï¼Œå°±æ˜¯å…¶å€¼æ˜¯å—åˆ° React æ§åˆ¶çš„</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œä½¿ç”¨ç®€å†™å½¢å¼</span></span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">txt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;gz&quot;</span>,</span><br><span class="line">    <span class="attr">isCheck</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  handleChange = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">txt</span>: e.<span class="property">target</span>.<span class="property">value</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  handleCity = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">city</span>: e.<span class="property">target</span>.<span class="property">value</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  handleChecked = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">isCHecked</span>: e.<span class="property">target</span>.<span class="property">checked</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">value</span>=<span class="string">&#123;this.state.txt&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onChange</span>=<span class="string">&#123;this.handleChange&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">value</span>=<span class="string">&#123;this.state.city&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.handleCity&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;sh&quot;</span>&gt;</span>ä¸Šæµ·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;gz&quot;</span>&gt;</span>å¹¿å·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">checked</span>=<span class="string">&#123;this.state.isChecked&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onChange</span>=<span class="string">&#123;this.handleChecked&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ğŸŒ å¯ä»¥å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œä¼˜åŒ–</p>
<ol>
<li>ç»™è¡¨å•å…ƒç´ æ·»åŠ <code>name</code>å±æ€§ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒçš„è¡¨å•å…ƒç´ ï¼Œåç§°ä¸å¯¹åº”çš„<code>state</code>ç›¸åŒã€‚</li>
<li>æ ¹æ®è¡¨å•å…ƒç´ ç±»å‹è·å–å¯¹åº”çš„å€¼ã€‚ï¼ˆvalueã€checkedï¼‰</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">txt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;gz&quot;</span>,</span><br><span class="line">    <span class="attr">isCheck</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  handleForm = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰DOMå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> target = e.<span class="property">target</span>;</span><br><span class="line">    <span class="comment">// æ ¹æ®ç±»å‹è·å–å€¼</span></span><br><span class="line">    <span class="keyword">const</span> value = target.<span class="property">type</span> === <span class="string">&quot;checkbox&quot;</span> ? target.<span class="property">checked</span> : target.<span class="property">value</span>;</span><br><span class="line">    <span class="comment">// è·å–name</span></span><br><span class="line">    <span class="keyword">const</span> name = target.<span class="property">name</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸‹é¢çš„nameæ²¡æœ‰[]ï¼Œä»£è¡¨çš„æ˜¯åœ¨stateæ–°å¢ä¸€ä¸ªnameå±æ€§ï¼›ä½¿ç”¨[]è¡¨ç¤ºä¿®æ”¹stateå¯¹è±¡ä¸­å¯¹åº”çš„å€¼</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      [name]: value,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">name</span>=<span class="string">&quot;txt&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">value</span>=<span class="string">&#123;this.state.txt&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onChange</span>=<span class="string">&#123;this.handleForm&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;city&quot;</span> <span class="attr">value</span>=<span class="string">&#123;this.state.city&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;this.handleForm&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;sh&quot;</span>&gt;</span>ä¸Šæµ·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;bj&quot;</span>&gt;</span>åŒ—äº¬<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;gz&quot;</span>&gt;</span>å¹¿å·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">name</span>=<span class="string">&quot;isChecked&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">checked</span>=<span class="string">&#123;this.state.isChecked&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onChange</span>=<span class="string">&#123;this.handleForm&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="éå—æ§ç»„ä»¶"><a href="#éå—æ§ç»„ä»¶" class="headerlink" title="éå—æ§ç»„ä»¶"></a>éå—æ§ç»„ä»¶</h3><blockquote>
<p>é€šè¿‡<code>ref</code>ï¼Œä½¿ç”¨åŸç”Ÿ DOM æ¥è·å–è¡¨å•å…ƒç´ çš„å€¼</p>
</blockquote>
<ol>
<li>åˆ›å»ºä¸€ä¸ª ref å¯¹è±¡</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>) &#123;    <span class="variable language_">super</span>()    <span class="comment">// thisç‚¹åé¢è¿™ä¸ªåå­—éšä¾¿å–    this.txtRef = React.createRef()&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å°†åˆ›å»ºå¥½çš„ ref å¯¹è±¡æ”¾åˆ°ç›®æ ‡å…ƒç´ ä¸­</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> ref=&#123;<span class="variable language_">this</span>.<span class="property">txtRef</span>&#125; /&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>é€šè¿‡ ref è·å–åˆ°ç›®æ ‡å…ƒç´ çš„å€¼</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">txtRef</span>.<span class="property">current</span>.<span class="property">value</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>react ä¸­ä¸æ¨èç›´æ¥æ“ä½œ DOM</p>
</blockquote>
<h2 id="ä¿æŒç»„ä»¶æ•´æ´"><a href="#ä¿æŒç»„ä»¶æ•´æ´" class="headerlink" title="ä¿æŒç»„ä»¶æ•´æ´"></a>ä¿æŒç»„ä»¶æ•´æ´</h2><p><code>1ï¼š</code> ç»„ä»¶å°±åƒæ˜¯å…¬å¼ï¼Œä¸ä¼šæœ‰æ„æ–™ä¹‹å¤–çš„ç»“æœï¼Œæ¯”å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">double</span>(<span class="params">number</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> * number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€ç›´ä¼  2 å®ƒä¸€ç›´è¿”å› 4ï¼›ä¼  4ï¼Œå°±è¿”å› 8ï¼›</li>
</ul>
<p><code>2ï¼š</code> ä¿æŒä¸ºä¸€ä¸ªçº¯å‡½æ•°ï¼Œåªç®¡è‡ªå·±çš„äº‹ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªç»„ä»¶ä¹‹å‰ï¼Œä¸ä¼šæ”¹å˜å­˜åœ¨çš„å˜é‡æˆ–å¯¹è±¡</p>
<p>âŒ ä¸å¥½çš„ç¤ºä¾‹ï¼šæ¯ä½¿ç”¨ä¸€æ¬¡ç»„ä»¶<code>guest</code>çš„å€¼å¢åŠ äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> guest = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Cup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// Bad: changing a preexisting variable!</span></span><br><span class="line">  guest = guest + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Tea cup for guest #&#123;guest&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">TeaSet</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Cup</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Cup</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Cup</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ­£ç¡®åšæ³•æ˜¯é€šè¿‡<code>propså°†å€¼ä¼ è¿›å»</code></li>
<li>æˆ–è€…å°†æ•°æ®åœ¨<code>TeaSet</code>ä¸­æ“ä½œ</li>
</ul>
<p><code>3ï¼š</code> â€œå‰¯ä½œç”¨â€ ä¸éœ€è¦ä¿æŒæ•´æ´ï¼Ÿ</p>
<p>å°±æ˜¯ä¸€äº› äº‹ä»¶å¤„ç†å™¨ ä¸éœ€è¦ è¿™æ ·ï¼Œå› ä¸ºæ¸²æŸ“çš„æ—¶å€™å®ƒä»¬å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ç­‰æ—¶é—´è§¦å‘ã€‚æ‰€ä»¥åœ¨è¿™å¯ä»¥æ”¹å˜ä¸€äº›ç”¨æˆ·çš„è¾“å…¥ã€å“åº”ç­‰</p>
<p><code>TBR:</code> <a target="_blank" rel="noopener" href="https://react.dev/learn/keeping-components-pure">Keeping Components Pure</a></p>
<h1 id="ç»„ä»¶è¿›é˜¶"><a href="#ç»„ä»¶è¿›é˜¶" class="headerlink" title="ç»„ä»¶è¿›é˜¶"></a>ç»„ä»¶è¿›é˜¶</h1><h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><ul>
<li>æ¥æ”¶ä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®</li>
<li>ä¼ é€’æ•°æ®ï¼šç»™ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§</li>
<li>æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶é€šè¿‡å‚æ•°<code>props</code>æ¥æ”¶æ•°æ®ï¼Œç±»ç»„ä»¶é€šè¿‡<code>this.props</code>æ¥æ”¶æ•°æ®</li>
<li><code>props</code>åªå¯è¯»</li>
</ul>
<p>props æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸æ˜¯ç»„ä»¶è¢«åˆ›å»ºä¹‹åå°±å†™æ­»äº†çš„</p>
<ul>
<li>ä½†æ˜¯ props æ˜¯ä¸å¯å˜å¯¹è±¡</li>
<li>å½“ç»„ä»¶è¦æ”¹å˜å®ƒçš„ propsï¼Œé¦–å…ˆä¼šå‘çˆ¶ç»„ä»¶è¯·æ±‚æ‰€éœ€æ•°æ®æ¥ä¼ é€’ä¸åŒçš„ props</li>
<li>æ—§çš„ props è¢«ä¸¢å¼ƒï¼Œéšåè¢« JavaScript å¼•æ“å›æ”¶è¿™ä¸ª props å çš„å†…å­˜</li>
</ul>
<blockquote>
<p>ä¸è¦ç›´æ¥æ”¹å˜ props çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨ <code>set state</code></p>
</blockquote>
<p><code>æ–°---</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Profile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Avatar</span> <span class="attr">person</span>=<span class="string">&#123;&#123;</span> <span class="attr">name:</span> &quot;<span class="attr">Lin</span> <span class="attr">Lanying</span>&quot;, <span class="attr">imageId:</span> &quot;<span class="attr">1bX5QH6</span>&quot; &#125;&#125; <span class="attr">size</span>=<span class="string">&#123;100&#125;</span> /&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œçš„å‚æ•°ä¹Ÿå¯ä»¥ä¸å±•å¼€ï¼Œç›´æ¥ç”¨ä¸ªå¯¹è±¡ï¼Œæ•ˆæœä¸€æ ·ã€‚ä¸è¿‡å¯èƒ½é€šå¸¸ä¸éœ€è¦æ•´ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * å¦‚æœè§£æ„ï¼Œä¸è¦å¿˜äº†å¤§æ‹¬å·</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Avatar</span>(<span class="params">&#123; person, size &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">img</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">className</span>=<span class="string">&quot;avatar&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">src</span>=<span class="string">&#123;getImageUrl(person)&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">alt</span>=<span class="string">&#123;person.name&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">width</span>=<span class="string">&#123;size&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">height</span>=<span class="string">&#123;size&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getImageUrl</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŒ‡å®šé»˜è®¤å€¼</strong></p>
<p>å’Œ js ä¸€æ ·ï¼Œåœ¨å‚æ•°é‚£æŒ‡å®šå°±è¡Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Avatar</span>(<span class="params">&#123; person, size = <span class="number">10</span> &#125;</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ²¡ä¼ é€’ <em>size</em> çš„æ—¶å€™ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œæˆ–è€…æ˜¯ä¼ é€’ <code>size=&#123;undefined&#125;</code></li>
<li><code>size=&#123;null&#125;</code>æˆ–è€…<code>size=&#123;0&#125;</code>ï¼Œä¸ä¼šä½¿ç”¨é»˜è®¤å€¼</li>
</ul>
<p><strong>æ›´ç®€æ´çš„ä¼ é€’ props</strong></p>
<blockquote>
<p>å‰ææ˜¯è¦æƒ³å¥½ä½¿ç”¨åœºæ™¯ï¼Ÿæ¯”å¦‚çˆ¶ç»„ä»¶å°±æ˜¯éœ€è¦è§£æ„ï¼Œé‚£æ²¡åŠæ³•</p>
</blockquote>
<p>ä¸ç®€æ´çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Profile</span>(<span class="params">&#123; person, size, isSepia, thickBorder &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Avatar</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">person</span>=<span class="string">&#123;person&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">size</span>=<span class="string">&#123;size&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">isSepia</span>=<span class="string">&#123;isSepia&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">thickBorder</span>=<span class="string">&#123;thickBorder&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™é‡Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°çš„ props ç„¶ååˆåŸå°ä¸åŠ¨å†å†™ä¸€æ¬¡ä¼ ç»™å­ç»„ä»¶ï¼Œæœ‰ç‚¹éº»çƒ¦</li>
</ul>
<p>å¯ä»¥è¿™æ ·</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Profile</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Avatar</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>æ—§---</code></p>
<p>å‡½æ•°ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. æ¥æ”¶æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Hello</span> = props =&gt; &#123;</span><br><span class="line">  <span class="comment">// propsæ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 1. ä¼ é€’å‚æ•°</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span> <span class="attr">name</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">age</span>=<span class="string">&#123;10&#125;</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>ç±»ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. æ¥æ”¶æ•°æ®</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// å¦‚æœä½¿ç”¨æ„é€ å™¨ï¼Œsuperçš„å‚æ•°å¿…é¡»ä¼ propsï¼ˆåªé’ˆå¯¹æ„é€ å™¨é‡Œé¢ï¼‰</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä¸Šé¢æ„é€ å™¨çš„superä¼ ä¸ä¼ å‚æ•°ï¼Œä¸‹é¢çš„renderéƒ½å¯ä»¥æ¥æ”¶åˆ°props</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.props.age&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;tag&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1. ä¼ é€’å‚æ•°</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">name</span>=<span class="string">&quot;tom&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">age</span>=<span class="string">&#123;10&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">fn</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">      console.log(&quot;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&quot;);</span></span><br><span class="line"><span class="language-xml">    &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    tag=&#123;<span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">  /&gt;</span>,</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¼ é€’éå­—ç¬¦ä¸²çš„å†…å®¹è¦ä½¿ç”¨<code>&#123;&#125;</code>åŒ…èµ·æ¥</p>
</blockquote>
<h2 id="props-æ·±å…¥"><a href="#props-æ·±å…¥" class="headerlink" title="props æ·±å…¥"></a>props æ·±å…¥</h2><h3 id="children-å±æ€§"><a href="#children-å±æ€§" class="headerlink" title="children å±æ€§"></a>children å±æ€§</h3><ul>
<li>ä¼ é€’ JSX ä½œä¸ºå­ç»„ä»¶</li>
</ul>
<p>é€šè¿‡<code>props.children</code>è·å¾—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Avatar</span> <span class="keyword">from</span> <span class="string">&quot;./Avatar.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Card</span>(<span class="params">&#123; children &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;card&quot;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Profile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Card</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Avatar</span> <span class="attr">size</span>=<span class="string">&#123;100&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Card</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç»„ä»¶æ ‡ç­¾å­èŠ‚ç‚¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;props.children&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æ­£å¸¸æƒ…å†µä¸‹ï¼Œprops.children ä¸ºç©º</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ ä¸Šå­èŠ‚ç‚¹åï¼Œprops.children ä¸ºï¼šæˆ‘æ˜¯å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span>&gt;</span>æˆ‘æ˜¯å­èŠ‚ç‚¹<span class="tag">&lt;/<span class="name">App</span>&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<ul>
<li>å­èŠ‚ç‚¹å¯ä»¥ä¸ºä»»æ„çš„<code>jsx</code>è¡¨è¾¾å¼ã€ç»„ä»¶ã€å‡½æ•°</li>
<li>å¦‚æœæ˜¯å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨<code>props.children()</code>ï¼Œå¤–é¢ä¸ç”¨åŠ  {}</li>
</ul>
<h3 id="props-æ ¡éªŒ"><a href="#props-æ ¡éªŒ" class="headerlink" title="props æ ¡éªŒ"></a>props æ ¡éªŒ</h3><ul>
<li>åœ¨åˆ›å»ºç»„ä»¶çš„æ—¶å€™å°±æŒ‡å®š<code>props</code>çš„ç±»å‹æˆ–è€…æ ¼å¼</li>
</ul>
<p>åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆå®‰è£…<code>prop-types</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install props-types</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> arr = props.<span class="property">colors</span>;</span><br><span class="line">  <span class="keyword">const</span> list = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ ¡éªŒ</span></span><br><span class="line"><span class="title class_">App</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="comment">// è§„å®šä¸ºæ•°ç»„ç±»å‹</span></span><br><span class="line">  <span class="attr">colors</span>: <span class="title class_">PropTypes</span>.<span class="property">array</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">App</span> <span class="attr">colors</span>=<span class="string">&#123;[</span>&quot;<span class="attr">red</span>&quot;, &quot;<span class="attr">yellow</span>&quot;]&#125; /&gt;</span></span>,</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>PropTypes.</code>åé¢çš„å°±æ˜¯çº¦æŸè§„åˆ™</li>
</ul>
<p>âš  çº¦æŸè§„åˆ™ï¼š</p>
<ol>
<li>å¸¸è§çš„çº¦æŸç±»å‹ï¼šarrayã€boolã€funcã€numberã€objectã€string</li>
<li>React å…ƒç´ ç±»å‹ï¼šelement</li>
<li>å¿…å¡«é¡¹ï¼šisRequiredï¼ˆåœ¨çº¦æŸè§„åˆ™åç‚¹ä½¿ç”¨ï¼‰</li>
<li>ç‰¹å®šç»“æ„çš„å¯¹è±¡ï¼šshape({ })</li>
<li>â€¦â€¦</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ ¡éªŒ</span></span><br><span class="line"><span class="title class_">App</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">  <span class="attr">fn</span>: <span class="title class_">PropTypes</span>.<span class="property">func</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">tag</span>: <span class="title class_">PropTypes</span>.<span class="property">element</span>,</span><br><span class="line">  <span class="attr">filter</span>: <span class="title class_">PropTypes</span>.<span class="title function_">shape</span>(&#123;</span><br><span class="line">    <span class="attr">area</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> <span class="attr">fn</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;&#125;&#125; /&gt;</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="props-é»˜è®¤å€¼"><a href="#props-é»˜è®¤å€¼" class="headerlink" title="props é»˜è®¤å€¼"></a>props é»˜è®¤å€¼</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ é»˜è®¤å€¼ï¼Œå½“ç»„ä»¶ä¸ä¼ å€¼çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨è¿™ä¸ªé»˜è®¤å€¼</span></span><br><span class="line"><span class="title class_">App</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">pageSize</span>: <span class="number">10</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h2><ul>
<li>ç”¨äºç»„ä»¶å¤ç”¨</li>
<li>å¤ç”¨ state å’Œæ“ä½œ state çš„æ–¹æ³•</li>
</ul>
<h3 id="render"><a href="#render" class="headerlink" title="render"></a>render</h3><blockquote>
<p>è¿™ä¸ª render åå­—æ˜¯éšä¾¿å–çš„</p>
</blockquote>
<p>ä½¿ç”¨ç»„ä»¶æ—¶æ‹¿åˆ°ç»„ä»¶å†…éƒ¨çš„ propsï¼Œå¯ä»¥ç»™ç»„ä»¶æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åé€šè¿‡å‡½æ•°çš„å‚æ•°æ¥è·å–ã€‚<code>&lt;Mouse render=&#123; (mouse) =&gt; &#123;&#125; &#125; /&gt;</code>ï¼Œç„¶åå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºé¡µé¢è¦æ¸²æŸ“çš„ç»“æ„ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å›¾ç‰‡å…ˆè¦å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> img <span class="keyword">from</span> <span class="string">&quot;./image/cat.jpg&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“å‰ç»„ä»¶æœ‰çŠ¶æ€ï¼Œä¹Ÿæœ‰ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mouse</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// é¼ æ ‡ç§»åŠ¨å¤„ç†ç¨‹åº</span></span><br><span class="line">  handleMouseMove = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">x</span>: e.<span class="property">clientX</span>,</span><br><span class="line">      <span class="attr">y</span>: e.<span class="property">clientY</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// ç›‘å¬é¼ æ ‡ç§»åŠ¨çš„ä»£ç </span></span><br><span class="line">  <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleMouseMove</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// this.props.renderæ˜¯åœ¨ä½¿ç”¨&lt;Mouse /&gt;çš„æ—¶å€™ä¼ é€’çš„ã€‚è¿™ä¸ªrenderåå­—æ˜¯éšä¾¿çš„ï¼Œç”±&lt;Mouse /&gt;è°ƒç”¨æ—¶æä¾›</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">render</span>(<span class="variable language_">this</span>.<span class="property">state</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">reutrn</span>(</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>render props æ¨¡å¼<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Mouse</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">render</span>=<span class="string">&#123;mouse</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">            return (</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                é¼ æ ‡ä½ç½®ï¼š&#123;mouse.x&#125; &#123;mouse.y&#125;</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            );</span></span><br><span class="line"><span class="language-xml">          &#125;&#125;</span></span><br><span class="line"><span class="language-xml">        /&gt;</span></span><br><span class="line"><span class="language-xml">        &#123;/* å¤ç”¨ä¸€ä¸ª<span class="tag">&lt;<span class="name">Mouse</span> /&gt;</span> */&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Mouse</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">render</span>=<span class="string">&#123;mouse</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">            return (</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">img</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">src</span>=<span class="string">&#123;img&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">alt</span>=<span class="string">&quot;çŒ«&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">position:</span> &quot;<span class="attr">absolute</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">top:</span> &quot;<span class="attr">mouse.y</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">left:</span> &quot;<span class="attr">mouse.x</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              /&gt;</span></span></span><br><span class="line"><span class="language-xml">            );</span></span><br><span class="line"><span class="language-xml">          &#125;&#125;</span></span><br><span class="line"><span class="language-xml">        /&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨<code>class Mouse</code>ä¸­ï¼Œç»„ä»¶æ˜¯è¦è¿”å›å†…å®¹çš„ï¼Œä½†æ˜¯åœ¨å¤ç”¨ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œ<code>class Mouse</code>å¹¶ä¸çŸ¥é“è¦è¿”å›ä»€ä¹ˆï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨<code>&lt;Mouse /&gt;</code>æ—¶å€™æä¾›çš„è¦æ¸²æŸ“çš„å†…å®¹ï¼Œç„¶ååœ¨<code>this.props.render</code>ä¸­æ¥æ”¶</li>
<li>æ„æ€å°±æ˜¯å£°æ˜<code>&lt;Mouse /&gt;</code>ï¼Œå’Œä½¿ç”¨<code>&lt;Mouse /&gt;</code></li>
</ul>
<h3 id="children-å–ä»£-render"><a href="#children-å–ä»£-render" class="headerlink" title="children å–ä»£ render"></a>children å–ä»£ render</h3><p>ğŸ¡ æ ¼å¼ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// åœ¨ class Mouseä¸­ä¿®æ”¹</span></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">children</span>(<span class="variable language_">this</span>.<span class="property">state</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨ä½¿ç”¨&lt;Mouse /&gt;æ—¶</span></span><br><span class="line"><span class="comment">// åŒæ ·ï¼Œåœ¨ä½¿ç”¨æ—¶å‚æ•°å¯¹åº”çš„æ˜¯çŠ¶æ€å€¼ï¼Œè¿”å›å€¼å¯¹åº”çš„æ˜¯è¦æ¸²æŸ“çš„å†…å®¹</span></span><br><span class="line">&lt;<span class="title class_">Mouse</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="function"><span class="params">mouse</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ( <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>é¼ æ ‡ä½ç½®ï¼š&#123;mouse.x&#125; &#123;mouse.y&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span> )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/<span class="title class_">Mouse</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç ä¼˜åŒ–"><a href="#ä»£ç ä¼˜åŒ–" class="headerlink" title="ä»£ç ä¼˜åŒ–"></a>ä»£ç ä¼˜åŒ–</h3><p>æ ¡éªŒ</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Mouse</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">children</span>: <span class="title class_">Proptypes</span>.<span class="property">func</span>.<span class="property">isRequired</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç§»é™¤<code>mousemove</code>äº‹ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    windows.<span class="title function_">removeEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleMouseMove</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ä»¶ä¹‹é—´çš„é€šè®¯"><a href="#ç»„ä»¶ä¹‹é—´çš„é€šè®¯" class="headerlink" title="ç»„ä»¶ä¹‹é—´çš„é€šè®¯"></a>ç»„ä»¶ä¹‹é—´çš„é€šè®¯</h2><h3 id="çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶</h3><ul>
<li>çˆ¶ç»„ä»¶æä¾›è¦ä¼ é€’çš„<code>state</code>æ•°æ®</li>
<li>å­ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§ï¼Œå€¼ä¸º<code>state</code>ä¸­çš„æ•°æ®</li>
<li>å­ç»„ä»¶é€šè¿‡<code>props</code>æ¥æ”¶çˆ¶ç»„ä»¶ä¸­ä¼ é€’çš„æ•°æ®</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">lastName</span>: <span class="string">&quot;tom&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        çˆ¶ç»„ä»¶ï¼š</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Child</span> <span class="attr">name</span>=<span class="string">&#123;this.state.lastName&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­ç»„ä»¶ï¼Œæ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ã€‚&#123;props.name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Parent</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶"><a href="#å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶" class="headerlink" title="å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶"></a>å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶</h3><ul>
<li>çˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼Œç”¨æ¥æ¥æ”¶æ•°æ®ï¼ˆ<strong>è°è¦æ¥æ”¶æ•°æ®ï¼Œè°å°±æä¾›å›è°ƒå‡½æ•°</strong>ï¼‰</li>
<li>å°†æ”¹å‡½æ•°ä½œä¸ºå±æ€§çš„å€¼ï¼Œä¼ é€’ç»™å­ç»„ä»¶</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">parentMsg</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  getChildMsg = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ¥æ”¶å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®&quot;</span>, data);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">parentMsg</span>: data,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        çˆ¶ç»„ä»¶ï¼šç»™å­ç»„ä»¶æä¾›äº†å‡½æ•°</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Child</span> <span class="attr">getMsg</span>=<span class="string">&#123;this.getChildMsg&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.state.parentMsg&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">msg</span>: <span class="string">&quot;ä½ å¥½&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶æä¾›çš„å›è°ƒå‡½æ•°ï¼Œä»è€Œä¼ é€’å†…å®¹</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">getMsg</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        å­ç»„ä»¶ï¼š<span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>ç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…„å¼Ÿç»„ä»¶ä¼ å€¼"><a href="#å…„å¼Ÿç»„ä»¶ä¼ å€¼" class="headerlink" title="å…„å¼Ÿç»„ä»¶ä¼ å€¼"></a>å…„å¼Ÿç»„ä»¶ä¼ å€¼</h3><ul>
<li>å°†è¦å…±äº«çš„æ•°æ®æå‡åˆ°æœ€è¿‘çš„å…¬å…±åº¦ç»„ä»¶ä¸­</li>
<li>å…¬å…±çˆ¶ç»„ä»¶è¦åšçš„äº‹ï¼šæä¾›å…±äº«æ•°æ®ã€æä¾›æ“ä½œå…±äº«æ•°æ®çš„æ–¹æ³•</li>
<li>è¦ä¼ å€¼çš„å­ç»„ä»¶é€šè¿‡<code>props</code>æ¥æ”¶æ•°æ®æˆ–æ˜¯æ¥æ”¶æ“ä½œæ•°æ®çš„æ–¹æ³•</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// æä¾›å…±äº«çŠ¶æ€</span></span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•</span></span><br><span class="line">  add = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Child1</span> <span class="attr">count</span>=<span class="string">&#123;this.state.count&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Child2</span> <span class="attr">add</span>=<span class="string">&#123;this.add&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child1</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;props.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child2</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> props.add()&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Counter</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h3><ol>
<li>ä½¿ç”¨<code>React.createContext()</code>åˆ›å»º<code>Provider</code>å’Œ<code>Consumer</code>ä¸¤ä¸ªç»„ä»¶</li>
<li>ä½¿ç”¨<code>&lt;Provider&gt;</code>å°†çˆ¶ç»„ä»¶åŒ…èµ·æ¥</li>
<li>è®¾ç½®<code>value</code>å±æ€§ï¼Œè¡¨ç¤ºè¦ä¼ é€’çš„å€¼</li>
<li>ä½¿ç”¨<code>&lt;Consumer&gt;</code>ç»„ä»¶æ¥æ”¶æ•°æ®</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Provider</span>, <span class="title class_">Consumer</span> &#125; = <span class="title class_">React</span>.<span class="title function_">createContext</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">value</span>=<span class="string">&quot;pink&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Node</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Node</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">SubNode</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">SubNode</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">SubNode</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Consumer</span>&gt;</span>&#123;data =&gt; <span class="tag">&lt;<span class="name">span</span>&gt;</span>æˆ‘æ˜¯å­èŠ‚ç‚¹ &#123;data&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ğŸ“š <a target="_blank" rel="noopener" href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">è¯¦ç»†æŒ‡å¯¼</a></p>
<ul>
<li>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼šç»„ä»¶ä»è¢«åˆ›å»ºåˆ°æŒ‚è½½åˆ°é¡µé¢ä¸­è¿è¡Œï¼Œå†åˆ°ç»„ä»¶ä¸ç”¨æ—¶å¸è½½çš„è¿‡ç¨‹</li>
<li>åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<p><img src="https://github.com/wojtekmaj/react-lifecycle-methods-diagram/blob/master/src/static/ogimage.png?raw=true" alt="å¸¸ç”¨ç”Ÿå‘½å‘¨æœŸ"></p>
<p>ğŸ’¤ ä¸å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼š<a target="_blank" rel="noopener" href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">ç‚¹æˆ‘</a>ğŸ˜</p>
<table>
<thead>
<tr>
<th>åˆ›å»ºæ—¶</th>
<th>æ›´æ–°æ—¶</th>
<th>å¸è½½æ—¶</th>
</tr>
</thead>
<tbody><tr>
<td>constructorã€æ›´æ–° DOM å’Œ refs æ—¶ã€componentDidMount</td>
<td>constructorã€æ›´æ–° DOM å’Œ refs æ—¶ã€renderã€componentDidUpdate</td>
<td>componentWillUnmount</td>
</tr>
</tbody></table>
<h3 id="åˆ›å»ºæ—¶"><a href="#åˆ›å»ºæ—¶" class="headerlink" title="åˆ›å»ºæ—¶"></a>åˆ›å»ºæ—¶</h3><p>ğŸš² æ‰§è¡Œé¡ºåºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(constructor) --&gt;B(render)</span><br><span class="line">B--&gt;C(componentDidMount)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>é’©å­å‡½æ•°</th>
<th>è§¦å‘æ—¶æœº</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>constructor</td>
<td>åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ€å…ˆæ‰§è¡Œ</td>
<td>1. åˆå§‹åŒ– stateã€2. ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºç»‘å®š this</td>
</tr>
<tr>
<td>render</td>
<td>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</td>
<td>æ¸²æŸ“ç•Œé¢ï¼ˆ<strong>ä¸èƒ½è°ƒç”¨<code>setState()</code></strong>ï¼‰</td>
</tr>
<tr>
<td>componentDidMount</td>
<td>ç»„ä»¶æŒ‚è½½ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å</td>
<td>1. å‘é€ç½‘ç»œè¯·æ±‚ã€2. DOM æ“ä½œ</td>
</tr>
</tbody></table>
<ul>
<li><code>componentDidMount</code>æ˜¯åœ¨<code>render()</code>ã€<code>constructor()</code>å¤–é¢ç›´æ¥å‡½æ•°è°ƒç”¨çš„ï¼Œæ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜</li>
</ul>
<h3 id="æ›´æ–°æ—¶"><a href="#æ›´æ–°æ—¶" class="headerlink" title="æ›´æ–°æ—¶"></a>æ›´æ–°æ—¶</h3><ul>
<li>å¯¼è‡´ç»„ä»¶æ›´æ–°çš„æƒ…å†µï¼šnew propsã€setState()ã€forceUpdate()</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// åªè¦è°ƒç”¨setStateï¼Œé¡µé¢å°±ä¼šé‡æ–°æ¸²æŸ“ï¼Œå°±æ˜¯è°ƒç”¨render</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// å¼ºåˆ¶æ›´æ–°</span></span><br><span class="line">        <span class="comment">// this.forceUpdate()</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">        	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            	<span class="tag">&lt;<span class="name">Counter</span> <span class="attr">count</span>=<span class="string">&#123;this.state.count&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>æ‰“è±†è±†<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­ç»„ä»¶---ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">        	<span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç»Ÿè®¡æ‰“è±†è±†çš„æ¬¡æ•°ï¼š&#123;this.props.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">componentDidUpdate</span>(<span class="params">prevProps</span>) &#123;</span><br><span class="line">    <span class="comment">// æ¯”è¾ƒæ›´æ–°å‰åpropsæ˜¯å¦ç›¸åŒï¼Œè¿›è€Œå†³å®šè¦ä¸è¦é‡æ–°æ¸²æŸ“å†…å®¹</span></span><br><span class="line">    <span class="comment">// prevPropsï¼šä¸Šä¸€æ¬¡props</span></span><br><span class="line">    <span class="comment">// this.propsï¼šå½“å‰props</span></span><br><span class="line">    <span class="keyword">if</span> (prevProps.<span class="property">count</span> !== <span class="variable language_">this</span>.<span class="property">props</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="comment">// TODO</span></span><br><span class="line">        &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;componentDidUpdate&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ğŸš™ æ‰§è¡Œé¡ºåºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(render) --&gt; B(componentDidUpdate)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>é’©å­å‡½æ•°</th>
<th>è§¦å‘æ—¶æœº</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>render</td>
<td>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</td>
<td>æ¸²æŸ“ç•Œé¢</td>
</tr>
<tr>
<td>componentDidUpdate</td>
<td>ç»„ä»¶æ›´æ–°ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å</td>
<td>1. å‘é€ç½‘ç»œè¯·æ±‚ã€2. DOM æ“ä½œã€<strong>å¦‚æœè¦<code>setState()</code>ï¼Œå¿…é¡»æ”¾åœ¨ä¸€ä¸ª<code>if</code>æ¡ä»¶ä¸­</strong></td>
</tr>
</tbody></table>
<ul>
<li>å¦‚æœæ²¡æœ‰åœ¨ if é‡Œé¢è°ƒç”¨ï¼Œå°±ä¼šé€ æˆé€’å½’æ›´æ–°ï¼ˆæ‰§è¡Œå¤ªå¤šæ¬¡ååœä¸‹æ¥æŠ¥é”™ï¼‰</li>
</ul>
<h3 id="å¸è½½æ—¶"><a href="#å¸è½½æ—¶" class="headerlink" title="å¸è½½æ—¶"></a>å¸è½½æ—¶</h3><table>
<thead>
<tr>
<th>é’©å­å‡½æ•°</th>
<th>è§¦å‘æ—¶æœº</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>componentWillUnmount</td>
<td>ç»„ä»¶å¸è½½ï¼ˆä»é¡µé¢æ¶ˆå¤±ï¼‰</td>
<td>æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆå¦‚ï¼šæ¸…ç†å®šæ—¶å™¨ï¼‰</td>
</tr>
</tbody></table>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> &gt; <span class="number">3</span></span><br><span class="line">        ? <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>è±†è±†è¢«æ‰“GGäº†<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">        : <span class="language-xml"><span class="tag">&lt;<span class="name">Counter</span> <span class="attr">count</span>=<span class="string">&#123;this.state.count&#125;</span> /&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">   &lt;button onClick=&#123;<span class="variable language_">this</span>.<span class="property">handleClick</span>&#125;&gt;æ‰“è±†è±†&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// .....</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">componentWillUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è±†è±†è¢«GGï¼Œæˆ‘è¢«è§¦å‘äº†&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h2><ul>
<li>ä¹Ÿæ˜¯ç”¨äºç»„ä»¶çš„å¤ç”¨ï¼ŒåŒ…è£…ç»„ä»¶ï¼Œå¢å¼ºç»„ä»¶çš„åŠŸèƒ½</li>
<li><code>HOC,Higher-Order Component</code>ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¦åŒ…è£…çš„ç»„ä»¶ï¼Œè¿”å›å¢å¼ºåçš„ç»„ä»¶</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">EnhancedComponent</span> = <span class="title function_">withHOC</span>(<span class="title class_">WrappedComponent</span>);</span><br></pre></td></tr></table></figure>

<p>é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªç±»ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œé€šè¿‡ prop å°†å¤ç”¨çš„çŠ¶æ€ä¼ é€’ç»™è¢«åŒ…è£…ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Mouse</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.state</span>&#125; /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŸºæœ¬ä½¿ç”¨-2"><a href="#åŸºæœ¬ä½¿ç”¨-2" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»ºé«˜é˜¶ç»„ä»¶ï¼Œå‚æ•°è¦ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œå› ä¸ºæ˜¯è¦ä½œä¸ºè¢«æ¸²æŸ“çš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">withMouse</span>(<span class="params">WrappedComponent</span>) &#123;</span><br><span class="line">  <span class="comment">// 2. è¯¥ç»„ä»¶æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘</span></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Mouse</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="comment">// 2.1 é¼ æ ‡çŠ¶æ€</span></span><br><span class="line">    state = &#123;</span><br><span class="line">      <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">y</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 2.2 æ§åˆ¶é¼ æ ‡çŠ¶æ€çš„é€»è¾‘</span></span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleMouseMove</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">componentWillUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="variable language_">this</span>.<span class="property">handleMouseMove</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3. æ¸²æŸ“ç»„ä»¶å¹¶ä¸”å°†çŠ¶æ€ä½œä¸ºå‚æ•°ä¼ é€’ã€‚åŒæ ·ä¸æä¾›å…·ä½“ç•Œé¢ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™æä¾›ç•Œé¢</span></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.state</span>&#125; /&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Mouse</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. æµ‹è¯•é«˜é˜¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Position</span> = props =&gt; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    é¼ æ ‡å½“å‰ä½ç½®ï¼š( x: &#123;props.x&#125;, y: &#123;props.y&#125; )</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="comment">// æµ‹è¯•é«˜é˜¶ç»„ä»¶2</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Cat</span> = props =&gt; <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;src&#125;</span> <span class="attr">alt</span>=<span class="string">&quot;cat&quot;</span> /&gt;</span></span>;</span><br><span class="line"><span class="comment">// 5. è·å–å¢å¼ºåçš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MousePosition</span> = <span class="title function_">withMouse</span>(<span class="title class_">Position</span>);</span><br><span class="line"><span class="comment">// è·å–å¢å¼ºåçš„ç»„ä»¶2</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CatPosition</span> = <span class="title function_">withMouse</span>(<span class="title class_">Cat</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 6. æ¸²æŸ“å¢å¼ºåçš„é«˜é˜¶ç»„ä»¶ */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MousePosition</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">CatPosition</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="displayName"><a href="#displayName" class="headerlink" title="displayName"></a>displayName</h3><ul>
<li>åœ¨æµè§ˆå™¨çš„ React å¼€å‘è€…å·¥å…·ä¸­ï¼Œå¤ç”¨çš„ç»„ä»¶åå­—æ˜¾ç¤ºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦è®¾ç½®<code>displayName</code>ï¼Œè®¾ç½®ä¸ä¸€æ ·çš„åå­—ï¼Œä¾¿äºè°ƒè¯•ï¼ˆReact Developer Toolsï¼‰</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">withMouse</span>(<span class="params">WrappedComponent</span>) &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Mouse</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.component</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è®¾ç½®displayName</span></span><br><span class="line">  <span class="title class_">Mouse</span>.<span class="property">displayName</span> = <span class="string">` WithMouse<span class="subst">$&#123;getDisplayName(WrappedComponent)&#125;</span> `</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Mouse</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDisplayName</span>(<span class="params">WrappedComponent</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">WrappedComponent</span>.<span class="property">displayName</span> || <span class="title class_">WrappedComponent</span>.<span class="property">name</span> || <span class="string">&quot;Component&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼ é€’-props"><a href="#ä¼ é€’-props" class="headerlink" title="ä¼ é€’ props"></a>ä¼ é€’ props</h3><ul>
<li>props ä¸¢å¤±</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Position</span> = props =&gt; &#123;</span><br><span class="line">  <span class="comment">// 2. propsä¸­æ²¡å¾—åˆ°a</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      é¼ æ ‡å½“å‰ä½ç½®ï¼š( x: &#123;props.x&#125;, y: &#123;props.y&#125; )</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// 1. åœ¨ç»„ä»¶ä¸­ä¼ é€’å‚æ•°</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MousePosition</span> <span class="attr">a</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨<code>&lt;Mosue /&gt;</code>ä¸­æ˜¯å¯ä»¥å¾—åˆ° props çš„ï¼Œä½†æ˜¯å°±æ²¡å†å¾€ä¸‹ä¼ äº†</li>
</ul>
<p>ä¿®æ”¹ï¼Œåœ¨<code>class Mouse</code>ï¼Œç»§ç»­ä¼ ä¸‹å»</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.state</span>&#125; &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="React-åŸç†"><a href="#React-åŸç†" class="headerlink" title="React åŸç†"></a>React åŸç†</h1><blockquote>
<p>ç»„ä»¶æ›´æ–°æœºåˆ¶ï¼šçˆ¶ç»„ä»¶æ›´æ–°ï¼Œå…¶ä¸‹é¢çš„å­ç»„ä»¶éƒ½ä¼šæ›´æ–°ï¼Œå­ç»„ä»¶çš„å­ç»„ä»¶ä¹Ÿä¼šæ›´æ–°</p>
</blockquote>
<h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><p><em>Hooks</em> æ˜¯ä»…åœ¨ React æ˜¾ç„¶çš„æ—¶å€™å¯ç”¨çš„å‡½æ•°ï¼Œéƒ½æ˜¯ä»¥<code>use</code>å¼€å¤´çš„ï¼Œæ¯”å¦‚<code>useState</code></p>
<h2 id="setState-è¯´æ˜"><a href="#setState-è¯´æ˜" class="headerlink" title="setState è¯´æ˜"></a>setState è¯´æ˜</h2><p>1ï¸âƒ£ <code>setState()</code>æ•°æ®æ›´æ–°æ˜¯å¼‚æ­¥çš„</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 2. å†æ›´æ–°</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>, <span class="comment">// 1+1</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 2.1 å¦‚æœå†æ¬¡è°ƒç”¨</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>, <span class="comment">// 1+1</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 1. å…ˆè¾“å‡º</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;count: &quot;</span>, <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>setState()</code>æ˜¯å¯ä»¥è°ƒç”¨å¤šæ¬¡çš„ï¼Œå› ä¸ºæ˜¯å¼‚æ­¥çš„åŸå› ï¼Œæ‰€ä»¥åé¢<code>setState()</code>çš„æ‰§è¡Œä¸è¦ä¾èµ–å‰é¢æ‰§è¡Œçš„ç»“æœ</li>
<li>ä½†æ˜¯<code>render()</code>åªä¼šæ‰§è¡Œä¸€æ¬¡</li>
</ul>
<p>2ï¸âƒ£ æ¨èè¯­æ³•ï¼š<code>setState( (state, props) =&gt; &#123;&#125; )</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// åŒæ ·ä¹Ÿæ˜¯å¼‚æ­¥æ›´æ–°çš„</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">state, props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span>, <span class="comment">// 1+1</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è°ƒç”¨ä¸¤æ¬¡çš„è¯ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œstateæ˜¯ä¸Šä¸€ä¸ªstateçš„è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">state, props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç¬¬äºŒæ¬¡è°ƒç”¨&quot;</span>, state);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span>, <span class="comment">// 2+1</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;count: &quot;</span>, <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>3ï¸âƒ£ <code>setState()</code>çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°</p>
<ul>
<li>å¦‚æœå¸Œæœ›æ›´æ–°åæ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå›è°ƒå‡½æ•°</li>
<li>åœ¨ DOM æ¸²æŸ“åæ‰§è¡Œï¼ˆå’Œ<code>componentDidMount</code>å¯ä»¥ç›¸äº’ä½¿ç”¨ï¼‰</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(</span><br><span class="line">    <span class="function">(<span class="params">state, props</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span> &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// çŠ¶æ€æ›´æ–°ï¼Œå¹¶ä¸”ç•Œé¢é‡æ–°æ¸²æŸ“åæ‰§è¡Œ</span></span><br><span class="line">    <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;çŠ¶æ€æ›´æ–°å®Œæˆï¼&quot;</span>, <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>);</span><br><span class="line">    &#125; <span class="comment">// 2</span></span><br><span class="line">  );</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;count: &quot;</span>, <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>); <span class="comment">// 1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="JSX-è¯­æ³•è½¬æ¢è¿‡ç¨‹"><a href="#JSX-è¯­æ³•è½¬æ¢è¿‡ç¨‹" class="headerlink" title="JSX è¯­æ³•è½¬æ¢è¿‡ç¨‹"></a>JSX è¯­æ³•è½¬æ¢è¿‡ç¨‹</h2><ul>
<li>JSX ä»…ä»…æ˜¯<code>createElement()</code>çš„è¯­æ³•ç³–ï¼ˆç®€åŒ–è¯­æ³•ï¼‰</li>
<li>JSX è¯­æ³•è¢«<code>@babel/preset-react</code>æ’ä»¶ç¼–è¯‘ä¸º<code>createElement()</code>æ–¹æ³•</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(JSXè¯­æ³•) --&gt; B(createElement) --&gt; C(Reactå…ƒç´ )</span><br></pre></td></tr></table></figure>

<ul>
<li>React å…ƒç´ ï¼šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥æè¿°å¸Œæœ›åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSXè¯­æ³•</span></span><br><span class="line"><span class="keyword">const</span> element = &#123;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;app&quot;</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// createElement()</span></span><br><span class="line"><span class="keyword">const</span> element = <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">	<span class="string">&quot;h1&quot;</span>,</span><br><span class="line">    &#123; <span class="attr">className</span>: <span class="string">&quot;app&quot;</span> &#125;,</span><br><span class="line">    <span class="string">&quot;hello&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reactå…ƒç´ ï¼ˆç®€åŒ–ç»“æ„ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> element = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;h1&quot;</span>,</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">className</span>: <span class="string">&quot;app&quot;</span>,</span><br><span class="line">        <span class="attr">children</span>: <span class="string">&quot;hello&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨ ES6 ä¸­ï¼Œclass å®ç°çš„ç±»å°±æ˜¯ ES5 ä¸­æ„é€ å‡½æ•°å’ŒåŸå½¢çš„è¯­æ³•ç³–ï¼Œå¯ä»¥ä½¿ç”¨<code>typeof</code>æ¥æµ‹ä¸€ä¸‹</p>
</blockquote>
<h2 id="ç»„ä»¶æ€§èƒ½ä¼˜åŒ–"><a href="#ç»„ä»¶æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ç»„ä»¶æ€§èƒ½ä¼˜åŒ–"></a>ç»„ä»¶æ€§èƒ½ä¼˜åŒ–</h2><h3 id="å‡è½»-state"><a href="#å‡è½»-state" class="headerlink" title="å‡è½» state"></a>å‡è½» state</h3><ul>
<li>state ä¸­åªå­˜æ”¾è·Ÿç»„ä»¶æ¸²æŸ“ç›¸å…³çš„æ•°æ®</li>
<li>æ¯”å¦‚åƒå®šæ—¶å™¨ id è¿™æ ·çš„ä¸ç”¨æ”¾åœ¨ state ä¸­ï¼Œç›´æ¥æ”¾åœ¨ this ä¸­ï¼ˆ<code>this.timeId = setTimeout()</code>ï¼‰</li>
</ul>
<h3 id="é¿å…ä¸å¿…è¦çš„æ¸²æŸ“"><a href="#é¿å…ä¸å¿…è¦çš„æ¸²æŸ“" class="headerlink" title="é¿å…ä¸å¿…è¦çš„æ¸²æŸ“"></a>é¿å…ä¸å¿…è¦çš„æ¸²æŸ“</h3><p>1ï¸âƒ£ çˆ¶ç»„ä»¶æ›´æ–°å­ç»„ä»¶ä¹Ÿä¼šè·Ÿç€æ›´æ–°ï¼Œæœ‰æ—¶å€™å­ç»„ä»¶ä¼šè·Ÿç€æœ‰äº›ä¸å¿…è¦çš„æ›´æ–°</p>
<ul>
<li>ä½¿ç”¨é’©å­å‡½æ•°<code>shouldComponentUpdate(nextProps, nextState)</code>ï¼Œé€šè¿‡è¿”å›å€¼å†³å®šè¯¥ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ã€‚<strong>true</strong>é‡æ–°ï¼Œ<strong>false</strong>ä¸é‡æ–°</li>
<li>é’©å­å‡½æ•°è§¦å‘æ—¶æœºï¼šç»„ä»¶é‡æ–°æ¸²æŸ“å‰æ‰§è¡Œã€‚<code>shouldComponentUpdate -&gt; render</code></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  state = &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;;</span><br><span class="line">  handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿”å›falseï¼Œé˜»æ­¢ç»„ä»¶é‡æ–°æ¸²æŸ“</span></span><br><span class="line">    <span class="comment">// return false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å¾—æœ€æ–°çŠ¶æ€</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(nextState);</span><br><span class="line">    <span class="comment">// è·å¾—å½“å‰çŠ¶æ€</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸¾ä¸ªä¾‹å­ï¼ˆå‡è®¾è¿™é‡Œçš„countæ˜¯éšæœºçš„ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (nextState.<span class="property">count</span> === <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç»„ä»¶æ›´æ–°äº†&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¯ç»„ä»¶"><a href="#çº¯ç»„ä»¶" class="headerlink" title="çº¯ç»„ä»¶"></a>çº¯ç»„ä»¶</h3><ul>
<li><code>PureComponent</code>ï¼Œå…¶å†…éƒ¨è‡ªåŠ¨å®ç°äº†<code>shouldComponentUpdate</code>é’©å­ï¼Œä¸éœ€è¦è¿›è¡Œæ‰‹åŠ¨æ¯”è¾ƒ</li>
<li>ç»„ä»¶å†…éƒ¨é€šè¿‡åˆ†åˆ«å¯¹æ¯”å‰åä¸¤æ¬¡<code>props</code>å’Œ<code>state</code>çš„å€¼ï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹ä¸ºçº¿é¢çš„å½¢å¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.PureComponent</span> &#123;</span><br><span class="line">  <span class="comment">// TODO</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çº¯ç»„ä»¶å†…éƒ¨çš„å®ç°æ–¹å¼ï¼š<code>shallow conpare</code>æµ…å±‚å¯¹æ¯”ã€‚</p>
<p>å¯¹äºå€¼ç±»å‹ï¼Œç›´æ¥å¤åˆ¶ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">number</span>: <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> newObj = obj;</span><br><span class="line">newObj.<span class="property">number</span> = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newObj === obj); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>æ¥ç€ä¸Šé¢çš„å¼•ç”¨ç±»å‹ï¼Œè‹¥æœåœ¨ React ä¸­</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">state = &#123; <span class="attr">obj</span>: &#123; <span class="attr">number</span>: <span class="number">0</span> &#125; &#125;;</span><br><span class="line"><span class="comment">// é”™è¯¯åšæ³•</span></span><br><span class="line">state.<span class="property">obj</span>.<span class="property">number</span> = <span class="number">2</span>;</span><br><span class="line"><span class="title function_">setState</span>(&#123; <span class="attr">obj</span>: state.<span class="property">obj</span> &#125;);</span><br><span class="line"><span class="comment">// PureComponentå†…éƒ¨æ¯”è¾ƒï¼šç½ªè¡Œçš„state.obj===ä¸Šæ¬¡çš„state.onjï¼Œè¿”å›trueï¼Œä¸é‡æ–°æ¸²æŸ“</span></span><br></pre></td></tr></table></figure>

<ul>
<li>â— æ‰€ä»¥ï¼š<code>state</code>æˆ–<code>props</code>ä¸­å±æ€§çš„å€¼ä¸ºå¼•ç”¨ç±»å‹æ—¶ï¼Œåº”è¯¥<strong>åˆ›å»ºæ–°çš„æ•°æ®ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹åŸæ•°æ®</strong></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®åšæ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæ–°å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> newObj = &#123; ...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">obj</span>, <span class="attr">number</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">3</span>) &#125;;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">obj</span>: newObj &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯æ•°ç»„ï¼Œä¸ä½¿ç”¨pushï¼Œunshiftè¿™ç§åœ¨åŸå§‹æ•°ç»„ä¸Šæ“ä½œçš„æ–¹å¼</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨concatã€sliceè¿™ç§</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">  <span class="attr">list</span>: [...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>, &#123; æ–°æ•°æ® &#125;],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="è™šæ‹Ÿ-DOM-å’Œ-Diff-ç®—æ³•"><a href="#è™šæ‹Ÿ-DOM-å’Œ-Diff-ç®—æ³•" class="headerlink" title="è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³•"></a>è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³•</h2><ul>
<li>åªè¦<code>state</code>å˜åŒ–å°±é‡æ–°æ¸²æŸ“è§†å›¾ï¼Œæœ‰æ—¶å€™ä¼šæµªè´¹æ€§èƒ½ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”¨åˆ°è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³•</li>
<li>è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œç”¨æ¥æè¿°å¸Œæœ›çœ‹åˆ°çš„å†…å®¹ã€‚ï¼ˆå®é™…ä¸Šå°±æ˜¯ jsx å¯¹è±¡ï¼‰</li>
</ul>
<h3 id="æ‰§è¡Œè¿‡ç¨‹"><a href="#æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹"></a>æ‰§è¡Œè¿‡ç¨‹</h3><ol>
<li>åˆæ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä¼šæ ¹æ®åˆå§‹ Stateã€‚åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡ï¼ˆæ ‘ï¼‰</li>
<li>æ ¹æ®è™šæ‹Ÿ DOM ç”ŸæˆçœŸæ­£çš„ DOM ç„¶åæ¸²æŸ“åˆ°é¡µé¢ä¸­</li>
<li>å½“æ•°æ®å˜åŒ–åï¼ˆsetState()ï¼‰ï¼Œé‡æ–°æ ¹æ®æ–°çš„æ•°æ®ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿ DOM å¯¹è±¡</li>
<li>ä½¿ç”¨<code>diff</code>ç®—æ³•ï¼Œæ‰¾åˆ°ä¸ä¸Šä¸€ä¸ªè™šæ‹Ÿ DOM å¯¹æ¯”ï¼Œç„¶åæ¸²æŸ“éœ€è¦æ›´æ–°çš„å†…å®¹</li>
<li>ç„¶å React åªæ›´æ–°ï¼ˆpatchï¼‰å˜åŒ–çš„å†…å®¹ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸­</li>
</ol>
<p>render æ–¹æ³•çš„è°ƒç”¨å¹¶ä¸æ„å‘³ç€æµè§ˆå™¨ä¸­çš„é‡æ–°æ›´æ–°ï¼Œä»…ä»…è¯´æ˜è¦è¿›è¡Œ diff</p>
<blockquote>
<p>è™šæ‹Ÿ DOM ä¸æ˜¯çœŸæ­£çš„ DOMï¼Œåªè¦å¯ä»¥è¿è¡Œ JavaScript çš„åœ°æ–¹å°±å¯ä»¥ä½¿ç”¨ï¼Œè¿™å°±ä½¿å¾— React å¯ä»¥è„±ç¦»æµè§ˆå™¨è€Œå­˜åœ¨ï¼Œå¯ä»¥åœ¨ Android å’Œ IOS ä¸­ä½¿ç”¨</p>
</blockquote>
<h1 id="Hooks-1"><a href="#Hooks-1" class="headerlink" title="Hooks"></a>Hooks</h1><h2 id="Context-Hooks"><a href="#Context-Hooks" class="headerlink" title="Context Hooks"></a>Context Hooks</h2><ul>
<li>è¿œè·ç¦»ä¼ è¾“æ•°æ®ï¼Œä¸å±€é™äºçˆ¶å­ç»„ä»¶ï¼Œä¸ä½¿ç”¨ props</li>
</ul>
<h2 id="Ref-Hooks"><a href="#Ref-Hooks" class="headerlink" title="Ref Hooks"></a>Ref Hooks</h2><ul>
<li>ä¿å­˜ä¸€äº›åœ¨æ¸²æŸ“ä¸­ä¸ä¼šç”¨åˆ°çš„æ•°æ®ï¼Œæ¯”å¦‚ DOM èŠ‚ç‚¹å’Œè®¡æ—¶å™¨çš„ ID</li>
<li>æ›´æ–° ref ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶</li>
<li>ä¸€èˆ¬ä¼šç”¨åˆ°é React ä½“ç³»ä¸­</li>
</ul>
<h2 id="Effect-Hooks"><a href="#Effect-Hooks" class="headerlink" title="Effect Hooks"></a>Effect Hooks</h2><ul>
<li>è®©ç»„ä»¶è¿æ¥åˆ°å¤–éƒ¨ç³»ç»Ÿï¼Œå¹¶ä¸ä¹‹åŒæ­¥</li>
</ul>
<h1 id="è·¯ç”±åŸºç¡€"><a href="#è·¯ç”±åŸºç¡€" class="headerlink" title="è·¯ç”±åŸºç¡€"></a>è·¯ç”±åŸºç¡€</h1><p>SPAï¼šå•é¡µåº”ç”¨ç¨‹åºï¼Œå°±æ˜¯åªæœ‰ä¸€ä¸ª HTML é¡µé¢çš„åº”ç”¨ç¨‹åºã€‚ç”¨æˆ·ä½“éªŒå¥½ï¼Œå¯¹æœåŠ¡å™¨å‹åŠ›å°ã€‚<br>è·¯ç”±ï¼šå°±æ˜¯ç»„ä»¶å’Œ URL çš„å¯¹åº”å…³ç³»ï¼Œè®©ç”¨æˆ·åˆ°ä¸€ä¸ªè§†å›¾åˆ°å¦å¤–çš„è§†å›¾ä¸­ã€‚</p>
<h2 id="åŸºæœ¬ä½¿ç”¨-3"><a href="#åŸºæœ¬ä½¿ç”¨-3" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install react-router-dom</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–è€…</span></span><br><span class="line">yarn add react-router-dom</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>, <span class="title class_">Route</span>, <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>é™¤äº†<code>BrowserRouter</code>å¤–è¿˜æœ‰<code>HashRouter</code>ï¼Œæ›¿æ¢æ‰å°±è¡Œï¼Œä¸è¿‡æ¨èä½¿ç”¨å‰è€…ï¼ˆä½¿ç”¨çš„æ˜¯ HTML5 çš„<code>history API</code>ï¼‰</li>
</ul>
<p>ä½¿ç”¨<code>&lt;Router&gt;</code>ç»„ä»¶åŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼Œç„¶åä½¿ç”¨<code>&lt;Link to=&quot;/xxx&quot;&gt;</code>æŒ‡å®šè·¯ç”±å…¥å£ï¼Œä½¿ç”¨<code>Route</code>ç»„ä»¶æŒ‡å®šè·¯ç”±å‡ºå£</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">First</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æˆ‘æ˜¯First<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯è·¯ç”±<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/first&quot;</span>&gt;</span>é¡µé¢ä¸€<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/first&quot;</span> <span class="attr">component</span>=<span class="string">&#123;First&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;Link&gt;</code>æœ€ç»ˆç¼–è¯‘æˆ<code>&lt;a&gt;</code>ï¼Œto è¢«ç¼–è¯‘æˆ hrefï¼›å¯ä»¥é€šè¿‡<code>location.pathname</code>å¾—åˆ° to</li>
<li><code>&lt;Route&gt;</code>çš„ä½ç½®åœ¨å“ªï¼Œå°±åœ¨å“ªä¸ªä½ç½®æ¸²æŸ“</li>
</ul>
<h2 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h2><ul>
<li>å°±æ˜¯é€šè¿‡ JavaScript ä»£ç æ¥å®ç°é¡µé¢è·³è½¬</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Login</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  handleLogin = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="comment">// push è·³è½¬åˆ°æŸä¸ªé¡µé¢</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">push</span>(<span class="string">&quot;/home&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç™»å½•é¡µé¢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleLogin&#125;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Home</span> = props =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleBack</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// è¿”å›ä¸Šä¸€ä¸ªé¡µé¢</span></span><br><span class="line">    props.<span class="property">history</span>.<span class="title function_">go</span>(-<span class="number">1</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯åå°é¦–é¡µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleLogin&#125;</span>&gt;</span>è¿”å›ç™»å½•é¡µé¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¼–ç¨‹å¼å¯¼èˆª<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/login&quot;</span>&gt;</span>å»ç™»å½•é¡µé¢<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Login&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/home&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Home&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>é»˜è®¤è·¯ç”±</strong>ï¼šè¿›å…¥é¡µé¢æ—¶å°±ä¼šåŒ¹é…çš„è·¯ç”±ï¼Œä½¿ç”¨<code>/</code>ï¼Œåé¢ä¸åŠ å†…å®¹</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span> path=<span class="string">&quot;/&quot;</span>, component=&#123;<span class="title class_">Home</span>&#125;&gt;&lt;/<span class="title class_">Route</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="åŒ¹é…æ¨¡å¼"><a href="#åŒ¹é…æ¨¡å¼" class="headerlink" title="åŒ¹é…æ¨¡å¼"></a>åŒ¹é…æ¨¡å¼</h2><h3 id="æ¨¡ç³ŠåŒ¹é…æ¨¡å¼"><a href="#æ¨¡ç³ŠåŒ¹é…æ¨¡å¼" class="headerlink" title="æ¨¡ç³ŠåŒ¹é…æ¨¡å¼"></a>æ¨¡ç³ŠåŒ¹é…æ¨¡å¼</h3><ul>
<li>é»˜è®¤æƒ…å†µä¸‹ React ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…æ¨¡å¼</li>
<li>æ¨¡ç³ŠåŒ¹é…è§„åˆ™ï¼šåªè¦ pathname ä»¥<code>/</code>å¼€å¤´å°±ä¼šåŒ¹é…æˆåŠŸ</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é»˜è®¤è·¯ç”±<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/login&quot;</span>&gt;</span>ç™»å½•é¡µé¢<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Home&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Login&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Route</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ç®¡<code>&lt;Link&gt;</code>ä¸­çš„ to é‡Œé¢çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼ˆto&#x3D;â€&#x2F;aâ€ï¼Œto&#x3D;â€&#x2F;abcâ€ï¼‰ï¼Œ<code>&lt;Route path=&quot;/&quot;&gt;</code>éƒ½ä¼šè¢«åŒ¹é…åˆ°</li>
<li>åŒæ ·ï¼Œ<code>to=&quot;/login/a/b&quot;</code>ä¹Ÿèƒ½åŒ¹é…åˆ°<code>path=&quot;/first&quot;</code></li>
</ul>
<h3 id="ç²¾ç¡®æ¨¡å¼"><a href="#ç²¾ç¡®æ¨¡å¼" class="headerlink" title="ç²¾ç¡®æ¨¡å¼"></a>ç²¾ç¡®æ¨¡å¼</h3><ul>
<li>ç»™<code>&lt;Route&gt;</code>æ·»åŠ <code>exact</code>å±æ€§</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span> exact path=<span class="string">&quot;/login&quot;</span> component=&#123;<span class="title class_">Login</span>&#125;&gt;&lt;/<span class="title class_">Route</span>&gt;</span><br></pre></td></tr></table></figure>

<p>æ¨èä½¿ç”¨ç²¾ç¡®æ¨¡å¼</p>
<h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="ä¸€äº›ç½‘ç«™"><a href="#ä¸€äº›ç½‘ç«™" class="headerlink" title="ä¸€äº›ç½‘ç«™"></a>ä¸€äº›ç½‘ç«™</h2><p><strong>ç»„ä»¶</strong></p>
<p><a target="_blank" rel="noopener" href="https://chakra-ui.com/docs/components/tabs/props">chakra UI</a></p>
<p><a target="_blank" rel="noopener" href="https://mui.com/core/">Material UI</a></p>
<h2 id="ä¸€äº›åº“"><a href="#ä¸€äº›åº“" class="headerlink" title="ä¸€äº›åº“"></a>ä¸€äº›åº“</h2><p><a target="_blank" rel="noopener" href="https://github.com/immerjs/use-immer"><code>immer</code></a>ï¼šä¿®æ”¹<em>state</em>çš„å¥½å¸®æ‰‹ï¼Œæ¯”å¦‚å¯¹äºåµŒå¥—å¥½æ·±çš„å¯¹è±¡</p>
<h2 id="NOTE"><a href="#NOTE" class="headerlink" title="NOTE"></a>NOTE</h2><ol>
<li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé”™è¯¯éƒ½å¯ä»¥åœ¨é¡µé¢æŠ¥é”™ä¿¡æ¯ä¸­æ‰¾åˆ°</li>
</ol>
<!--<h1 style="font-size: 50px;"><span style="color: lightblue;">React</span> å¿«é€Ÿæ‰‹å†Œ </h1>-->

<!--<h1>ğŸŒğŸš€ğŸš€ğŸš€ğŸš€ğŸŒ•</h1>-->
</div><div class="article-licensing box"><div class="licensing-title"><p>æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ</p><p><a href="https://smalljerry.cn/2021/06/10/react/">https://smalljerry.cn/2021/06/10/react/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>ä½œè€…</h6><p>dsjerry</p></div></div><div class="level-item is-narrow"><div><h6>å‘å¸ƒäº</h6><p>2021-06-10</p></div></div><div class="level-item is-narrow"><div><h6>æ›´æ–°äº</h6><p>2025-02-22</p></div></div><div class="level-item is-narrow"><div><h6>è®¸å¯åè®®</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/js/">js</a><a class="link-muted mr-2" rel="tag" href="/tags/react/">react</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=600a73038bb33e00116e6fcd&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/07/10/web%E5%AE%89%E5%85%A8/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">webå®‰å…¨</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/05/17/%E5%BC%82%E6%AD%A5JavaScript/"><span class="level-item">å¼‚æ­¥JavaScript</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comments"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="SOHUCS" sid="2021/06/10/react/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid: 'cyv16UaRt',conf: 'prod_98785f0d345863265cd9f6df0d1aea6d'});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">å‰ç«¯å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">åç«¯å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/"><span class="level-start"><span class="level-item">è½¯ä»¶é…ç½®</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/"><span class="level-start"><span class="level-item">éƒ¨ç½²è¿ç»´</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label"><i class="fas fa-music"></i>Â å¬å¬éŸ³ä¹</h3><div class="aplayer-widget" id="aplayer-widget"></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://dsjerry.lofter.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">lofter</span></span><span class="level-right"><span class="level-item tag">dsjerry.lofter.com</span></span></a></li><li><a class="level is-mobile" href="https://chat.smalljerry.cn/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">chat-ds</span></span><span class="level-right"><span class="level-item tag">chat.smalljerry.cn</span></span></a></li><li><a class="level is-mobile" href="https://space.bilibili.com/85892062" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">bilibili</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li><li><a class="level is-mobile" href="https://www.douyin.com/user/MS4wLjABAAAAk81CD3MQxJmSkUKmeATakVo8e-bc3NYFBcHLT3dGv24" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">douyin</span></span><span class="level-right"><span class="level-item tag">www.douyin.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=smalljerry/fBtC&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="smalljerry/fBtC" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div><p class="help">By feedburner</p></form></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><figure class="media-left"><a class="image" href="/2025/06/25/%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/"><img src="https://s21.ax1x.com/2025/06/25/pVeqfl6.png" alt="æ¥å£è¯·æ±‚"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-06-25T13:38:49.000Z">2025-06-25</time></p><p class="title"><a href="/2025/06/25/%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/">æ¥å£è¯·æ±‚</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">å‰ç«¯å­¦ä¹ </a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/06/12/API%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/"><img src="https://s21.ax1x.com/2025/06/12/pVkjlZ9.png" alt="APIé£æ ¼æŒ‡å—"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-06-12T14:51:37.000Z">2025-06-12</time></p><p class="title"><a href="/2025/06/12/API%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/">APIé£æ ¼æŒ‡å—</a></p><p class="categories"><a href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/">åç«¯å­¦ä¹ </a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/"><img src="https://s21.ax1x.com/2025/03/03/pEGHjr8.png" alt="Vantç»„ä»¶ç¤ºä¾‹"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-03-03T14:51:34.000Z">2025-03-03</time></p><p class="title"><a href="/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/">Vantç»„ä»¶ç¤ºä¾‹</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">å‰ç«¯å­¦ä¹ </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-02-15T08:50:12.000Z">2025-02-15</time></p><p class="title"><a href="/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/">éƒ¨ç½²æ‰‹å†Œ</a></p><p class="categories"><a href="/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/">éƒ¨ç½²è¿ç»´</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/02/15/nestjs/"><img src="https://s21.ax1x.com/2025/02/17/pEM3hqS.png" alt="nestjså­¦ä¹ æ—¥è®°"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-02-15T02:13:54.000Z">2025-02-15</time></p><p class="title"><a href="/2025/02/15/nestjs/">nestjså­¦ä¹ æ—¥è®°</a></p><p class="categories"><a href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/">åç«¯å­¦ä¹ </a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache/"><span class="tag">apache</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ftp/"><span class="tag">ftp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ts/"><span class="tag">ts</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vscode/"><span class="tag">vscode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"><span class="tag">å¼€å‘è§„èŒƒ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%93%E5%8C%85/"><span class="tag">æ‰“åŒ…</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%A5%E5%8F%A3/"><span class="tag">æ¥å£</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">æ•°æ®åº“</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8B%E8%AF%95/"><span class="tag">æµ‹è¯•</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/"><span class="tag">çŠ¶æ€ç®¡ç†</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"><span class="tag">ç§»åŠ¨ç«¯</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E4%BB%B6/"><span class="tag">ç»„ä»¶</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E7%AC%94/"><span class="tag">éšç¬”</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">å¹¿å‘Š</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5233359657851046" data-ad-slot="1034023065" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars.githubusercontent.com/u/53891546?v=4" alt="life is fantastic!ğŸ†"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">life is fantastic!ğŸ†</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives/"><p class="title">55</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories/"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags/"><p class="title">28</p></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="level is-mobile" href="#å‰è¨€"><span class="level-left"><span class="level-item">1</span><span class="level-item">å‰è¨€</span></span></a></li><li><a class="level is-mobile" href="#åŸºæœ¬ä½¿ç”¨"><span class="level-left"><span class="level-item">2</span><span class="level-item">åŸºæœ¬ä½¿ç”¨</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å®‰è£…"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">å®‰è£…</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ä½¿ç”¨-vite"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">ä½¿ç”¨ vite</span></span></a></li><li><a class="level is-mobile" href="#éè„šæ‰‹æ¶"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">éè„šæ‰‹æ¶</span></span></a></li><li><a class="level is-mobile" href="#è„šæ‰‹æ¶"><span class="level-left"><span class="level-item">2.1.3</span><span class="level-item">è„šæ‰‹æ¶</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#React-18-ä»¥å‰"><span class="level-left"><span class="level-item">2.1.3.1</span><span class="level-item">React 18 ä»¥å‰</span></span></a></li><li><a class="level is-mobile" href="#React-18-ä»¥å"><span class="level-left"><span class="level-item">2.1.3.2</span><span class="level-item">React 18 ä»¥å</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#React-å’Œ-JSX"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">React å’Œ JSX</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#è¯­æ³•è§„åˆ™"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">è¯­æ³•è§„åˆ™</span></span></a></li><li><a class="level is-mobile" href="#ä½¿ç”¨-js-è¡¨è¾¾å¼-JSX-çš„èŠ±æ‹¬å·"><span class="level-left"><span class="level-item">2.2.2</span><span class="level-item">ä½¿ç”¨ js è¡¨è¾¾å¼ (JSX çš„èŠ±æ‹¬å·)</span></span></a></li><li><a class="level is-mobile" href="#æ¡ä»¶æ¸²æŸ“"><span class="level-left"><span class="level-item">2.2.3</span><span class="level-item">æ¡ä»¶æ¸²æŸ“</span></span></a></li><li><a class="level is-mobile" href="#åˆ—è¡¨æ¸²æŸ“"><span class="level-left"><span class="level-item">2.2.4</span><span class="level-item">åˆ—è¡¨æ¸²æŸ“</span></span></a></li><li><a class="level is-mobile" href="#æ ·å¼å¤„ç†"><span class="level-left"><span class="level-item">2.2.5</span><span class="level-item">æ ·å¼å¤„ç†</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#ç»„ä»¶åŸºç¡€"><span class="level-left"><span class="level-item">3</span><span class="level-item">ç»„ä»¶åŸºç¡€</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ä¸¤ç§åˆ›å»ºæ–¹å¼"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">ä¸¤ç§åˆ›å»ºæ–¹å¼</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å‡½æ•°ç»„ä»¶"><span class="level-left"><span class="level-item">3.1.1</span><span class="level-item">å‡½æ•°ç»„ä»¶</span></span></a></li><li><a class="level is-mobile" href="#ç±»ç»„ä»¶"><span class="level-left"><span class="level-item">3.1.2</span><span class="level-item">ç±»ç»„ä»¶</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥</span></span></a></li></ul></li><li><a class="level is-mobile" href="#äº‹ä»¶å¤„ç†"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">äº‹ä»¶å¤„ç†</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åŸºæœ¬ä½¿ç”¨-1"><span class="level-left"><span class="level-item">3.3.1</span><span class="level-item">åŸºæœ¬ä½¿ç”¨</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#äº‹ä»¶å¯¹è±¡"><span class="level-left"><span class="level-item">3.3.1.1</span><span class="level-item">äº‹ä»¶å¯¹è±¡</span></span></a></li></ul></li><li><a class="level is-mobile" href="#äº‹ä»¶å¤„ç†å‡½æ•°è¯»å–-props-å’Œä½œä¸º-props-ä¼ é€’"><span class="level-left"><span class="level-item">3.3.2</span><span class="level-item">äº‹ä»¶å¤„ç†å‡½æ•°è¯»å– props å’Œä½œä¸º props ä¼ é€’</span></span></a></li><li><a class="level is-mobile" href="#è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°-props-åå­—"><span class="level-left"><span class="level-item">3.3.3</span><span class="level-item">è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° props åå­—</span></span></a></li></ul></li><li><a class="level is-mobile" href="#state"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">state</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶"><span class="level-left"><span class="level-item">3.4.1</span><span class="level-item">æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶</span></span></a></li><li><a class="level is-mobile" href="#state-åŸºæœ¬ä½¿ç”¨-æ–°"><span class="level-left"><span class="level-item">3.4.2</span><span class="level-item">state åŸºæœ¬ä½¿ç”¨(æ–°)</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ›´æ”¹-å¯¹è±¡-ç±»å‹çš„-state"><span class="level-left"><span class="level-item">3.4.2.1</span><span class="level-item">æ›´æ”¹ å¯¹è±¡ ç±»å‹çš„ state</span></span></a></li><li><a class="level is-mobile" href="#æ›´æ–°-æ•°ç»„-ç±»å‹çš„-state"><span class="level-left"><span class="level-item">3.4.2.2</span><span class="level-item">æ›´æ–° æ•°ç»„ ç±»å‹çš„ state</span></span></a></li></ul></li><li><a class="level is-mobile" href="#state-åŸºæœ¬ä½¿ç”¨"><span class="level-left"><span class="level-item">3.4.3</span><span class="level-item">state åŸºæœ¬ä½¿ç”¨</span></span></a></li><li><a class="level is-mobile" href="#this-æŒ‡å‘é—®é¢˜è§£å†³-1"><span class="level-left"><span class="level-item">3.4.4</span><span class="level-item">this æŒ‡å‘é—®é¢˜è§£å†³ 1</span></span></a></li><li><a class="level is-mobile" href="#this-æŒ‡å‘é—®é¢˜è§£å†³-2"><span class="level-left"><span class="level-item">3.4.5</span><span class="level-item">this æŒ‡å‘é—®é¢˜è§£å†³ 2</span></span></a></li><li><a class="level is-mobile" href="#this-æŒ‡å‘é—®é¢˜è§£å†³-3"><span class="level-left"><span class="level-item">3.4.6</span><span class="level-item">this æŒ‡å‘é—®é¢˜è§£å†³ 3</span></span></a></li></ul></li><li><a class="level is-mobile" href="#è¡¨å•å¤„ç†"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">è¡¨å•å¤„ç†</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å—æ§ç»„ä»¶"><span class="level-left"><span class="level-item">3.5.1</span><span class="level-item">å—æ§ç»„ä»¶</span></span></a></li><li><a class="level is-mobile" href="#éå—æ§ç»„ä»¶"><span class="level-left"><span class="level-item">3.5.2</span><span class="level-item">éå—æ§ç»„ä»¶</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ä¿æŒç»„ä»¶æ•´æ´"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">ä¿æŒç»„ä»¶æ•´æ´</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ç»„ä»¶è¿›é˜¶"><span class="level-left"><span class="level-item">4</span><span class="level-item">ç»„ä»¶è¿›é˜¶</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#props"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">props</span></span></a></li><li><a class="level is-mobile" href="#props-æ·±å…¥"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">props æ·±å…¥</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#children-å±æ€§"><span class="level-left"><span class="level-item">4.2.1</span><span class="level-item">children å±æ€§</span></span></a></li><li><a class="level is-mobile" href="#props-æ ¡éªŒ"><span class="level-left"><span class="level-item">4.2.2</span><span class="level-item">props æ ¡éªŒ</span></span></a></li><li><a class="level is-mobile" href="#props-é»˜è®¤å€¼"><span class="level-left"><span class="level-item">4.2.3</span><span class="level-item">props é»˜è®¤å€¼</span></span></a></li></ul></li><li><a class="level is-mobile" href="#render-props"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">render props</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#render"><span class="level-left"><span class="level-item">4.3.1</span><span class="level-item">render</span></span></a></li><li><a class="level is-mobile" href="#children-å–ä»£-render"><span class="level-left"><span class="level-item">4.3.2</span><span class="level-item">children å–ä»£ render</span></span></a></li><li><a class="level is-mobile" href="#ä»£ç ä¼˜åŒ–"><span class="level-left"><span class="level-item">4.3.3</span><span class="level-item">ä»£ç ä¼˜åŒ–</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ç»„ä»¶ä¹‹é—´çš„é€šè®¯"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">ç»„ä»¶ä¹‹é—´çš„é€šè®¯</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶"><span class="level-left"><span class="level-item">4.4.1</span><span class="level-item">çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶</span></span></a></li><li><a class="level is-mobile" href="#å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶"><span class="level-left"><span class="level-item">4.4.2</span><span class="level-item">å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶</span></span></a></li><li><a class="level is-mobile" href="#å…„å¼Ÿç»„ä»¶ä¼ å€¼"><span class="level-left"><span class="level-item">4.4.3</span><span class="level-item">å…„å¼Ÿç»„ä»¶ä¼ å€¼</span></span></a></li><li><a class="level is-mobile" href="#Context"><span class="level-left"><span class="level-item">4.4.4</span><span class="level-item">Context</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><span class="level-left"><span class="level-item">4.5</span><span class="level-item">ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åˆ›å»ºæ—¶"><span class="level-left"><span class="level-item">4.5.1</span><span class="level-item">åˆ›å»ºæ—¶</span></span></a></li><li><a class="level is-mobile" href="#æ›´æ–°æ—¶"><span class="level-left"><span class="level-item">4.5.2</span><span class="level-item">æ›´æ–°æ—¶</span></span></a></li><li><a class="level is-mobile" href="#å¸è½½æ—¶"><span class="level-left"><span class="level-item">4.5.3</span><span class="level-item">å¸è½½æ—¶</span></span></a></li></ul></li><li><a class="level is-mobile" href="#é«˜é˜¶ç»„ä»¶"><span class="level-left"><span class="level-item">4.6</span><span class="level-item">é«˜é˜¶ç»„ä»¶</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åŸºæœ¬ä½¿ç”¨-2"><span class="level-left"><span class="level-item">4.6.1</span><span class="level-item">åŸºæœ¬ä½¿ç”¨</span></span></a></li><li><a class="level is-mobile" href="#displayName"><span class="level-left"><span class="level-item">4.6.2</span><span class="level-item">displayName</span></span></a></li><li><a class="level is-mobile" href="#ä¼ é€’-props"><span class="level-left"><span class="level-item">4.6.3</span><span class="level-item">ä¼ é€’ props</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#React-åŸç†"><span class="level-left"><span class="level-item">5</span><span class="level-item">React åŸç†</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Hooks"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Hooks</span></span></a></li><li><a class="level is-mobile" href="#setState-è¯´æ˜"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">setState è¯´æ˜</span></span></a></li><li><a class="level is-mobile" href="#JSX-è¯­æ³•è½¬æ¢è¿‡ç¨‹"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">JSX è¯­æ³•è½¬æ¢è¿‡ç¨‹</span></span></a></li><li><a class="level is-mobile" href="#ç»„ä»¶æ€§èƒ½ä¼˜åŒ–"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">ç»„ä»¶æ€§èƒ½ä¼˜åŒ–</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å‡è½»-state"><span class="level-left"><span class="level-item">5.4.1</span><span class="level-item">å‡è½» state</span></span></a></li><li><a class="level is-mobile" href="#é¿å…ä¸å¿…è¦çš„æ¸²æŸ“"><span class="level-left"><span class="level-item">5.4.2</span><span class="level-item">é¿å…ä¸å¿…è¦çš„æ¸²æŸ“</span></span></a></li><li><a class="level is-mobile" href="#çº¯ç»„ä»¶"><span class="level-left"><span class="level-item">5.4.3</span><span class="level-item">çº¯ç»„ä»¶</span></span></a></li></ul></li><li><a class="level is-mobile" href="#è™šæ‹Ÿ-DOM-å’Œ-Diff-ç®—æ³•"><span class="level-left"><span class="level-item">5.5</span><span class="level-item">è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³•</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ‰§è¡Œè¿‡ç¨‹"><span class="level-left"><span class="level-item">5.5.1</span><span class="level-item">æ‰§è¡Œè¿‡ç¨‹</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Hooks-1"><span class="level-left"><span class="level-item">6</span><span class="level-item">Hooks</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Context-Hooks"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">Context Hooks</span></span></a></li><li><a class="level is-mobile" href="#Ref-Hooks"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">Ref Hooks</span></span></a></li><li><a class="level is-mobile" href="#Effect-Hooks"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">Effect Hooks</span></span></a></li></ul></li><li><a class="level is-mobile" href="#è·¯ç”±åŸºç¡€"><span class="level-left"><span class="level-item">7</span><span class="level-item">è·¯ç”±åŸºç¡€</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åŸºæœ¬ä½¿ç”¨-3"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">åŸºæœ¬ä½¿ç”¨</span></span></a></li><li><a class="level is-mobile" href="#ç¼–ç¨‹å¼å¯¼èˆª"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">ç¼–ç¨‹å¼å¯¼èˆª</span></span></a></li><li><a class="level is-mobile" href="#åŒ¹é…æ¨¡å¼"><span class="level-left"><span class="level-item">7.3</span><span class="level-item">åŒ¹é…æ¨¡å¼</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ¨¡ç³ŠåŒ¹é…æ¨¡å¼"><span class="level-left"><span class="level-item">7.3.1</span><span class="level-item">æ¨¡ç³ŠåŒ¹é…æ¨¡å¼</span></span></a></li><li><a class="level is-mobile" href="#ç²¾ç¡®æ¨¡å¼"><span class="level-left"><span class="level-item">7.3.2</span><span class="level-item">ç²¾ç¡®æ¨¡å¼</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#å…¶ä»–"><span class="level-left"><span class="level-item">8</span><span class="level-item">å…¶ä»–</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ä¸€äº›ç½‘ç«™"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">ä¸€äº›ç½‘ç«™</span></span></a></li><li><a class="level is-mobile" href="#ä¸€äº›åº“"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">ä¸€äº›åº“</span></span></a></li><li><a class="level is-mobile" href="#NOTE"><span class="level-left"><span class="level-item">8.3</span><span class="level-item">NOTE</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">SMALLJERRY</a><p class="is-size-7"><span>&copy; 2025 dsjerry</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script><!-- hexo injector body_end start -->
<script src="/js/logo.js"></script>
<!-- hexo injector body_end end --></body></html>