<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>éƒ¨ç½²æ‰‹å†Œ - smalljerry aka dsjerry</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="dsjerry&#039;s blog"><meta name="msapplication-TileImage" content="https://avatars.githubusercontent.com/u/53891546?v=4"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="dsjerry&#039;s blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ğŸ‘‹ æ°¸è¿œéƒ½è®°ä¸ä½çš„é…ç½®è¿‡ç¨‹"><meta property="og:type" content="blog"><meta property="og:title" content="éƒ¨ç½²æ‰‹å†Œ"><meta property="og:url" content="https://smalljerry.cn/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/"><meta property="og:site_name" content="smalljerry aka dsjerry"><meta property="og:description" content="ğŸ‘‹ æ°¸è¿œéƒ½è®°ä¸ä½çš„é…ç½®è¿‡ç¨‹"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s21.ax1x.com/2025/03/03/pEG7DfI.png"><meta property="og:image" content="https://s21.ax1x.com/2025/03/03/pEG766f.png"><meta property="og:image" content="https://s21.ax1x.com/2025/03/03/pEG72nS.png"><meta property="article:published_time" content="2025-02-15T08:50:12.000Z"><meta property="article:modified_time" content="2025-11-06T14:51:04.328Z"><meta property="article:author" content="dsjerry"><meta property="article:tag" content="å‰ç«¯å­¦ä¹ ,åç«¯å­¦ä¹ ,ç¨‹åºå‘˜åšå®¢,smalljerry,dsjerry"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://s21.ax1x.com/2025/03/03/pEG7DfI.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://smalljerry.cn/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/"},"headline":"éƒ¨ç½²æ‰‹å†Œ","image":["https://s21.ax1x.com/2025/03/03/pEG7DfI.png","https://s21.ax1x.com/2025/03/03/pEG766f.png","https://s21.ax1x.com/2025/03/03/pEG72nS.png"],"datePublished":"2025-02-15T08:50:12.000Z","dateModified":"2025-11-06T14:51:04.328Z","author":{"@type":"Person","name":"dsjerry"},"publisher":{"@type":"Organization","name":"smalljerry aka dsjerry","logo":{"@type":"ImageObject","url":{"text":"SMALLJERRY"}}},"description":"ğŸ‘‹ æ°¸è¿œéƒ½è®°ä¸ä½çš„é…ç½®è¿‡ç¨‹"}</script><link rel="canonical" href="https://smalljerry.cn/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/"><link rel="icon" href="https://avatars.githubusercontent.com/u/53891546?v=4"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?4b1b8ea31347bc0c974b11aca38a6236";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5233359657851046" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/darkreader/4.9.58/darkreader.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">

<link rel="stylesheet" href="/css/aplayer.css">

<link rel="stylesheet" href="/css/logo.css">

<link rel="stylesheet" href="/css/theme-toggle.css">

<link rel="stylesheet" href="/css/custom-shadow.css">
<script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="smalljerry aka dsjerry" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">SMALLJERRY</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">åˆ†ç±»</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/about">å…³äº</a></div><div class="navbar-end"><a class="navbar-item" title="åˆ‡æ¢ä¸»é¢˜" href="javascript:;" id="theme-toggle-button"><i class="fas fa-moon" id="theme-toggle-icon"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/dsjerry"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2025-02-15T08:50:12.000Z" title="2025/2/15 16:50:12">2025-02-15</time>å‘è¡¨</span><span class="level-item"><time dateTime="2025-11-06T14:51:04.328Z" title="2025/11/6 22:51:04">2025-11-06</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/">éƒ¨ç½²è¿ç»´</a></span><span class="level-item">25 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦3718ä¸ªå­—)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®</span></div></div><h1 class="title is-3 is-size-4-mobile">éƒ¨ç½²æ‰‹å†Œ</h1><div class="content"><p>ğŸ‘‹ æ°¸è¿œéƒ½è®°ä¸ä½çš„é…ç½®è¿‡ç¨‹</p>
<span id="more"></span>

<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><h2 id="linux-é…ç½®ç™»å½•"><a href="#linux-é…ç½®ç™»å½•" class="headerlink" title="linux é…ç½®ç™»å½•"></a>linux é…ç½®ç™»å½•</h2><blockquote>
<p>Windows ä¼šç›´æ¥å¼¹å‡ºå¼¹çª—ä»¥è¾“å…¥è´¦å·å¯†ç ï¼ˆå‰ææ˜¯å®‰è£…äº† GUI è½¯ä»¶ï¼‰</p>
</blockquote>
<p>ä½¿ç”¨<code>git push</code>æ—¶è¾“å…¥ç”¨æˆ·æ˜å’Œå¯†ç ç™»å½•åï¼Œæç¤ºä¸å†æ”¯æŒæ­¤ç™»å½•æ–¹å¼ï¼š</p>
<p><img src="https://s21.ax1x.com/2025/03/03/pEG7DfI.png" alt="åºŸå¼ƒæç¤º"></p>
<p>æ ¹æ®æç¤ºä¸­çš„é“¾æ¥ï¼Œæ‰¾åˆ°<a target="_blank" rel="noopener" href="https://github.com/git-ecosystem/git-credential-manager/blob/main/README.md">Git å‡­æ®ç®¡ç†å™¨</a>ï¼ˆGit Credential Managerï¼‰ï¼Œå¤§è‡´å®‰è£…ã€é…ç½®æ­¥éª¤ï¼šï¼ˆUbuntuï¼‰</p>
<ol>
<li>å®‰è£….NET tool</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update &amp;&amp; \</span><br><span class="line">  <span class="built_in">sudo</span> apt-get install -y dotnet-sdk-8.0</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å®‰è£…ç®¡ç†å·¥å…·</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet tool install -g git-credential-manager</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸå®‰è£…åä¼šæç¤ºå°†å…¶è®¾ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼š</p>
<p><img src="https://s21.ax1x.com/2025/03/03/pEG766f.png" alt="é…ç½®ç¯å¢ƒå˜é‡"></p>
<ol start="3">
<li>é…ç½®</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git-credential-manager configure</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®<code>GCM_CREDENTIAL_STORE</code>ç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œä½¿ç”¨<code>gpg</code>ï¼Œå¹¶ä¸”éœ€è¦é¢å¤–å®‰è£…<code>pass</code>ï¼ˆæ­¤å¤–è¿˜æœ‰åˆ«çš„è®¾ç½®å½¢å¼ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GCM_CREDENTIAL_STORE=<span class="string">&quot;gpg&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install pass</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ– store</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># initåé¢çš„åç§°éšæ„</span></span><br><span class="line">pass init github-gpg-id</span><br></pre></td></tr></table></figure>

<p>æ¨é€ä»£ç </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure>

<p><img src="https://s21.ax1x.com/2025/03/03/pEG72nS.png" alt="é€‰æ‹©gpg"></p>
<h1 id="NGINX"><a href="#NGINX" class="headerlink" title="NGINX"></a>NGINX</h1><p>ğŸ‘‰ <a href="https://smalljerry.cn/2020/11/06/Nginx%E5%AE%89%E8%A3%85/">Nginx å®‰è£…</a></p>
<h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><blockquote>
<p>å¸¸è§æ“ä½œå°±æ˜¯ä½¿ç”¨ä»£ç†ç»“å±€è·¨åŸŸé—®é¢˜</p>
</blockquote>
<h3 id="ç«¯å£åˆ°å­åŸŸå"><a href="#ç«¯å£åˆ°å­åŸŸå" class="headerlink" title="ç«¯å£åˆ°å­åŸŸå"></a>ç«¯å£åˆ°å­åŸŸå</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> your_subdomain.yourdomain.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:8080;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç«¯å£åˆ°è·¯å¾„"><a href="#ç«¯å£åˆ°è·¯å¾„" class="headerlink" title="ç«¯å£åˆ°è·¯å¾„"></a>ç«¯å£åˆ°è·¯å¾„</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /your-subpath/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:8080;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ"><a href="#ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ" class="headerlink" title="ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ"></a>ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ</h3><blockquote>
<p>é€šè¿‡ä»£ç†è¯·æ±‚ä»¥è§£å†³<code>å‰ç«¯è·¨åŸŸ</code>é—®é¢˜ï¼ŒåŸå› æ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥å¯¼è‡´ï¼ˆSame-Origin Policyï¼‰</p>
</blockquote>
<p>å‰ç«¯è·¨åŸŸäº§ç”Ÿçš„åŸå› ï¼šæµè§ˆå™¨é€šè¿‡ JavaScript å‘é€ç½‘ç»œè¯·æ±‚æ—¶ï¼Œè¯·æ±‚çš„æ¥å£ä¸å½“å‰é¡µé¢çš„ URL ä¸åœ¨åŒä¸€ä¸ªåŸŸåã€åè®®å’Œç«¯å£ä¹‹ä¸‹ï¼Œæµè§ˆå™¨å°±ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè·¨åŸŸè¯·æ±‚ï¼Œä»è€Œæ ¹æ®åŒæºç­–ç•¥é˜»æ­¢è¿™ä¸ªè¯·æ±‚ï¼ˆé™¤éæœåŠ¡å™¨åœ¨å“åº”å¤´æ˜ç¡®å£°æ˜å…è®¸è·¨åŸŸï¼‰</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span>   /usr/share/nginx/html;</span><br><span class="line">        <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‰ç«¯è¯·æ±‚ /api çš„ä»£ç†é…ç½®</span></span><br><span class="line">    <span class="section">location</span> /api/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://api.example.com/;  <span class="comment"># å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>location</code>é…ç½®çš„æ˜¯<code>/api/</code>è€Œä¸æ˜¯<code>/api</code>ï¼ŒäºŒè€…åŒºåˆ«ï¼š</p>
<ul>
<li><code>/api/</code>ï¼šåŒ¹é…å½“å‰è§„åˆ™ä¹‹åçš„æ‰€æœ‰è·¯å¾„</li>
<li><code>/api</code>ï¼šåŒ¹é…ä»¥è¿™ä¸ªå¼€å¤´çš„æ‰€æœ‰è·¯å¾„</li>
</ul>
<p><code>proxy_pass</code>åŒæ ·éœ€è¦ä»¥&#x2F;ç»“å°¾ï¼ŒäºŒè€…åŒºåˆ«ï¼š</p>
<ul>
<li>æœ‰<code>/</code>ç»“å°¾ï¼šè¯·æ±‚ä¸­çš„&#x2F;api å°†ä¼šè¢«å»æ‰ï¼Œå…¶ä½™éƒ¨åˆ†æ‹¼æ¥ä¸Šå»<ul>
<li>å¦‚ï¼š<code>http://api.example.com/login</code></li>
</ul>
</li>
<li>æ— <code>/</code>ç»“å°¾ï¼š&#x2F;api ä¼šç»§ç»­æ‹¼æ¥åˆ°è¯·æ±‚çš„æ¥å£ä¸­<ul>
<li>å¦‚ï¼š<code>http://api.example.com/api/login</code></li>
</ul>
</li>
</ul>
<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><p>æ„å»ºé•œåƒè¯­æ³•ç¤ºä¾‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker build -t &lt;é•œåƒåç§°:æ ‡ç­¾&gt; &lt;Dockerfileæ‰€åœ¨ç›®å½•&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¾‹å¦‚</span></span><br><span class="line">docker build -t myapp:v1 .</span><br></pre></td></tr></table></figure>

<p>æ„å»ºä¹‹åè¿è¡Œå®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name myapp myapp:v1</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><h4 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h4><blockquote>
<p>å¤åˆ¶æœ¬åœ°é™æ€èµ„æºåˆ°å®¹å™¨é»˜è®¤ä½ç½®ï¼Œå¹¶ä¸”è‡ªå®šä¹‰<code>.conf</code>é…ç½®</p>
</blockquote>
<p>ç›®å½•ç»“æ„ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">project/</span><br><span class="line">â”œâ”€â”€ Dockerfile          # ä¸Šè¿° Dockerfile</span><br><span class="line">â”œâ”€â”€ nginx.conf          # ä¸Šè¿° Nginx é…ç½®</span><br><span class="line">â””â”€â”€ web/                # é™æ€èµ„æºç›®å½•ï¼ˆå¦‚æ‰“åŒ…åçš„å‰ç«¯ä»£ç ï¼‰</span><br><span class="line">    â”œâ”€â”€ index.html</span><br><span class="line">    â”œâ”€â”€ css/</span><br><span class="line">    â”œâ”€â”€ js/</span><br><span class="line">    â””â”€â”€ ...</span><br></pre></td></tr></table></figure>

<p>Dockerfile ç¤ºä¾‹</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> nginx:stable-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">rm</span> -rf /etc/nginx/conf.d/default.conf</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/conf.d/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> ./web /usr/share/nginx/html</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ² 80 ç«¯å£ï¼ˆä»…å£°æ˜ï¼Œå®é™…é€šè¿‡`docker run`çš„`-p`å‚æ•°æ˜ å°„ï¼‰</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å‘½ä»¤ï¼ˆå®˜æ–¹é•œåƒå·²é»˜è®¤åŒ…å«ï¼Œæ­¤å¤„å¯çœç•¥ï¼Œä»…ä½œè¯´æ˜ï¼‰</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p>nginx é…ç½®æ–‡ä»¶ç¤ºä¾‹</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ ¹ç›®å½•æŒ‡å‘é™æ€æ–‡ä»¶å­˜æ”¾è·¯å¾„</span></span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">    <span class="attribute">index</span> index.html index.htm;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ”¯æŒå•é¡µåº”ç”¨ï¼ˆSPAï¼‰è·¯ç”±ï¼ˆå¦‚ Vue Router çš„ history æ¨¡å¼ï¼‰</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é™æ€èµ„æºç¼“å­˜ç­–ç•¥ï¼ˆJS/CSS/å›¾ç‰‡ç­‰ï¼‰</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf)$</span> &#123;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">30d</span>;  <span class="comment"># ç¼“å­˜ 30 å¤©</span></span><br><span class="line">        <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public, max-age=2592000&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·¨åŸŸé…ç½®ï¼ˆå¦‚éœ€å…è®¸å‰ç«¯è°ƒç”¨åç«¯ APIï¼‰</span></span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Origin *;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Methods <span class="string">&quot;GET, POST, OPTIONS&quot;</span>;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Headers <span class="string">&quot;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ—¥å¿—é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤è¾“å‡ºåˆ°å®¹å™¨ stdout/stderrï¼‰</span></span><br><span class="line">    <span class="attribute">access_log</span> /var/log/nginx/access.log;</span><br><span class="line">    <span class="attribute">error_log</span> /var/log/nginx/<span class="literal">error</span>.log;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ„å»ºå’Œè¿è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t web:v1 .</span><br><span class="line">docker run -d --name web -p 8080:80 web:v1</span><br></pre></td></tr></table></figure>

<h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker compose"></a>docker compose</h2><h3 id="è¿è¡ŒæœåŠ¡"><a href="#è¿è¡ŒæœåŠ¡" class="headerlink" title="è¿è¡ŒæœåŠ¡"></a>è¿è¡ŒæœåŠ¡</h3><p>è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ—§ç‰ˆå‘½ä»¤æ˜¯</span></span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>

<p>åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼ˆé•œåƒä¿ç•™ï¼Œæ•°æ®ä¿ç•™ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose down</span><br></pre></td></tr></table></figure>

<p>åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼ˆé•œåƒä¹Ÿåˆ é™¤ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose down --rmi all</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose ps</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose logs</span><br></pre></td></tr></table></figure>

<h3 id="ä»…æ„å»ºé•œåƒ"><a href="#ä»…æ„å»ºé•œåƒ" class="headerlink" title="ä»…æ„å»ºé•œåƒ"></a>ä»…æ„å»ºé•œåƒ</h3><p>åœ¨<code>docker-compose.yml</code>æ‰€å¤„ç›®å½•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose build</span><br></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶ä¸­æœ‰å¤šä¸ªæœåŠ¡ï¼Œä½†åªæƒ³æ„å»ºå…¶ä¸­ä¸€ä¸ªï¼Œå¯æŒ‡å®šæœåŠ¡åï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker compose build &lt;æœåŠ¡å&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¾‹å¦‚ä¹‹æ„å»ºæœåŠ¡ä¸­çš„webæœåŠ¡ï¼ˆnginxé•œåƒï¼‰</span></span><br><span class="line">docker compose build web</span><br></pre></td></tr></table></figure>

<p>å¼ºåˆ¶é‡æ–°æ„å»ºï¼ˆå¿½ç•¥ç¼“å­˜ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose build --no-cache</span><br></pre></td></tr></table></figure>

<p>æ„å»ºæ—¶ä¼ é€’å˜é‡</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose build --build-arg &lt;å˜é‡å&gt;=&lt;å˜é‡å€¼&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><h4 id="åŸºæœ¬çš„webç¨‹åº"><a href="#åŸºæœ¬çš„webç¨‹åº" class="headerlink" title="åŸºæœ¬çš„webç¨‹åº"></a>åŸºæœ¬çš„webç¨‹åº</h4><blockquote>
<p>nginxã€javaã€mysqlã€redisã€‚é‡Œé¢çš„æœåŠ¡å¯æ ¹æ®éœ€æ±‚ä½¿ç”¨å®˜æ–¹ç°æœ‰çš„é•œåƒæˆ–è€…æŒ‡å®šé€šè¿‡Dockerfileæ„å»º</p>
</blockquote>
<p>ç›®å½•ç»“æ„ç¤ºä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">project/</span><br><span class="line">â”œâ”€â”€ docker-compose.yml       # ä¸»é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ nginx/                   # Nginx ç›¸å…³é…ç½®</span><br><span class="line">â”‚   â”œâ”€â”€ nginx.conf           # Nginx ä¸»é…ç½®</span><br><span class="line">â”‚   â””â”€â”€ html/                # é™æ€èµ„æºï¼ˆå¦‚å‰ç«¯é¡µé¢ï¼‰</span><br><span class="line">â”‚       â””â”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ java/                    # Java åº”ç”¨ç›¸å…³</span><br><span class="line">â”‚   â”œâ”€â”€ Dockerfile           # æ„å»º Java åº”ç”¨é•œåƒ</span><br><span class="line">â”‚   â””â”€â”€ app.jar              # Java åº”ç”¨æ‰“åŒ…æ–‡ä»¶ï¼ˆç¤ºä¾‹ï¼‰</span><br><span class="line">â””â”€â”€ mysql/                   # MySQL åˆå§‹åŒ–è„šæœ¬ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">    â””â”€â”€ init.sql             # å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œçš„ SQL è„šæœ¬</span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span>  <span class="comment"># Compose æ–‡ä»¶ç‰ˆæœ¬ï¼ˆå…¼å®¹ä¸»æµ Docker ç‰ˆæœ¬ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰ç½‘ç»œï¼ˆæ‰€æœ‰æœåŠ¡åŠ å…¥æ­¤ç½‘ç»œï¼Œå®ç°å†…éƒ¨é€šä¿¡ï¼‰</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">app-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span>  <span class="comment"># æ¡¥æ¥æ¨¡å¼ï¼ˆé»˜è®¤ï¼Œé€‚åˆå•æœºç¯å¢ƒï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># 1. Nginx æœåŠ¡ï¼ˆå‰ç«¯åå‘ä»£ç†ï¼‰</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:stable-alpine</span>  <span class="comment"># ä½¿ç”¨è½»é‡ç‰ˆ Nginx é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">app-nginx</span>   <span class="comment"># å®¹å™¨åç§°</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span>                 <span class="comment"># æ˜ å°„ä¸»æœº 80 ç«¯å£åˆ°å®¹å™¨ 80 ç«¯å£ï¼ˆå‰ç«¯è®¿é—®å…¥å£ï¼‰</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx/nginx.conf:/etc/nginx/conf.d/default.conf</span>  <span class="comment"># æŒ‚è½½è‡ªå®šä¹‰ Nginx é…ç½®</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx/html:/usr/share/nginx/html</span>                 <span class="comment"># æŒ‚è½½é™æ€èµ„æºç›®å½•</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">java</span>                    <span class="comment"># ä¾èµ– Java æœåŠ¡ï¼ˆç¡®ä¿ Java å…ˆå¯åŠ¨ï¼‰</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span>             <span class="comment"># åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œ</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span>             <span class="comment"># å®¹å™¨é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 2. Java æœåŠ¡ï¼ˆåç«¯åº”ç”¨ï¼‰</span></span><br><span class="line">  <span class="attr">java:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">./java</span>               <span class="comment"># åŸºäº java/Dockerfile æ„å»ºé•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">app-java</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SPRING_PROFILES_ACTIVE=prod</span>  <span class="comment"># Java åº”ç”¨ç¯å¢ƒå˜é‡ï¼ˆç¤ºä¾‹ï¼šç”Ÿäº§ç¯å¢ƒï¼‰</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DB_HOST=mysql</span>                <span class="comment"># æ•°æ®åº“åœ°å€ï¼ˆæœåŠ¡åå³ hostnameï¼‰</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DB_PORT=3306</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DB_NAME=appdb</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DB_USER=root</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DB_PASSWORD=123456</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">REDIS_HOST=redis</span>             <span class="comment"># Redis åœ°å€ï¼ˆæœåŠ¡åå³ hostnameï¼‰</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">REDIS_PORT=6379</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql</span>                    <span class="comment"># ä¾èµ– MySQL æœåŠ¡</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span>                    <span class="comment"># ä¾èµ– Redis æœåŠ¡</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 3. MySQL æœåŠ¡ï¼ˆæ•°æ®åº“ï¼‰</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span>             <span class="comment"># ä½¿ç”¨ MySQL 8.0 é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">app-mysql</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3306:3306&quot;</span>              <span class="comment"># æ˜ å°„ä¸»æœº 3306 ç«¯å£ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿å¤–éƒ¨è¿æ¥ï¼‰</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_ROOT_PASSWORD=123456</span>  <span class="comment"># æ ¹å¯†ç </span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_DATABASE=appdb</span>        <span class="comment"># åˆå§‹åŒ–æ•°æ®åº“å</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_CHARSET=utf8mb4</span>       <span class="comment"># å­—ç¬¦é›†</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_COLLATION=utf8mb4_unicode_ci</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql-data:/var/lib/mysql</span>   <span class="comment"># æ•°æ®æŒä¹…åŒ–ï¼ˆæŒ‚è½½åˆ°åŒ¿åå·ï¼‰</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./mysql/init.sql:/docker-entrypoint-initdb.d/init.sql</span>  <span class="comment"># åˆå§‹åŒ–è„šæœ¬ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">--default-authentication-plugin=mysql_native_password</span>  <span class="comment"># å…¼å®¹æ—§ç‰ˆå®¢æˆ·ç«¯</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 4. Redis æœåŠ¡ï¼ˆç¼“å­˜ï¼‰</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:alpine</span>          <span class="comment"># è½»é‡ç‰ˆ Redis é•œåƒ</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">app-redis</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6379:6379&quot;</span>              <span class="comment"># æ˜ å°„ä¸»æœº 6379 ç«¯å£ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis-data:/data</span>         <span class="comment"># æ•°æ®æŒä¹…åŒ–</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">--appendonly</span> <span class="literal">yes</span>  <span class="comment"># å¼€å¯ AOF æŒä¹…åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å£°æ˜æŒä¹…åŒ–å·ï¼ˆæ•°æ®ä¸ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ï¼‰</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql-data:</span></span><br><span class="line">  <span class="attr">redis-data:</span></span><br></pre></td></tr></table></figure>

<p>ç›¸å¯¹åº”çš„ Dockerfile</p>
<ul>
<li>nginx&#x2F;nginx.conf</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /api/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://java:8080/;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>java&#x2F;Dockerfile</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºç¡€é•œåƒï¼ˆJava 17 è¿è¡Œæ—¶ï¼Œè½»é‡ç‰ˆï¼‰</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">17</span>-jdk-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ Java åº”ç”¨ JAR åŒ…åˆ°å®¹å™¨</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> app.jar /app/app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ² Java åº”ç”¨ç«¯å£ï¼ˆé»˜è®¤ 8080ï¼‰</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å‘½ä»¤ï¼ˆæŒ‡å®š JVM å‚æ•°ä¼˜åŒ–ï¼‰</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>mysql&#x2F;init.sqlï¼ˆå¯é€‰ï¼‰</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE appdb;</span><br></pre></td></tr></table></figure>

<h2 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h2><h3 id="ç«¯å£æ˜ å°„"><a href="#ç«¯å£æ˜ å°„" class="headerlink" title="ç«¯å£æ˜ å°„"></a>ç«¯å£æ˜ å°„</h3><p>åœ¨Windowsã€macosä¸Šï¼Œå¦‚æœè¿è¡Œæ—¶æŒ‡å®šäº†ç«¯å£çš„æ˜ å°„ï¼Œå®¹å™¨å†…å¯ç›´æ¥è®¿é—®å®¿ä¸»æœºçš„ç«¯å£ã€‚æ¯”å¦‚ nginx å®¹å™¨é‡Œé¢çš„æ¥å£ä»£ç†ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡<code>localhost:8080</code>è®¿é—®å®¿ä¸»æœºçš„ç«¯å£ï¼ˆ8080ç«¯å£åœ¨æ˜¯è¿è¡Œåœ¨å®¿ä¸»æœºçš„æœåŠ¡ï¼‰ã€‚</p>
<p>ä½†åœ¨Linuxï¼ˆDocker 20.10+ï¼‰ä¸Šï¼Œéœ€è¦é¢å¤–çš„é…ç½®ï¼š<code>host.docker.internal</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose.yml</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx-service:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx/conf.d:/etc/nginx/conf.d</span>  <span class="comment"># æŒ‚è½½ä½ çš„Nginxé…ç½®</span></span><br><span class="line">    <span class="comment"># å…³é”®ï¼šæ·»åŠ host.docker.internalæ˜ å°„åˆ°å®¿ä¸»æœº</span></span><br><span class="line">    <span class="attr">extra_hosts:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;host.docker.internal:host-gateway&quot;</span>  <span class="comment"># host-gateway æ˜¯Docker 20.10+æ”¯æŒçš„å®¿ä¸»æœºç½‘å…³åˆ«å</span></span><br><span class="line">    <span class="comment"># å…¶ä»–é…ç½®ï¼ˆå¦‚ç½‘ç»œï¼Œå¯é€‰ï¼‰</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my-network</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">my-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ nginx é…ç½®ä¸­</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /api/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://host.docker.internal:8080/;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="VSCode-å®¹å™¨å¼€å‘"><a href="#VSCode-å®¹å™¨å¼€å‘" class="headerlink" title="VSCode å®¹å™¨å¼€å‘"></a>VSCode å®¹å™¨å¼€å‘</h2><p>âš™ï¸ éœ€è¦å®‰è£… vscode æ’ä»¶<code>Dev Containers</code></p>
<p>ğŸ”— å®¹å™¨å†…å¤–æ–‡ä»¶ä¼šè‡ªåŠ¨åŒæ­¥</p>
<p>ä½¿ç”¨åœºæ™¯ï¼šç»Ÿä¸€çš„å¼€å‘ç¯å¢ƒï¼Œæˆ–è€…æ˜¯ç‰¹æ®Šçš„å¼€å‘ç¯å¢ƒï¼Œä»¥ä¸‹ç¤ºä¾‹åŸºäº<code>python2</code>ã€<code>node14</code>çš„ä¸å¸¸è§å¼€å‘ç¯å¢ƒï¼ˆå¯¹äº 2025 å¹´æ¥è¯´ï¼‰</p>
<h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºé…ç½®æ–‡ä»¶"></a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><p>åœ¨æ ¹ç›®å½•åˆ›å»º<code>.devcontainer</code>æ–‡ä»¶å¤¹ï¼Œæ·»åŠ ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<p><strong><code>Dockerfile</code></strong></p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å®˜æ–¹ Python 2 é•œåƒä½œä¸ºåŸºç¡€</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">2.7</span>-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Node.js 14</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y curl</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> curl -fsSL https://deb.nodesource.com/setup_14.x | bash -</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y nodejs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å¸¸ç”¨å·¥å…·ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get install -y git vim</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /workspace</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Python ä¾èµ–ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> requirements.txt .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Node.js ä¾èµ–ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> package.json .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm install</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å’Œç»ˆç«¯ä¸€æ ·ï¼Œå‘½ä»¤å’Œä½¿ç”¨<code>\</code>æ¥æ¢è¡Œ</li>
</ul>
<p><strong><code>devcontainer.json</code></strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python 2 + Node.js 14&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dockerfile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Dockerfile&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;extensions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;ms-python.python&quot;</span><span class="punctuation">,</span> <span class="comment">// Python æ‰©å±•</span></span><br><span class="line">    <span class="string">&quot;dbaeumer.vscode-eslint&quot;</span><span class="punctuation">,</span> <span class="comment">// ESLint æ‰©å±•</span></span><br><span class="line">    <span class="string">&quot;esbenp.prettier-vscode&quot;</span> <span class="comment">// Prettier æ‰©å±•</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;forwardPorts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">3000</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// è½¬å‘ç«¯å£ï¼ˆNode.js åº”ç”¨ï¼‰ï¼Œå¯æŒ‡å®šå¤šä¸ªï¼Œæ¯”å¦‚å®¹å™¨é‡Œé¢è¿˜æœ‰æœåŠ¡ç«¯çš„ç«¯å£</span></span><br><span class="line">  <span class="attr">&quot;postCreateCommand&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm install&quot;</span><span class="punctuation">,</span> <span class="comment">// å®¹å™¨åˆ›å»ºåè¿è¡Œå‘½ä»¤</span></span><br><span class="line">  <span class="attr">&quot;workspaceMount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;source=$&#123;localWorkspaceFolder&#125;,target=/workspace,type=bind&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workspaceFolder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/workspace&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>åœ¨ VSCode ä¸­è¾“å…¥å¿«æ·é”®<code>Ctrl/Cmd + Shift + P</code>ï¼Œæˆ–è€…ç‚¹å‡»å·¦ä¸‹è§’çš„è“è‰²ç®­å¤´ï¼ˆæˆ–è€…å…¶ä»–ä¸»é¢˜è‰²ï¼‰ï¼Œé€‰æ‹©<strong>Reopen in container</strong>ï¼ˆåœ¨å®¹å™¨ä¸­é‡æ–°æ‰“å¼€ï¼‰</p>
<p>æ­¤è¿‡ç¨‹ä¸­ä¼šï¼š</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªé•œåƒï¼Œé•œåƒåç§°ä»¥<code>vsc</code>å¼€å¤´</p>
</li>
<li><p>åŸºäºé•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨</p>
</li>
<li><p>è¿è¡ŒæˆåŠŸåï¼Œvscode åœ°ä¸‹çš„é¢æ¿ä¸­çš„ PORTï¼ˆç«¯å£ï¼‰ é€‰é¡¹é¢æ¿å°±ä¼šæ˜¾ç¤ºå‡ºåœ¨<code>forwardPorts</code>ä¸­é…ç½®çš„è½¬å‘ç«¯å£</p>
</li>
</ul>
<blockquote>
<p>å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œå¹¶ä¸”æ˜¯ç”±äºæ‹‰å»ä¸åˆ°é•œåƒï¼Œå¯ä»¥å…ˆæ‹‰å»æ‰€éœ€è¦çš„é•œåƒï¼Œå†å¯åŠ¨ã€‚å¦‚<code>docker pull python:2.7-slim</code></p>
</blockquote>
<h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><h2 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h2><p><strong>Ubuntu</strong></p>
<p>ä¾èµ–Javaè¿è¡Œï¼Œéœ€è¦å…ˆå®‰è£…Java</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install openjdk-17-jdk</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å‹ç¼©åŒ…å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dlcdn.apache.org/maven/maven-3/3.9.6/binaries/apache-maven-3.9.6-bin.tar.gz</span><br></pre></td></tr></table></figure>

<p>è§£å‹ã€å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-maven-3.9.6-bin.tar.gz -C /opt/</span><br></pre></td></tr></table></figure>

<p>é…ç½®è½¯è¿æ¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /opt/apache-maven-3.9.6 /opt/maven</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸”æ·»åŠ å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile.d/maven.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME=/opt/maven</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;MAVEN_HOME&#125;</span>/bin:<span class="variable">$&#123;PATH&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile.d/maven.sh</span><br></pre></td></tr></table></figure>

<p>éªŒè¯å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -v</span><br></pre></td></tr></table></figure>

<h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="Docker-1"><a href="#Docker-1" class="headerlink" title="Docker"></a>Docker</h2><h3 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h3><p>æ‹‰å– -&gt; åˆ›å»º -&gt; è¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name mysql-8 \</span><br><span class="line">  -p 3306:3306 \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">  -v mysql-data:/var/lib/mysql \</span><br><span class="line">  mysql:8.0</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it mysql-8 bash</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥å®¹å™¨ååˆ›å»ºå¯è¿œç¨‹è¿æ¥çš„ç”¨æˆ·</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<p>æœ¬æœºè¿æ¥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h localhost -P 3306 -u root -p</span><br></pre></td></tr></table></figure>

<h3 id="docker-compose-ç¯å¢ƒå˜é‡-ç¤ºä¾‹"><a href="#docker-compose-ç¯å¢ƒå˜é‡-ç¤ºä¾‹" class="headerlink" title="docker-compose + ç¯å¢ƒå˜é‡ ç¤ºä¾‹"></a>docker-compose + ç¯å¢ƒå˜é‡ ç¤ºä¾‹</h3><p><code>docker-compose.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">$&#123;MYSQL_CONTAINER_NAME:-mysql-5.7&#125;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">$&#123;RESTART_POLICY:-always&#125;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">$&#123;MYSQL_ROOT_PASSWORD:-defaultrootpass&#125;</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">$&#123;MYSQL_DATABASE:-appdb&#125;</span></span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">$&#123;MYSQL_USER:-appuser&#125;</span></span><br><span class="line">      <span class="attr">MYSQL_PASSWORD:</span> <span class="string">$&#123;MYSQL_PASSWORD:-apppass&#125;</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">$&#123;TIMEZONE:-Asia/Shanghai&#125;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_data:/var/lib/mysql</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">$&#123;CONF_DIR:-./conf&#125;:/etc/mysql/conf.d</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">$&#123;INIT_SCRIPTS_DIR:-./init-scripts&#125;:/docker-entrypoint-initdb.d</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;$&#123;HOST_PORT:-33060&#125;:3306&quot;</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">resources:</span></span><br><span class="line">        <span class="attr">limits:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;$&#123;CPU_LIMIT:-1&#125;&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">$&#123;MEMORY_LIMIT:-1G&#125;</span></span><br><span class="line">        <span class="attr">reservations:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;$&#123;CPU_RESERVATION:-0.5&#125;&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">$&#123;MEMORY_RESERVATION:-512M&#125;</span></span><br><span class="line">    <span class="attr">healthcheck:</span></span><br><span class="line">      <span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;mysqladmin&quot;</span>, <span class="string">&quot;ping&quot;</span>, <span class="string">&quot;-h&quot;</span>, <span class="string">&quot;localhost&quot;</span>, <span class="string">&quot;-u&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;-p$$MYSQL_ROOT_PASSWORD&quot;</span>]</span><br><span class="line">      <span class="attr">interval:</span> <span class="string">10s</span></span><br><span class="line">      <span class="attr">timeout:</span> <span class="string">5s</span></span><br><span class="line">      <span class="attr">retries:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">$&#123;NETWORK_NAME:-mysql-network&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="string">$&#123;NETWORK_NAME:-mysql-network&#125;:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql_data:</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>.env.example</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># å®¹å™¨åç§°</span><br><span class="line">MYSQL_CONTAINER_NAME=my-mysql-5.7</span><br><span class="line"></span><br><span class="line"># é‡å¯ç­–ç•¥ï¼ˆalways/no/on-failureï¼‰</span><br><span class="line">RESTART_POLICY=always</span><br><span class="line"></span><br><span class="line"># æ•°æ®åº“è®¤è¯ä¿¡æ¯</span><br><span class="line">MYSQL_ROOT_PASSWORD=secure_root_pass</span><br><span class="line">MYSQL_DATABASE=myappdb</span><br><span class="line">MYSQL_USER=appuser</span><br><span class="line">MYSQL_PASSWORD=secure_app_pass</span><br><span class="line"></span><br><span class="line"># æ—¶åŒº</span><br><span class="line">TIMEZONE=Asia/Shanghai</span><br><span class="line"></span><br><span class="line"># ç«¯å£æ˜ å°„ï¼ˆå®¿ä¸»æœºç«¯å£ï¼‰</span><br><span class="line">HOST_PORT=33060</span><br><span class="line"></span><br><span class="line"># ç›®å½•æ˜ å°„ï¼ˆè‡ªå®šä¹‰é…ç½®å’Œåˆå§‹åŒ–è„šæœ¬ï¼‰</span><br><span class="line">CONF_DIR=./conf</span><br><span class="line">INIT_SCRIPTS_DIR=./init-scripts</span><br><span class="line"></span><br><span class="line"># èµ„æºé™åˆ¶</span><br><span class="line">CPU_LIMIT=1</span><br><span class="line">MEMORY_LIMIT=1G</span><br><span class="line">CPU_RESERVATION=0.5</span><br><span class="line">MEMORY_RESERVATION=512M</span><br><span class="line"></span><br><span class="line"># ç½‘ç»œåç§°</span><br><span class="line">NETWORK_NAME=my-mysql-network</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h1><h2 id="è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰"><a href="#è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰" class="headerlink" title="è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰"></a>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</h2><blockquote>
<p>è·¨åŸŸèµ„æºå…±äº« å’Œ æµè§ˆå™¨çš„åŒæºç­–ç•¥ äº§ç”Ÿçš„è·¨åŸŸé—®é¢˜å±äºä¸¤ä¸ªä¸åŒèŒƒç•´</p>
</blockquote>
<p>é€šè¿‡ Nginx çš„é…ç½®å¯è§£å†³å‰ç«¯çš„è·¨åŸŸé—®é¢˜ï¼Œä½†æ˜¯è·¨åŸŸèµ„æºå…±äº«åˆ™<strong>éœ€è¦åç«¯</strong>è§£å†³ï¼š</p>
<ul>
<li>CORS å±äºæœåŠ¡ç«¯çš„è§£å†³æ–¹æ¡ˆ</li>
<li>CORS å…è®¸ç›®æ ‡æœåŠ¡å™¨å£°æ˜å“ªäº›å¤–éƒ¨åŸŸåå¯ä»¥è®¿é—®å…¶èµ„æº</li>
</ul>
<p>åç«¯åœ¨å“åº”å¤´ï¼Œéœ€è¦çš„æ˜¯æ·»åŠ å¦‚<code>Access-Control-Allow-*</code>ä¹‹ç±»çš„å£°æ˜</p>
<p>é»˜è®¤æƒ…å†µä¸‹æµè§ˆå™¨ä¼šæ ¹æ®åŒæºç­–ç•¥æ¥é˜»æ­¢éåŒæºè¯·æ±‚ï¼Œå¦‚æœ ç›®æ ‡æœåŠ¡å™¨æ”¯æŒ CORSï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å“åº”å¤´æ·»åŠ é€‚å½“çš„ CORS å¤´æ¥å‘Šè¯‰æµè§ˆå™¨å…è®¸ç‰¹å®šçš„è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>CORS å·¥ä½œåŸç†ï¼š</p>
<ul>
<li><p>é¢„æ£€è¯·æ±‚ï¼ˆPreflight Requestï¼‰</p>
<ul>
<li>å¯¹äºæŸäº›è·¨åŸŸè¯·æ±‚ï¼ˆPUTã€DELETE æˆ–å¸¦æœ‰è‡ªå®šä¹‰å¤´çš„è¯·æ±‚ï¼‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€è¯·æ±‚ï¼‰æ¥è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ã€‚</li>
</ul>
</li>
<li><p>CORS å“åº”å¤´</p>
<ul>
<li>æœåŠ¡ç«¯åœ¨å“åº”å¤´ä¸­åŠ å…¥å¦‚ Access-Control-Allo-Originã€Access-Control-Allow-Methods æ¥å…è®¸æµè§ˆå™¨è·¨åŸŸè®¿é—®</li>
</ul>
</li>
<li><p>ç®€å•è¯·æ±‚</p>
<ul>
<li>GETã€POSTï¼ˆå¹¶ä¸”æ²¡æœ‰ç‰¹æ®Šå¤´çš„è¯·æ±‚ï¼‰ç­‰ç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ä¸ä¼šå‘é€é¢„æ£€è¯·æ±‚ã€‚å¦‚æœæœåŠ¡ç«¯çš„å“åº”å¤´ä¸­æœ‰ç›¸å…³çš„ CORS å¤´é…ç½®ï¼Œæµè§ˆå™¨ä¼šå…è®¸è¿™ä¸ªè¯·æ±‚</li>
</ul>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>éƒ¨ç½²æ‰‹å†Œ</p><p><a href="https://smalljerry.cn/2025/02/15/éƒ¨ç½²æ‰‹å†Œ/">https://smalljerry.cn/2025/02/15/éƒ¨ç½²æ‰‹å†Œ/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>ä½œè€…</h6><p>dsjerry</p></div></div><div class="level-item is-narrow"><div><h6>å‘å¸ƒäº</h6><p>2025-02-15</p></div></div><div class="level-item is-narrow"><div><h6>æ›´æ–°äº</h6><p>2025-11-06</p></div></div><div class="level-item is-narrow"><div><h6>è®¸å¯åè®®</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=600a73038bb33e00116e6fcd&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Vantç»„ä»¶ç¤ºä¾‹</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2025/02/15/nestjs/"><span class="level-item">nestjså­¦ä¹ æ—¥è®°</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comments"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="SOHUCS" sid="2025/02/15/éƒ¨ç½²æ‰‹å†Œ/"></div><script charset="utf-8" src="https://changyan.sohu.com/upload/changyan.js"></script><script>window.changyan.api.config({appid: 'cyv16UaRt',conf: 'prod_98785f0d345863265cd9f6df0d1aea6d'});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">å‰ç«¯å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">åç«¯å­¦ä¹ </span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/"><span class="level-start"><span class="level-item">è½¯ä»¶é…ç½®</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/"><span class="level-start"><span class="level-item">éƒ¨ç½²è¿ç»´</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label"><i class="fas fa-music"></i>Â å¬å¬éŸ³ä¹</h3><div class="aplayer-widget" id="aplayer-widget"></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://dsjerry.lofter.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">lofter</span></span><span class="level-right"><span class="level-item tag">dsjerry.lofter.com</span></span></a></li><li><a class="level is-mobile" href="https://chat.smalljerry.cn/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">chat-ds</span></span><span class="level-right"><span class="level-item tag">chat.smalljerry.cn</span></span></a></li><li><a class="level is-mobile" href="https://space.bilibili.com/85892062" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">bilibili</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li><li><a class="level is-mobile" href="https://www.douyin.com/user/MS4wLjABAAAAk81CD3MQxJmSkUKmeATakVo8e-bc3NYFBcHLT3dGv24" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">douyin</span></span><span class="level-right"><span class="level-item tag">www.douyin.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=smalljerry/fBtC&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="smalljerry/fBtC" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="è®¢é˜…"></div></div><p class="help">By feedburner</p></form></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><figure class="media-left"><a class="image" href="/2025/06/25/%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/"><img src="https://s21.ax1x.com/2025/06/25/pVeqfl6.png" alt="æ¥å£è¯·æ±‚"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-06-25T13:38:49.000Z">2025-06-25</time></p><p class="title"><a href="/2025/06/25/%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82/">æ¥å£è¯·æ±‚</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">å‰ç«¯å­¦ä¹ </a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/06/12/API%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/"><img src="https://s21.ax1x.com/2025/06/12/pVkjlZ9.png" alt="APIé£æ ¼æŒ‡å—"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-06-12T14:51:37.000Z">2025-06-12</time></p><p class="title"><a href="/2025/06/12/API%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/">APIé£æ ¼æŒ‡å—</a></p><p class="categories"><a href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/">åç«¯å­¦ä¹ </a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/"><img src="https://s21.ax1x.com/2025/03/03/pEGHjr8.png" alt="Vantç»„ä»¶ç¤ºä¾‹"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-03-03T14:51:34.000Z">2025-03-03</time></p><p class="title"><a href="/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/">Vantç»„ä»¶ç¤ºä¾‹</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">å‰ç«¯å­¦ä¹ </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-02-15T08:50:12.000Z">2025-02-15</time></p><p class="title"><a href="/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/">éƒ¨ç½²æ‰‹å†Œ</a></p><p class="categories"><a href="/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/">éƒ¨ç½²è¿ç»´</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/02/15/nestjs/"><img src="https://s21.ax1x.com/2025/02/17/pEM3hqS.png" alt="nestjså­¦ä¹ æ—¥è®°"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-02-15T02:13:54.000Z">2025-02-15</time></p><p class="title"><a href="/2025/02/15/nestjs/">nestjså­¦ä¹ æ—¥è®°</a></p><p class="categories"><a href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/">åç«¯å­¦ä¹ </a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API/"><span class="tag">API</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache/"><span class="tag">apache</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ftp/"><span class="tag">ftp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ts/"><span class="tag">ts</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vscode/"><span class="tag">vscode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"><span class="tag">å¼€å‘è§„èŒƒ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%93%E5%8C%85/"><span class="tag">æ‰“åŒ…</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%A5%E5%8F%A3/"><span class="tag">æ¥å£</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">æ•°æ®åº“</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8B%E8%AF%95/"><span class="tag">æµ‹è¯•</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/"><span class="tag">çŠ¶æ€ç®¡ç†</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"><span class="tag">ç§»åŠ¨ç«¯</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E4%BB%B6/"><span class="tag">ç»„ä»¶</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E7%AC%94/"><span class="tag">éšç¬”</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">å¹¿å‘Š</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5233359657851046" data-ad-slot="1034023065" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars.githubusercontent.com/u/53891546?v=4" alt="life is fantastic!ğŸ†"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">life is fantastic!ğŸ†</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives/"><p class="title">55</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories/"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags/"><p class="title">28</p></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="level is-mobile" href="#git"><span class="level-left"><span class="level-item">1</span><span class="level-item">git</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#linux-é…ç½®ç™»å½•"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">linux é…ç½®ç™»å½•</span></span></a></li></ul></li><li><a class="level is-mobile" href="#NGINX"><span class="level-left"><span class="level-item">2</span><span class="level-item">NGINX</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åå‘ä»£ç†"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">åå‘ä»£ç†</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ç«¯å£åˆ°å­åŸŸå"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">ç«¯å£åˆ°å­åŸŸå</span></span></a></li><li><a class="level is-mobile" href="#ç«¯å£åˆ°è·¯å¾„"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">ç«¯å£åˆ°è·¯å¾„</span></span></a></li><li><a class="level is-mobile" href="#ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ"><span class="level-left"><span class="level-item">2.1.3</span><span class="level-item">ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Docker"><span class="level-left"><span class="level-item">3</span><span class="level-item">Docker</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Dockerfile"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Dockerfile</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ç¤ºä¾‹"><span class="level-left"><span class="level-item">3.1.1</span><span class="level-item">ç¤ºä¾‹</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#nginx"><span class="level-left"><span class="level-item">3.1.1.1</span><span class="level-item">nginx</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#docker-compose"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">docker compose</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#è¿è¡ŒæœåŠ¡"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">è¿è¡ŒæœåŠ¡</span></span></a></li><li><a class="level is-mobile" href="#ä»…æ„å»ºé•œåƒ"><span class="level-left"><span class="level-item">3.2.2</span><span class="level-item">ä»…æ„å»ºé•œåƒ</span></span></a></li><li><a class="level is-mobile" href="#ç¤ºä¾‹-1"><span class="level-left"><span class="level-item">3.2.3</span><span class="level-item">ç¤ºä¾‹</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åŸºæœ¬çš„webç¨‹åº"><span class="level-left"><span class="level-item">3.2.3.1</span><span class="level-item">åŸºæœ¬çš„webç¨‹åº</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#ç½‘ç»œé…ç½®"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">ç½‘ç»œé…ç½®</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ç«¯å£æ˜ å°„"><span class="level-left"><span class="level-item">3.3.1</span><span class="level-item">ç«¯å£æ˜ å°„</span></span></a></li></ul></li><li><a class="level is-mobile" href="#VSCode-å®¹å™¨å¼€å‘"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">VSCode å®¹å™¨å¼€å‘</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åˆ›å»ºé…ç½®æ–‡ä»¶"><span class="level-left"><span class="level-item">3.4.1</span><span class="level-item">åˆ›å»ºé…ç½®æ–‡ä»¶</span></span></a></li><li><a class="level is-mobile" href="#å¯åŠ¨"><span class="level-left"><span class="level-item">3.4.2</span><span class="level-item">å¯åŠ¨</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#Java"><span class="level-left"><span class="level-item">4</span><span class="level-item">Java</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#maven"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">maven</span></span></a></li></ul></li><li><a class="level is-mobile" href="#MySQL"><span class="level-left"><span class="level-item">5</span><span class="level-item">MySQL</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Docker-1"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Docker</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#åŸºæœ¬æ“ä½œ"><span class="level-left"><span class="level-item">5.1.1</span><span class="level-item">åŸºæœ¬æ“ä½œ</span></span></a></li><li><a class="level is-mobile" href="#docker-compose-ç¯å¢ƒå˜é‡-ç¤ºä¾‹"><span class="level-left"><span class="level-item">5.1.2</span><span class="level-item">docker-compose + ç¯å¢ƒå˜é‡ ç¤ºä¾‹</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#ç›¸å…³æ¦‚å¿µ"><span class="level-left"><span class="level-item">6</span><span class="level-item">ç›¸å…³æ¦‚å¿µ</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">SMALLJERRY</a><p class="is-size-7"><span>&copy; 2025 dsjerry</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢</span><br><br><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn">ç²¤ICPå¤‡20067843å·</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script><!-- hexo injector body_end start -->
<script src="/js/logo.js"></script>
<!-- hexo injector body_end end --></body></html>