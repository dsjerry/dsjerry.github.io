{"posts":[{"title":"APIé£æ ¼æŒ‡å—","text":"ğŸª· æˆ‘æ˜¯è·èŠ±ï¼Œæˆ‘æƒ³å¼€äº† æœ€è¿‘åœ¨å­¦ NestJSï¼Œæœ‰æ—¶å€™æ€»ä¼šæƒ³åˆ°ï¼šè¿™æ ·ä¸åˆç†ï¼Œé‚£åˆä¸å¥½çœ‹ï¼Œä»è€Œåœ¨é’»ç‰›è§’å°–ã€‚ä¸å¦‚ä»è§„èŒƒå…¥æ‰‹ï¼Œæ¯•ç«Ÿè¿™æ˜¯å¤§å®¶å…¬è®¤çš„ï¼ˆåˆç†ï¼‰ RESTful1. èµ„æºï¼ˆResourcesï¼‰ ä½¿ç”¨åè¯ï¼ˆå¤æ•°å½¢å¼ï¼‰è¡¨ç¤ºèµ„æº ç¤ºä¾‹ï¼š/users, /articles, /products 2. HTTP æ–¹æ³• æ–¹æ³• æè¿° å¹‚ç­‰æ€§ ç¤ºä¾‹ GET è·å–èµ„æº æ˜¯ GET /users POST åˆ›å»ºæ–°èµ„æº å¦ POST /users PUT æ›´æ–°æ•´ä¸ªèµ„æºï¼ˆå…¨é‡æ›¿æ¢ï¼‰ æ˜¯ PUT /users/1 PATCH éƒ¨åˆ†æ›´æ–°èµ„æº å¦ PATCH /users/1 DELETE åˆ é™¤èµ„æº æ˜¯ DELETE /users/1 3. çŠ¶æ€ç  200 OK - æˆåŠŸ 201 Created - åˆ›å»ºæˆåŠŸ 204 No Content - æˆåŠŸä½†æ— è¿”å›å†…å®¹ 400 Bad Request - è¯·æ±‚é”™è¯¯ 401 Unauthorized - æœªè®¤è¯ 403 Forbidden - æ— æƒé™ 404 Not Found - èµ„æºä¸å­˜åœ¨ 500 Internal Server Error - æœåŠ¡å™¨é”™è¯¯ 4. URL è®¾è®¡ ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ - ä½¿ç”¨ / è¡¨ç¤ºå±‚çº§å…³ç³» ç¤ºä¾‹ï¼š/users/123/orders 5. æŸ¥è¯¢å‚æ•° ç”¨äºè¿‡æ»¤ã€æ’åºã€åˆ†é¡µç­‰ ç¤ºä¾‹ï¼š è¿‡æ»¤ï¼š/users?role=admin åˆ†é¡µï¼š/users?page=2&amp;limit=10 æ’åºï¼š/users?sort=-created_at,name 6. ç‰ˆæœ¬æ§åˆ¶ URL ä¸­åŒ…å«ç‰ˆæœ¬å·ï¼š/api/v1/users æˆ–ä½¿ç”¨è¯·æ±‚å¤´ï¼šAccept: application/vnd.myapp.v1+json 7. å“åº”æ ¼å¼ ä½¿ç”¨ JSON æ ¼å¼ åŒ…å«å…ƒæ•°æ®ï¼ˆå¦‚åˆ†é¡µä¿¡æ¯ï¼‰ ç¤ºä¾‹ï¼š12345678{ &quot;data&quot;: [...], &quot;pagination&quot;: { &quot;total&quot;: 100, &quot;page&quot;: 1, &quot;limit&quot;: 10 }} 8. é”™è¯¯å¤„ç† åŒ…å«é”™è¯¯ç å’Œæè¿°ä¿¡æ¯ ç¤ºä¾‹ï¼š12345678910{ &quot;error&quot;: { &quot;code&quot;: &quot;invalid_input&quot;, &quot;message&quot;: &quot;Name is required&quot;, &quot;details&quot;: { &quot;field&quot;: &quot;name&quot;, &quot;issue&quot;: &quot;required&quot; } }} 9. å®‰å…¨ ä½¿ç”¨ HTTPS ä½¿ç”¨é€‚å½“çš„è®¤è¯æœºåˆ¶ï¼ˆå¦‚ JWTã€OAuth2.0ï¼‰ å®ç°é€Ÿç‡é™åˆ¶ 10. æœ€ä½³å®è·µ ä½¿ç”¨åè¯è€ŒéåŠ¨è¯ ä¿æŒ URL ç®€æ´ ä½¿ç”¨é€‚å½“çš„ HTTP çŠ¶æ€ç  æä¾›æ¸…æ™°çš„æ–‡æ¡£ å®ç° HATEOASï¼ˆå¯é€‰ï¼‰ 11. å¸¸è§ç«¯ç‚¹ç¤ºä¾‹123456GET /users # è·å–ç”¨æˆ·åˆ—è¡¨POST /users # åˆ›å»ºç”¨æˆ·GET /users/{id} # è·å–å•ä¸ªç”¨æˆ·PUT /users/{id} # æ›´æ–°ç”¨æˆ·ï¼ˆå…¨é‡ï¼‰PATCH /users/{id} # æ›´æ–°ç”¨æˆ·ï¼ˆéƒ¨åˆ†ï¼‰DELETE /users/{id} # åˆ é™¤ç”¨æˆ·","link":"/2025/06/12/API%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/"},{"title":"CentOS 7 æ­å»ºFTPæœåŠ¡","text":"æ“ä½œç³»ç»Ÿï¼šCentOS 7 å®‰è£… vsftpdä»¥ root èº«ä»½æ‰§è¡Œ 1yum install -y vsftpd è®¾ç½®å¼€æœºè‡ªå¯ 1systemctl enable vsftpd å¯åŠ¨ FTP æœåŠ¡ 1systemctl start vsftpd æŸ¥çœ‹FTPæœåŠ¡çš„å ç”¨ç«¯å£ä»¥ç¡®è®¤å¼€å¯äº†æ­¤æœåŠ¡ 1netstat -antup | grep ftp æ­¤æ—¶ï¼Œvsftpd å·²é»˜è®¤å¼€å¯åŒ¿åè®¿é—®æ¨¡å¼ï¼Œæ— éœ€é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å³å¯ç™»å½• FTP æœåŠ¡å™¨ã€‚ä½¿ç”¨æ­¤æ–¹å¼ç™»å½• FTP æœåŠ¡å™¨çš„ç”¨æˆ·æ²¡æœ‰æƒä¿®æ”¹æˆ–ä¸Šä¼ æ–‡ä»¶çš„æƒé™ã€‚ é…ç½® vsftpdä¸º FTP æœåŠ¡åˆ›å»ºç”¨æˆ· 1useradd ftpuser è®¾ç½®æ­¤ç”¨æˆ·çš„å¯†ç  1passwd ftpuser åˆ›å»ºFTPæœåŠ¡ä½¿ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆåœ¨å“ªåˆ›å»ºéƒ½okï¼‰ 1mkdir /var/ftp/file ä¿®æ”¹ç›®å½•æƒé™ 1chown -R ftpuser:ftpuser /var/ftp/file :å·¦è¾¹çš„æ˜¯ç”¨æˆ·ï¼Œå³è¾¹çš„æ˜¯ç”¨æˆ·ç»„ ç¼–è¾‘ vsftpd.conf é…ç½®æ–‡ä»¶ 1vim /etc/vsftpd/vsftpd.conf FTP å¯é€šè¿‡ä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼ä¸å®¢æˆ·ç«¯æœºå™¨è¿›è¡Œè¿æ¥å¹¶ä¼ è¾“æ•°æ®ã€‚ç”±äºå¤§å¤šæ•°å®¢æˆ·ç«¯æœºå™¨çš„é˜²ç«å¢™è®¾ç½®åŠæ— æ³•è·å–çœŸå® IP ç­‰åŸå› ï¼Œæ¨èä½¿ç”¨è¢«åŠ¨æ¨¡å¼ åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ä¸€ä¸‹å†…å®¹ 123456anonymous_enable=NOlocal_enable=YESchroot_local_user=YESchroot_list_enable=YESchroot_list_file=/etc/vsftpd/chroot_listlisten=YES ä½¿ç”¨ # æ³¨é‡Šå…³é—­ç›‘å¬ IPv6 sockets 1#listen_ipv6=YES æ·»åŠ ä»¥ä¸‹é…ç½®å‚æ•°ï¼Œå¼€å¯è¢«åŠ¨æ¨¡å¼ 123456789# ç™»å½•åæ‰€å¤„çš„ç›®å½•local_root=/var/ftp/testallow_writeable_chroot=YESpasv_enable=YES# ä¸‹é¢åŠ å…¥è‡ªå·±çš„IPåœ°å€pasv_address=xxx.xx.xxx.xx# å»ºç«‹æ•°æ®ä¼ è¾“å¯ä½¿ç”¨çš„ç«¯å£èŒƒå›´å€¼pasv_min_port=40000pasv_max_port=45000 :wq ä¿å­˜é€€å‡º ä¿®æ”¹ chroot_list æ–‡ä»¶ 1vim /etc/vsftpd/chroot_list è¿™ä¸ªæ–‡ä»¶ä¸­ä¿å­˜çš„æ˜¯ä¾‹å¤–å…è®¸çš„ç”¨æˆ· ä¸€ä¸ªç”¨æˆ·åå ç”¨ä¸€è¡Œ é‡å¯ FTP æœåŠ¡ 1systemctl restart vsftpd å¼€æ”¾ç«¯å£ï¼ˆéäº‘æœåŠ¡å™¨ï¼‰å¼€æ”¾ FTP ä½¿ç”¨çš„ 21 ç«¯å£ 1firewall-cmd --zone=public --add-port=21/tcp --permanent å¦‚æœè¦å…³é—­ï¼Œå°† add æ”¹ä¸º remove å°±è¡Œ è®¾ç½®å®‰å…¨ç»„ï¼ˆäº‘æœåŠ¡å™¨ï¼‰ä»¥ è…¾è®¯äº‘ä¸ºä¾‹ï¼Œæ‰“å¼€è…¾è®¯äº‘çš„æ§åˆ¶å°ï¼Œæ‰¾åˆ° å®‰å…¨ç»„ ç‚¹å‡» ä¿®æ”¹è§„åˆ™ï¼Œç„¶å æ·»åŠ è§„åˆ™ å¤‡æ³¨å¤‡æ³¨1ï¼šç™»å½•å¤±è´¥å¦‚æœé…ç½®ä¹‹åï¼Œä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ç™»å½•ç™»å½•ä¸æˆåŠŸï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/pam.d/vsftpd 1vim /etc/pam.d/vsftpd æ·»åŠ  # æ³¨é‡Šæ‰è¿™ä¸€è¡Œ 1#auth required pam_shells.so å¤‡æ³¨2ï¼šä¸Šä¼ æ–‡ä»¶å¤±è´¥é‡åˆ°æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œå…ˆæ£€æŸ¥FTPæœåŠ¡ä½¿ç”¨çš„æ–‡ä»¶å¤¹æ˜¯å¦æœ‰æƒé™ 1ls -l /var/ftp å¦‚æœ dåé¢æ²¡æœ‰wåˆ™è¡¨ç¤ºæ²¡æœ‰å†™å…¥æƒé™ï¼ˆä¸Šå›¾æ˜¯æœ‰çš„ï¼‰ï¼Œå°±æ·»åŠ æƒé™ 1chmod +w /var/ftp/file å¤‡æ³¨3å¦‚æœè¿æ¥å¤±è´¥ï¼Œæ£€æŸ¥ä¸€ä¸‹FTPè¿æ¥å·¥å…·æ˜¯å¦ä½¿ç”¨çš„æ˜¯ è¢«åŠ¨æ¨¡å¼","link":"/2021/01/20/CentOS-7-%E6%90%AD%E5%BB%BAFTP%E6%9C%8D%E5%8A%A1/"},{"title":"BFC å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡","text":"å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰ ç›¸å¯¹åº”è¿˜æœ‰ å†…è”æ ¼å¼ä¸Šä¸‹æ–‡ï¼ˆinline formatting contextï¼ŒIFCï¼‰ï¼Œä½†æ˜¯å½±å“ä¸å¤ªå¤§ã€‚ å®šä¹‰BFC æ˜¯Webé¡µé¢çš„å¯è§†CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å—ç›’å­çš„å¸ƒå±€è¿‡ç¨‹å‘ç”Ÿçš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ äº¤äº’çš„åŒºåŸŸã€‚ ä¸€æ—¦ä¸€ä¸ªå…ƒç´ å…·æœ‰ BFCï¼Œä¸ç®¡å†…éƒ¨å…ƒç´ æ€ä¹ˆå˜åŒ–ï¼Œéƒ½ä¸ä¼šå½±å“å¤–éƒ¨çš„å…ƒç´ ã€‚æ‰€ä»¥ä¼šå½±å“å¤–éƒ¨å…ƒç´ çš„ marginåˆå¹¶ åœ¨BFCå…ƒç´ ä¸­æ˜¯ä¸ä¼šå‘ç”Ÿçš„ã€‚ æµ®åŠ¨å®šä½å’Œæ¸…é™¤æµ®åŠ¨æ—¶åªä¼šåº”ç”¨äºåŒä¸€ä¸ªBFCå†…çš„å…ƒç´ ã€‚ åˆ›å»ºBFCä¸‹é¢æ–¹å¼ä¼šåˆ›å»ºå—æ ¼å¼ä¸Šä¸‹æ–‡ &lt;html&gt;æ ¹å…ƒç´  æµ®åŠ¨å…ƒç´ ï¼ˆfloatçš„å€¼ä¸ä¸º noneï¼‰ ç»å¯¹å®šä½å…ƒç´ ï¼ˆpositionçš„å€¼æ˜¯ absolute æˆ– fixedï¼‰ overflowçš„å€¼ä¸ä¸º visible display: flow-rootï¼Œå¯ä»¥æ— å‰¯ä½œç”¨åˆ›å»º BFC è¡¨æ ¼å•å…ƒæ ¼ï¼ˆå…ƒç´ çš„ displayä¸º table-cellï¼ŒHTMLè¡¨æ ¼å•å…ƒæ ¼é»˜è®¤ä¸ºè¯¥å€¼ï¼‰ è¡¨æ ¼æ ‡é¢˜ï¼ˆdisplayä¸º table-captionï¼Œè¿™ä¸ªä¹Ÿæ˜¯é»˜è®¤å€¼ï¼‰ ç­‰ç­‰ å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡åŒ…å«åˆ›å»ºå®ƒçš„å…ƒç´ å†…éƒ¨çš„æ‰€æœ‰å†…å®¹ã€‚ åªè¦å…ƒç´ ç¬¦åˆä¸Šé¢çš„ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨ clear: bothå»æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“ã€‚ BFCä¸æµä½“å¸ƒå±€ä¾‹1BFC çš„å‡ºç°ä¸ä»…ä»…æ˜¯å»é™¤ margin åˆå¹¶å’Œ float å½±å“ï¼Œæ›´å¤šæ˜¯å®ç°æ›´å¥½çš„è‡ªé€‚åº”æ•ˆæœã€‚ 1234&lt;div class=&quot;box&quot;&gt; &lt;img src=&quot;./img/chigua.jpg&quot; /&gt; &lt;p&gt;å¥½å¤šæ–‡å­—....&lt;/p&gt;&lt;/div&gt; 123img{ float: left;} æ­¤æ—¶æ–‡å­—å†…å®¹è¢«å›¾ç‰‡çš„ float å½±å“ï¼Œå‡ºç°äº†æ–‡å­—ç¯ç»• å¦‚æœç»™æ–‡å­—åŠ ä¸Š BFC ä¸­çš„ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œå°†å–æ¶ˆè¿™æ ·çš„å½±å“ï¼Œæ¯”å¦‚åŠ ä¸Šoverflow: auto 1p { overflow: auto; } å¦‚æœæƒ³ä¿®æ”¹æ–‡æœ¬å’Œå›¾ç‰‡ä¹‹é—´çš„é—´éš™ ä¿®æ”¹æµ®åŠ¨å…ƒç´ ï¼ˆè¿™é‡Œçš„å›¾ç‰‡ï¼‰çš„ marginã€paddingã€border çš„right ä¿®æ”¹ BFC å…ƒç´ çš„ border æˆ–è€… padding æ³¨ï¼šåƒä¸‡ä¸è¦ä½¿ç”¨ BFC å…ƒç´ çš„ marginï¼Œå› ä¸ºå…¶ä¸ä¼šå¯¹å¤–ç•Œå…ƒç´ é€ æˆå½±å“ã€‚ ä¾‹2æµ®åŠ¨è„±ç¦»äº†æ–‡æ¡£æµï¼Œæ‰€ä»¥ &lt;div&gt; çš„ background å’Œ border ä»…ä»…åŒ…å«äº†å†…å®¹ï¼Œä¸åŒ…å«æµ®åŠ¨ã€‚ è®©æµ®åŠ¨å†…å®¹å’Œå‘¨å›´å†…å®¹ç­‰é«˜ 1234&lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;float&quot;&gt;I am a floated box!&lt;/div&gt; &lt;p&gt;I am content inside the container.&lt;/p&gt;&lt;/div&gt; 123456789101112.box { background-color: rgb(224, 206, 247); border: 5px solid rebeccapurple;}.float { float: left; width: 200px; height: 150px; background-color: white; border:1px solid black; padding: 10px;} åŠ ä¸Šä»»æ„ä¸€ä¸ªç¬¦åˆ BFC çš„æ¡ä»¶ï¼Œæ¯”å¦‚overflow: autoï¼Œä½¿å¾—å…ƒç´ å˜ä¸º BFC å…ƒç´  æ›´å¤šä¾‹å­ï¼ŒğŸ‘‰MDN å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ BFCä¸åŸºäºçº¯æµä½“å¯¹æ¯”åŸºäº BFC å®ç°çš„è‡ªé€‚åº”å¸ƒå±€æœ‰ç‚¹æ‰€åœ¨ å†…å®¹å› ä¸ºå…¶å°é—­æ€§è€Œæ›´åŠ ç¨³å®š è‡ªé€‚åº”å†…å®¹è‡ªåŠ¨å¡«æ»¡æµ®åŠ¨ä»¥å¤–çš„åŒºåŸŸï¼Œä¸ç”¨æ‹…å¿ƒæµ®åŠ¨å…ƒç´ çš„å®½åº¦ ä¸å¤Ÿå°†å…ƒç´  BFC åä¹Ÿæœ‰è®¸å¤šæ§½ç‚¹ float: leftã€‚æµ®åŠ¨å…ƒç´ æœ¬èº«å˜æˆäº† BFCï¼Œå¤±å»äº†å…ƒç´ æœ¬èº«çš„æµä½“è‡ªé€‚åº”æ€§ã€‚æ— æ³•ç”¨äºå®ç°è‡ªåŠ¨å¡«æ»¡å®¹å™¨çš„è‡ªé€‚åº”å¸ƒå±€ position: absoluteã€‚å¤§ä½¬ï¼Œè®¾ç½®äº†ä¹‹åï¼Œç”±äºç‹¬ç«‹æ¸²æŸ“çš„åŸå› ï¼Œåˆ«äººè‡ªå·±ç©å»äº†ã€‚ overflow: hiddenã€‚ç›’å­å¤–çš„å…ƒç´ å¯èƒ½ä¼šè¢«éšè—æ‰ã€‚ overflowçš„å…¶ä»–å±æ€§ï¼Œå¯èƒ½ä¼šå‡ºç°å‰ªåˆ‡çš„é˜´å½±æˆ–è€…æ»šåŠ¨æ¡ã€‚è€Œä¸”åœ¨åç»­å¼€å‘ä¸­å›å¤´çœ‹ï¼Œå¯èƒ½ä¼šå¿˜æ‰ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ overflowï¼Œæ‰€ä»¥ç”¨çš„æ—¶å€™æœ€å¥½åŠ ä¸ªæ³¨é‡Šå’¯ã€‚ ğŸ“–å‚è€ƒï¼šã€ŠCSSä¸–ç•Œã€‹ã€MDN","link":"/2021/02/20/BFC-%E5%9D%97%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/"},{"title":"CSSä¼ªå…ƒç´ ä¸­beforeå’Œafter","text":"ä¸»è¦å†…å®¹ï¼šä»‹ç»ä¼ªå…ƒç´ ã€ä¼ªå…ƒç´ å…¶ä¸­çš„ ::before å’Œ ::after å‚è€ƒå†…å®¹ï¼šMDN ä¼ªå…ƒç´ ä¼ªå…ƒç´ æ˜¯ä¸€ä¸ªé™„åŠ è‡³é€‰æ‹©å™¨æœ«çš„å…³é”®è¯ï¼Œå…è®¸ä½ å¯¹è¢«é€‰æ‹©å…ƒç´ çš„ç‰¹å®šéƒ¨åˆ†ä¿®æ”¹æ ·å¼ã€‚â€“ MDN è¯­æ³• 123selector::pseudo-element { property: value;} ä¸€ä¸ªé€‰æ‹©å™¨åªèƒ½ä½¿ç”¨ä¸€ä¸ªä¼ªå…ƒç´ ã€‚ä¸ºåŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´ ï¼ŒæŒ‰ç…§è§„èŒƒä½¿ç”¨::ä»£è¡¨ä¼ªå…ƒç´ ï¼Œä¸è¿‡:ä¹Ÿæ”¯æŒã€‚ ::beforeåˆ›å»ºä¸€ä¸ªä¼ªå…ƒç´ ï¼Œå…¶å°†æˆä¸ºåŒ¹é…é€‰ä¸­çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ã€‚é€šå¸¸é€šè¿‡ content å±æ€§æ¥ä¸ºå…ƒç´ æ·»åŠ ä¿®é¥°æ€§çš„å†…å®¹ã€‚ å…ƒç´ é»˜è®¤æ˜¯è¡Œå†…å…ƒç´  ä¸é€‚åˆç”¨åœ¨æ›¿æ¢å…ƒç´ ä¸Š è¯­æ³•12345678/* CSS3 è¯­æ³• */element::before { æ ·å¼ }/* ï¼ˆå•å†’å·ï¼‰CSS2 è¿‡æ—¶è¯­æ³• (ä»…ç”¨æ¥æ”¯æŒ IE8) */element:before { æ ·å¼ }/* åœ¨æ¯ä¸€ä¸ªpå…ƒç´ å‰æ’å…¥å†…å®¹ */p::before { content: &quot;Hello world!&quot;; } æ¡ˆä¾‹ todo list å‰é¢çš„å¯¹å‹¾ ç›´æ¥æˆ³ğŸ‘‰MDN CSS ::before ::afteråˆ›å»ºä¸€ä¸ªä¼ªå…ƒç´ ï¼Œå…¶å°†æˆä¸ºåŒ¹é…é€‰ä¸­çš„å…ƒç´ çš„æœ€åä¸€ä¸ªå­å…ƒç´ ã€‚é€šå¸¸é€šè¿‡ content å±æ€§æ¥ä¸ºå…ƒç´ æ·»åŠ ä¿®é¥°æ€§çš„å†…å®¹ã€‚ å…ƒç´ é»˜è®¤æ˜¯è¡Œå†…å…ƒç´  ä¸é€‚åˆç”¨åœ¨æ›¿æ¢å…ƒç´ ä¸Š è¯­æ³•123element:after { style properties } /* CSS2 è¯­æ³• */element::after { style properties } /* CSS3 è¯­æ³• */ æ³¨: IE8ä»…æ”¯æŒ:afterã€‚ æ¡ˆä¾‹ ç®€å•ç”¨æ³•ï¼šåœ¨å†…å®¹åé¢åŠ ä¸€äº›æ³¨é‡Š è£…é¥°ç”¨æ³•ï¼šç”¨æƒ³è¦çš„ä»»ä½•æ–¹æ³•ç»™contentå±æ€§é‡Œçš„æ–‡å­—å’Œå›¾ç‰‡çš„åŠ ä¸Šæ ·å¼ æç¤ºç”¨æ³•ï¼šç”¨ä½œ hover ä¹‹åçš„æç¤º ç›´æ¥æˆ³ğŸ‘‰MDN CSS ::after ::before å’Œ ::after ç”»å›¾å…­è¾¹å½¢1&lt;div id=&quot;six&quot;&gt;&lt;/div&gt; 12345678910111213141516171819#six { width: 0; height: 0; border-left: 50px solid transparent; border-right: 50px solid transparent; border-bottom: 100px solid red; position: relative;}#six::after { width: 0; height: 0; border-left: 50px solid transparent; border-right: 50px solid transparent; border-top: 100px solid red; position: absolute; content: &quot;&quot;; top: 30px; left: -50px;} å°å›¾æ ‡å¾…è¡¥å……â€¦..","link":"/2021/02/18/CSS%E4%BC%AA%E5%85%83%E7%B4%A0%E4%B8%ADbefore%E5%92%8Cafter/"},{"title":"CSSå±…ä¸­æ–¹æ³•","text":"æ”¶é›†å¸¸è§çš„å…ƒç´ å±…ä¸­æ–¹æ³•ï¼Œæ­£åœ¨æ‰¾ï¼Œæˆ–è®¸è¿˜æœ‰ å·¦å³ï¼Œä¸Šä¸‹ï¼Œä¸Šä¸‹å·¦å³ ä¸Šä¸‹line-heightè®¾ç½®å…ƒç´ çš„ heightå’Œline-height ç›¸ç­‰ï¼Œå†…å®¹å¯ä»¥å¾—åˆ°å±…ä¸­ï¼›å…¶å®åœ¨æ–‡æœ¬ä¸­ï¼Œå€¼è®¾ç½® line-heightï¼Œä¸è®¾ç½® heightå°±å¯ä»¥å®ç°å±…ä¸­äº†ã€‚ ä½¿ç”¨ line-height å®ç°çš„å‚ç›´å±…ä¸­æ˜¯è¿‘ä¼¼çš„å±…ä¸­ï¼Œä¸Šä¸‹ä¼šå·® 1px å·¦å³ï¼Œæ‰€ä»¥å¹³æ—¶ä¹Ÿçœ‹ä¸å‡ºæ¥ã€‚ ä½†æ˜¯ï¼Œåœ¨å¤šè¡Œæ–‡æœ¬ä¸­ï¼Œä»…ä»…ä½¿ç”¨ line-height è¿˜è¾¾ä¸åˆ°å‚ç›´å±…ä¸­çš„æ•ˆæœï¼Œè¦åŠ ä¸Švertical-align: middle; 12345678.box { text-align: center; line-height: 120px;}.content { display: inline-block; vertical-align: middle;} writing-modeè®¾ç½®å…ƒç´ çš„ writing-mode ä¸º vertical-lrï¼Œç„¶åè®¾ç½® text-align: center; margin + transform1234567.father { overflow: hidden;}.son { margin: 50% auto; transform: translateY(-50%);} å·¦å³å½“å…ƒç´ ä¸º display: inline; display: inline-block; çš„æ—¶å€™ï¼Œçˆ¶å®¹å™¨è®¾ç½® text-align: center; å°±å¯ä»¥å·¦å³ç½®ä¸­ï¼› å½“å…ƒç´ ä¸º display: block; çš„æ—¶å€™ï¼Œå…ƒç´ è‡ªèº«çš„ margin-left å’Œ margin-right è®¾ç½®ä¸º autoï¼Œå°±å¯ä»¥å·¦å³ç½®ä¸­ï¼› ä¸Šä¸‹å·¦å³position: absolute;ç›¸å¯¹äºè‡ªèº«è®¾ç½® 1234position: absolute;top: 50%;left: 50%;transform: translateX(-50%) translateY(-50%); è®¾ç½®å®Œ top å’Œ left åï¼Œå…ƒç´ çš„å·¦ä¸Šæ–¹ä¼šåœ¨ç”»å¸ƒçš„ä¸­å¿ƒç‚¹ï¼Œç„¶åä½¿ç”¨ transform ç§»åŠ¨å…ƒç´ è‡ªèº«çš„ä¸€åŠã€‚ ä¹Ÿå¯è®¾ç½® right å’Œ bottomï¼Œè¿™æ—¶ transform å°±ä¸ç”¨å†™è´Ÿæ•°äº†ã€‚ position: absolute; ç¬¬ 2 ç§1234567891011.father { position: relative;}.son { position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;} flexboxç›¸å¯¹äºçˆ¶çº§è®¾ç½® 1234min-height: 100vh;display: flex;justify-content: center;align-item: center; 100vh ä¸ºå½“å‰çª—å£é«˜åº¦ã€‚ display: table-cell;12345678910body{ display: table; width: 100% min-height: 100vh;}div{ display: table-cell; vertical-align: middle; text-align: center;} display: grid;1234567.father { display: grid;}.son { align-self: center; justify-self: center;} çŸ¥é“å…ƒç´ å°ºå¯¸çš„è¯123456789101112131415161718.box { width: 100px; height: 100px; background-color: darkcyan; position: relative;}.content { width: 50px; height: 50px; background-color: lightblue; position: absolute; left: 50%; top: 50%; margin-left: -25px; margin-top: -25px;}","link":"/2021/04/15/CSS%E5%B1%85%E4%B8%AD%E6%96%B9%E6%B3%95/"},{"title":"Linuxå®‰è£…Apache","text":"æ“ä½œç³»ç»Ÿï¼šCentOS 7 Apacheç‰ˆæœ¬ï¼š2.4.x for Linux Apache HTTP Serve ä¹ æƒ¯ä¸Šå«ä½œ Apacheï¼Œå®åˆ™æ˜¯httpdï¼Œapacheæ——ä¸‹è¿˜æœ‰å…¶ä»–æœåŠ¡å™¨è½¯ä»¶ï¼ŒApache Tomcat å®‰è£… CentOS å¯ä»¥ç›´æ¥ä½¿ç”¨ yum æ¥å®‰è£…ï¼Œæ–¹ä¾¿å¿«æ·ï¼Œä¸è¿‡è¿™é‡Œä½¿ç”¨ ç¼–è¯‘å®‰è£… çš„å®‰è£…æ–¹æ³•ï¼Œè‡ªå®šä¹‰æ€§é«˜ä¸€äº› å®‰è£…ä¾èµ–ï¼šapr,apr-util,pcreã€‚æœ‰å¯èƒ½ä¼šé‡åˆ°æ²¡æœ‰å®‰è£…ä¾èµ–çš„æƒ…å†µï¼Œæ–‡ç« åº•éƒ¨æœ‰å®‰è£…ä¾èµ–ç¯å¢ƒè¿‡ç¨‹ ä¸‹è½½åœ°å€ï¼šhttps://mirrors.bfsu.edu.cn/apache//httpd/httpd-2.4.46.tar.gz 1wget https://mirrors.bfsu.edu.cn/apache//httpd/httpd-2.4.46.tar.gz è§£å‹ 1tar -zxvf httpd-2.4.46.tar.gz è¿›å…¥è§£å‹ä¹‹åçš„æ–‡ä»¶å¤¹ 1cd httpd-2.4.46 è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ configure é…ç½® apache 1./configure å¯é€‰é¡¹ä»€ä¹ˆéƒ½ä¸é€‰ï¼Œé»˜è®¤å®‰è£…åœ¨ /usr/local/apache2 è¿˜æœ‰å¾ˆå¤šé…ç½®é€‰é¡¹ï¼Œæˆ³ configureæ‰‹å†Œé¡µ å¦‚æœé‡åˆ°é…ç½®é”™è¯¯ï¼šconfigure: error: APR not found. Please read the documentation. å› ä¸ºç¼ºå°‘APRå’ŒAPR-Utilï¼Œå‰å¾€æ–‡ç« åº•éƒ¨æŸ¥çœ‹å®‰è£…æ–¹æ³• å¦‚æœé‡åˆ°é…ç½®é”™è¯¯ï¼šconfigure: error: pcre-config for libpcre not found. PCRE is required and available from http://pcre.org/ å› ä¸ºç¼ºå°‘ pcreï¼Œå‰å¾€æ–‡ç« åº•éƒ¨æŸ¥çœ‹å®‰è£…æ–¹æ³• é…ç½®æˆåŠŸ ç¼–è¯‘å’Œå®‰è£… 1make &amp;&amp; make install å¦‚æœé‡åˆ°é”™è¯¯ï¼šxml/apr_xml.c:35:19: è‡´å‘½é”™è¯¯ï¼šexpat.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œç¼ºå°‘expatï¼Œå‰å¾€æ–‡ç« åº•éƒ¨æŸ¥çœ‹å®‰è£…æ–¹æ³• å®‰è£…æˆåŠŸ å¯åŠ¨apacheæœåŠ¡ä¿®æ”¹é…ç½®æ–‡ä»¶è¿›å…¥ apache æ‰€å¤„ç›®å½•å’Œç›®å½•ç»“æ„ /usr/local/apache2 ä¿®æ”¹é…ç½®æ–‡ä»¶ 1vim conf/httpd.conf æ‰¾åˆ° ServerName é…ç½®ï¼Œå»æ‰å‰é¢çš„ # æ³¨é‡Šï¼Œå¹¶ä¸”ä¿®æ”¹å®ƒçš„å€¼ï¼ˆæˆ–è€…ç›´æ¥å¢åŠ ä¸Šå»ï¼‰ 1ServerName localhost ä¿å­˜é€€å‡ºï¼Œç„¶åè¿›å…¥ bin ç›®å½•ï¼Œè¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ apachectl ä»¥å¼€å¯ httpd æœåŠ¡ 1./apachectl -k start å¦‚æœå‡ºç°é”™è¯¯ï¼š./apachectl:è¡Œ95: lynx: æœªæ‰¾åˆ°å‘½ä»¤ï¼Œè¿è¡Œ yum install -y lynx å®‰è£…å³å¯ æŸ¥çœ‹ httpd æœåŠ¡ç›‘å¬çš„ç«¯å£ 1netstat -antup | grep httpd é…ç½®é˜²ç«å¢™å¼€æ”¾ httpd æœåŠ¡é»˜è®¤ç›‘å¬çš„ 80 ç«¯å£ 1firewall-cmd --zone=public --add-port=80/tcp --permanent é‡å¯é˜²ç«å¢™ä»¥å®ç°ç«¯å£çš„å¼€æ”¾é…ç½® 1systemctl restart firewalld æµ‹è¯• httpd æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨è®¿é—®ä¸»æœºIPåœ°å€ åŠ å…¥ç³»ç»Ÿå‘½ä»¤ç›´æ¥ä½¿ç”¨è½¯é“¾æ¥å°†å¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥åˆ° /usr/local/bin 1ln -s /usr/local/apache2/bin/apachectl /usr/local/bin è¿™æ ·åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½å¯ä»¥ä½¿ç”¨apachectlæ¥æ§åˆ¶ httpdæœåŠ¡äº† é”™è¯¯æ²¡æœ‰APRAPRä¸‹è½½åœ°å€ï¼šhttps://mirrors.bfsu.edu.cn/apache//apr/apr-1.7.0.tar.gz APR-Utilä¸‹è½½åœ°å€ï¼šhttps://mirrors.bfsu.edu.cn/apache//apr/apr-util-1.6.1.tar.gz ä¸‹è½½å’Œè§£å‹è¿™ä¸¤ä¸ªå‹ç¼©åŒ… 1wget https://mirrors.bfsu.edu.cn/apache//apr/apr-1.7.0.tar.gz https://mirrors.bfsu.edu.cn/apache//apr/apr-util-1.6.1.tar.gz è§£å‹è¿™ä¸¤ä¸ªå‹ç¼©åŒ… 12tar -zxvf apr-1.7.0.tar.gztar -zxvf apr-util-1.6.1.tar.gz å°†apråŒ…ç§»åˆ° /è§£å‹åçš„apacheåŒ…/srclib/aprï¼Œapr-utilåŒ…ç§»åˆ° /è§£å‹åçš„apacheåŒ…/srclib/apr-utilã€‚æ³¨æ„ï¼šåœ¨å®‰è£…è¿™ä¸¤ä¸ªä¸œè¥¿çš„æ—¶å€™ï¼ŒåŒ…ç›®å½•ä¸å…è®¸æœ‰ç‰ˆæœ¬å·ï¼Œæ‰€ä»¥ç§»åŠ¨çš„æ—¶å€™é¡ºä¾¿æ”¹å æ–‡ä¸­çš„åŒ…éƒ½ä¸‹è½½åœ¨ /root ç›®å½•ä¸‹ï¼ˆæ³¨æ„æ ¹æ®è‡ªå·±æ‰€å¤„çš„ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼‰ 1mv apr-1.7.0 ./httpd-2.4.46/srclib/apr 1mv apr-util-1.6.1 ./httpd-2.4.46/srclib/apr-util å®Œæˆåæ‰§è¡Œåœ¨apacheåŒ…çš„æ ¹ç›®å½•æ‰§è¡Œ ./configureï¼Œæ¥ç€ä¸Šé¢çš„å®‰è£…æ­¥éª¤ æ²¡æœ‰PCREpcreä¸‹è½½åœ°å€ï¼šhttps://ftp.pcre.org/pub/pcre/pcre-8.44.tar.gz å…¶ä»–ç‰ˆæœ¬ğŸ‘‰æˆ³ 1wget https://ftp.pcre.org/pub/pcre/pcre-8.44.tar.gz è§£å‹ï¼Œè¿›å…¥pcreæ–‡ä»¶å¤¹ 1tar -zvxf pcre-8.44.tar.gz &amp;&amp; cd pcre-8.44 é…ç½® 1./configure ç¼–è¯‘å’Œå®‰è£… 1make &amp;&amp; make install å®Œæˆåæ‰§è¡Œåœ¨apacheåŒ…çš„æ ¹ç›®å½•æ‰§è¡Œ ./configureï¼Œæ¥ç€ä¸Šé¢çš„å®‰è£…æ­¥éª¤ æ²¡æœ‰expatexpatä¸‹è½½åœ°å€ï¼šhttps://github.com/libexpat/libexpat/releases/download/R_2_2_10/expat-2.2.10.tar.gz 1wget https://github.com/libexpat/libexpat/releases/download/R_2_2_10/expat-2.2.10.tar.gz è§£å‹å’Œè¿›å…¥ç›®å½• 1tar -zxvf expat-2.2.10.tar.gz &amp;&amp; cd expat-2.2.10 é…ç½® 1./configure ç¼–è¯‘å’Œå®‰è£… 1make &amp;&amp; make install å®Œæˆåæ‰§è¡Œåœ¨apacheåŒ…çš„æ ¹ç›®å½•æ‰§è¡Œ make &amp;&amp; make installï¼Œæ¥ç€ä¸Šé¢çš„å®‰è£…æ­¥éª¤","link":"/2020/09/15/CentOS-7-%E9%85%8D%E7%BD%AEapache/"},{"title":"JSä¸€äº›ç¬”è®°","text":"jsä¼šç”¨åˆ°é›†åˆï¼Œæ¯æ¬¡é‡åˆ°ä½†å¯èƒ½åˆå¿˜è®°äº†ä»€ä¹ˆåŸç†æ€ä¹ˆç”¨çš„ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ã€‚ æŒç»­æ›´æ–° ~ Array å¯¹è±¡forEach()ç”¨æ¥è°ƒç”¨æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…ƒç´ ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚ ç”¨åœ¨ç©ºæ•°ç»„ä¸­æ˜¯ä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°çš„ã€‚ 1array.forEach( function (item, index, arr), thisValue) itemï¼šå½“å‰å…ƒç´ ï¼Œå³æ˜¯æ¯æ¬¡å¾ªç¯å¯¹åº”çš„é‚£ä¸ªå€¼ã€‚å¿…é€‰ indexï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•å€¼ã€‚å¯é€‰ arrï¼šå½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„å¯¹è±¡ thisValueï¼šç®—äº†ï¼Œç”¨åˆ°å†è¯´ï¼Œç°åœ¨ä¸çŸ¥é“æ€ä¹ˆç”¨ 12345var array = [1, 3, 6, 9, 12];array.forEach(function (item, index, arr) { console.log(item);});// åˆ†åˆ«è¾“å‡º 1, 3, 6, 9, 12 some()ç”¨äºæ£€æµ‹æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦æ»¡è¶³æŒ‡å®šæ¡ä»¶ ä¼šä¾æ¬¡æ‰§è¡Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´  å¦‚æœæœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶ã€‚è¡¨è¾¾å¼è¿”å› true ï¼Œå‰©ä½™çš„å…ƒç´ ä¸ä¼šæ‰§è¡Œ å¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å› false ä¸ä¼šæ‰§è¡Œç©ºæ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„ 1234567var array = [1, 3, 6, 9, 12];array.some(function (item, index, arr) { if (item &gt; 3) { console.log(item); }});// åˆ†åˆ«è¾“å‡º 1ï¼Œ9ï¼Œ12 String å¯¹è±¡split()å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„ å¦‚æœä¼ å…¥ç©ºå­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‚£æ¯ä¸ªå­—ç¬¦ä¹‹é—´éƒ½ä¼šåˆ†å‰² ä¸æ”¹å˜åŸå§‹çš„å­—ç¬¦ä¸² 1string.split(jerry, limit) jerryï¼šå¯é€‰ï¼Œå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ limitï¼šå¯é€‰ã€‚æŒ‡å®šè¿”å›æ•°ç»„çš„æœ€å¤§é•¿åº¦ 1234567var str = &quot;Are you OK ?&quot;;console.log(str.split());// è¾“å‡ºç»“æœï¼š[&quot;Are you OK ?&quot;]console.log(str.split(&quot;&quot;));// è¾“å‡ºç»“æœï¼š[&quot;A&quot;, &quot;r&quot;, &quot;e&quot;, &quot; &quot;, &quot;y&quot;, &quot;o&quot;, &quot;u&quot;, &quot; &quot;, &quot;O&quot;, &quot;K&quot;, &quot; &quot;, &quot;?&quot;]console.log(str.split(&quot; &quot;));// è¾“å‡ºç»“æœï¼š[&quot;Are&quot;, &quot;you&quot;, &quot;OK&quot;, &quot;?&quot;]","link":"/2020/07/12/JS%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"},{"title":"Linuxè™šæ‹Ÿæœºç½‘ç»œç¯å¢ƒé…ç½®","text":"è™šæ‹Ÿæœºè½¯ä»¶ï¼šVMware Workstation Pro æ“ä½œç³»ç»Ÿï¼šCentOS 7 æ¡¥æ¥æ¨¡å¼å’Œ NAT æ¨¡å¼éƒ½å¯ä»¥ï¼Œè€Œä¸”éƒ½å¯ä»¥é…ç½®é™æ€ IP åœ°å€ã€‚ä½†æ˜¯æ¡¥æ¥æ¨¡å¼åœ¨å¤©ç¿¼æ ¡å›­ç½‘çš„æƒ…å†µä¸‹ä½¿ç”¨è¿˜å¾—ç™»å½•æ ¡å›­ç½‘è´¦å·æ‰èƒ½ä¸Šç½‘ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹© NAT æ¨¡å¼ã€‚ é…ç½®é™æ€ IP åœ°å€çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿å…¶å®ƒ shell è½¯ä»¶è¿æ¥ï¼Œä¸é…ç½®ç…§æ ·å¯ä»¥ä¸Šç½‘ã€‚ è™šæ‹Ÿæœºç½‘ç»œé…ç½® Windows ç‰©ç†æœºçš„è™šæ‹Ÿç½‘å¡ VMnet8 è¦å¼€å¯ é€šè¿‡ DHCP è¿æ¥ è‹¥æœä¸é…ç½®é™æ€ ipï¼Œä¸€èˆ¬é€‰æ‹© NAT æ¨¡å¼ä¹‹åï¼Œè™šæ‹Ÿæœºå°±ä¼šè·å¾—ä¸€ä¸ªåŒ VMnet8 ç½‘å¡ç›¸åŒç½‘æ®µçš„ ip åœ°å€ é…ç½®é™æ€ IP åœ°å€ é…ç½®çš„é™æ€ IP åœ°å€ä¸€å®šè¦å’Œå®¿ä¸»æœºè™šæ‹Ÿç½‘å¡ IP å¤„äºåŒä¸€ä¸ªç½‘æ®µ ç‰©ç†æœºæ›´æ”¹ç‰©ç†æœºçš„è™šæ‹Ÿç½‘å¡ IP NAT æ¨¡å¼ä½¿ç”¨çš„æ˜¯ VMnet8 ä¿®æ”¹TCP/IPv4ï¼Œç»™å®šä¸€ä¸ª ip åœ°å€ï¼Œå‰é¢192.168 æ˜¯å›ºå®šçš„ç­‰ä¸‹ VMware é‡Œé¢é…ç½®ç›¸åŒçš„ç½‘æ®µå°±è¡Œ ç½‘æ®µï¼šIP4 åœ°å€åˆ†ä¸ºå››æ®µï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯äº†ã€‚è¦åœ¨ 0 ~ 255 ä¹‹é—´ æœ€åä¸€ä½ä¸èƒ½ä¸º 0ï¼Œåœ¨ 1 ~ 254 ä¹‹é—´é€‰ VMware è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ è¿™é‡Œçš„ VMnet8 çš„ç½‘æ®µå’Œä¸Šé¢ç‰©ç†æœºçš„ç½‘å¡é…æˆä¸€æ ·ï¼Œç„¶åç‚¹å‡»å³è¾¹çš„NAT è®¾ç½® è¿™é‡Œçš„ç½‘å…³ IP ä¸€èˆ¬ä¼šè‡ªåŠ¨åˆ†é…äº†ä¸ª 192.168.146.2ï¼Œæ²¡æœ‰çš„å°±è¦è‡ªå·±æ‰‹åŠ¨å†™ä¸Šï¼Œè¿™ä¸ªç½‘å…³æ˜¯å¿…é¡»çš„ CentOS 7 ç½‘ç»œé…ç½®é€‰ä¸­è™šæ‹Ÿæœºï¼Œé€‰æ‹©NATæ¨¡å¼ æ‰“å¼€è™šæ‹Ÿæœºï¼Œåˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚root å¯†ç æ˜¯åœ¨å®‰è£…ç³»ç»Ÿçš„æ—¶å€™å°±è®¾ç½®äº†çš„é‚£ä¸ª ä½¿ç”¨cdå‘½ä»¤åˆ‡æ¢åˆ°ç½‘ç»œé…ç½®ç›®å½•ï¼ˆCentOS 7 ç‰ˆï¼Œå…¶ä»–çš„ Linux å‘è¡Œç‰ˆæœ¬ç•¥æœ‰ä¸åŒï¼‰ åœ¨è¿™é‡Œï¼Œç™½è‰²å­—çš„æ˜¯æœ¬æœºï¼ˆCentOS 7ï¼‰çš„ä¸€äº›ç½‘å¡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æœ‰ ifcfg-lo å’Œ ifcfg-ens33ï¼Œå…¶ä»–çš„æ˜¯ä»¥åæœ‰éœ€è¦å†é…ç½®ã€‚é…ç½®ç½‘å¡æ˜¯ä¿®æ”¹ ifcfg-ens33çš„ ä½¿ç”¨viæˆ–è€…vimç¼–è¾‘ ifcfg-ens33 vim ifcfg-ens33 çº¢è‰²æ¡†çš„æ˜¯è¦æ”¹å˜çš„ï¼Œæ ¹æ®ä¸Šé¢å·²ç»é…ç½®çš„ç½‘æ®µé€‰ä¸€ä¸ª IPï¼Œç„¶åä¿å­˜é€€å‡ºã€‚ ä¿å­˜ï¼šå…ˆæŒ‰é”®ç›˜çš„ESCé”®ï¼Œç„¶ååœ¨è‹±æ–‡è¾“å…¥æ³•çš„å‰æä¸‹è¾“å…¥:wqï¼Œw è¡¨ç¤ºå†™å…¥ä¿å­˜ï¼Œq è¡¨ç¤ºé€€å‡º é‡å¯ CentOS çš„ç½‘ç»œï¼Œä½¿ç”¨å‘½ä»¤ï¼š 1systemctl restart network æŸ¥çœ‹è‡ªå·±é…ç½®çš„ IPï¼Œä½¿ç”¨å‘½ä»¤ï¼šifconfig æˆ–è€… ip a å¦‚æœå‡ºç°å°±è¯´æ˜é…ç½®æˆåŠŸå•¦ æµ‹è¯•æ˜¯å¦è¿é€šæ˜¯å¦ä¸ç‰©ç†æœºè¿é€š åˆ†åˆ«ä½¿ç”¨pingå‘½ä»¤åœ¨ç‰©ç†æœºå’Œè™šæ‹Ÿæœºä¹‹é—´äº’ ping åœ¨ Windows ä¸Šï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰ï¼Œä½¿ç”¨ ipconfig å‘½ä»¤æŸ¥çœ‹ Windows æœ¬æœºçš„ IP åœ°å€ æ³¨æ„ï¼šWindows ä¸‹æ˜¯ ipconfigï¼Œä¸æ˜¯ Linux çš„ ifconfig Windows ä¸Š ping è™šæ‹Ÿæœºï¼šping 192.168.146.24ï¼ŒæˆåŠŸï¼š è™šæ‹Ÿæœº ä¸Š ping Windowsï¼šping 192.168.146.1ï¼ŒæˆåŠŸï¼š å¦‚æœè™šæ‹Ÿæœº ping Windows ä¸é€šï¼Œæ˜¯ Windows é˜²ç«å¢™æ‹¦ä½äº†ï¼ŒæŠŠé˜²ç«å¢™çš„ä¸“ç”¨ç½‘ç»œè§‚ç‚¹å°±è¡Œ æ­£å¸¸æƒ…å†µä¸‹ï¼Œè™šæ‹Ÿæœº ping ä¸é€š Windows ç‰©ç†æœºï¼Œæ²¡ä»€ä¹ˆå½±å“ã€‚æœ€å¥½è¿˜æ˜¯æ‰“å¼€ Windows çš„é˜²ç«å¢™ï¼Œä½¿è‡ªå·±ç”µè„‘å¤„äºä¸€ä¸ªå®‰å…¨çš„ç½‘ç»œç¯å¢ƒã€‚ æ˜¯å¦è¿æ¥åˆ°äº’è”ç½‘ping ä¸€ä¸‹ç™¾åº¦ï¼šping www.baidu.comï¼ŒæˆåŠŸï¼š ä½¿ç”¨ shell å’Œ ftp å·¥å…·æµ‹è¯•è¿æ¥è¿æ¥ shell è¿æ¥ sftp è¿™é‡Œä¸æ˜¯è¿æ¥ ftpï¼Œè€Œæ˜¯ sftpï¼Œftp æœåŠ¡è¦åœ¨æ“ä½œç³»ç»Ÿä¸­å¦å¤–å¼€å¯ã€‚ä¸è¿‡æ•ˆæœæ˜¯å·®ä¸å¤šçš„~ ä¼ è¾“æ–‡ä»¶ç›´æ¥æ‹–æ‹½å°±è¡Œï¼Œå¦‚æœç›´æ¥åœ¨æœ¬åœ°ä»£å¼€è™šæ‹Ÿæœºä¸Šçš„æ–‡ä»¶ï¼Œæ–‡ä»¶æ˜¯åŒæ­¥çš„ã€‚ å¦‚æœè¿æ¥ä¸ä¸Šäº’è”ç½‘ï¼Œè¯•ç€æ”¹ä¸€ä¸‹ DNSï¼Œåœ¨ ifcfg-ens33ä¸­ä¿®æ”¹ã€‚","link":"/2020/09/20/Linux%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"},{"title":"ES6è§£æ„","text":"ä¸»è¦å†…å®¹ï¼šå¯¹è±¡è§£æ„ã€æ•°ç»„è§£æ„ã€æ··åˆè§£æ„ æ³¨æ„ä¸€ç‚¹ï¼šè§£æ„ å’Œ è§£æ„èµ‹å€¼ ä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œè§£æ„èµ‹å€¼æ˜¯è§£æ„ä¹‹åï¼Œèµ‹äºˆä¸€ä¸ªæ–°å€¼ å¦‚æœä¸ä½¿ç”¨è§£æ„ï¼š 123456let options = { repeat: true, save: false};let repeat = options.repeat, save = options.save; å¯¹è±¡è§£æ„å¯¹è±¡è§£æ„çš„è¯­æ³•å½¢å¼æ˜¯åœ¨ä¸€ä¸ªèµ‹å€¼æ“ä½œç¬¦ï¼ˆ=ï¼‰å·¦è¾¹æ”¾ç½®ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ å¯¹è±¡å­—é¢é‡ï¼šå’Œ JSON çœ‹èµ·æ¥å·®ä¸å¤šï¼ŒJSON æ˜¯åŸºäºå¯¹è±¡å­—é¢é‡çš„è¯­æ³•æ„å»ºçš„ å¯¹è±¡å­—é¢é‡ï¼šname: jerry JSONï¼š&quot;name&quot;: &quot;jerry&quot; åŸºæœ¬å½¢å¼12345678let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;};let { type, name } = node;console.log(type); // &quot;festival&quot;console.log(name); // &quot;Spring Festival&quot; ä½¿ç”¨è§£æ„çš„æ—¶å€™éœ€è¦åˆå§‹åŒ–ï¼ˆèµ‹å€¼ï¼‰ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ 1âŒ var { type,name }; è§£æ„èµ‹å€¼è§£æ„ä¹Ÿå¯ä»¥é‡æ–°ç»™å˜é‡èµ‹å€¼ 1234567891011let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;}, type = &quot;jieri&quot;, name = &quot;chunjie&quot;;({ type, name } = node);console.log(type); // festivalconsole.log(name); // Spring Festival åœ¨JavaScriptè¯­æ³•è§„åˆ™ä¸­ï¼Œ= å·¦è¾¹ä¸èƒ½å‡ºç°èŠ±æ‹¬å·ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ () åŒ…èµ·æ¥ åœ¨ä¼ å‚çš„æ—¶å€™ä½¿ç”¨è§£æ„èµ‹å€¼ 123456789101112131415let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;}, type = &quot;jieri&quot;, name = &quot;chunjie&quot;;function outPutInfo(value) { console.log(value == node); // true}outPutInfo( { type, name } = node );console.log(type); // festivalconsole.log(name); // Spring Festival è§£æ„èµ‹å€¼çš„æ—¶å€™ = å³è¾¹çš„å€¼å¦‚æœæ˜¯ null æˆ– undefinedï¼Œä¼šæŠ¥é”™ã€‚ é»˜è®¤å€¼å¦‚æœè¡¨è¾¾å€¼æŒ‡å®šçš„å±€éƒ¨å˜é‡çš„åç§°ï¼ˆ= å·¦è¾¹ï¼‰åœ¨å¯¹è±¡ä¸­ï¼ˆ=å³è¾¹ï¼‰ä¸å­˜åœ¨ï¼Œåˆ™è¿™ä¸ªå±€éƒ¨å˜é‡ä¼šè¢«èµ‹å€¼ä¸º undefined 123456789let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;};let { type, name, value } = node;console.log(type); // &quot;festival&quot;console.log(name); // &quot;Spring Festival&quot;console.log(value); // undefined åŒæ—¶å¯ä»¥ç»™è¿™ä¸ª value éšæ„å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œåœ¨ value åé¢ä½¿ç”¨ = 12let { type, name, value = &quot;lunar&quot; } = node;console.log(value); // lunar éåŒåå±€éƒ¨å˜é‡èµ‹å€¼123456789let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;};let { type: localType, name: localName } = node;console.log(localType); // &quot;festival&quot;console.log(localName); // &quot;Spring Festival&quot; type: localType çš„æ„æ€æ˜¯è¯»å–åä¸º type çš„å±æ€§çš„å€¼ç„¶åå­˜åˆ° localType ä¸­ã€‚å¯ä»¥æƒ³è±¡ä¸ºï¼šä½¿ç”¨ localType æ¥è¡¨ç¤º type è¿™ç§è¯­æ³•å’Œä¼ ç»Ÿçš„æ˜¯ç›¸æ‚–çš„ï¼ŒåŸæœ¬åº”è¯¥æ˜¯åç§°åœ¨å†’å·å·¦è¾¹ï¼Œå€¼åœ¨å³è¾¹ï¼›è¿™ä¸ªå˜æˆäº†åç§°åœ¨å†’å·å³è¾¹ï¼Œéœ€è¦è¯»å–çš„å€¼åœ¨å†’å·å·¦è¾¹ ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨ = è®¾ç½®é»˜è®¤å€¼çš„ 1let { type: localType, name: localName = &quot;chunjie&quot; } = node; åµŒå¥—å¯¹è±¡ç»“æ„12345678910111213141516171819let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;, loc: { start: { line: 1, column: 1 }, end: { line: 1, column: 4 } }};let { loc: { start } } = node;console.log(start.line); // 1console.log(start.column); // 1 è¿™é‡Œæ˜¯æŒ‡åœ¨æ‰¾åˆ° node å¯¹è±¡ä¸­çš„ loc å±æ€§åï¼Œå†æ·±å…¥ä¸€å±‚æ‰¾ start å±æ€§ å†’å·å·¦ä¾§çš„ä»£è¡¨åœ¨å¯¹è±¡ä¸­æ£€ç´¢çš„ä½ç½®ï¼Œå³ä¾§ä»£è¡¨è¢«èµ‹å€¼çš„å˜é‡å åŒæ—¶å¯ä»¥ä½¿ç”¨åœ¨ éåŒåçš„å±€éƒ¨å˜é‡ 1234let { loc: { start: localStart } } = node;console.log(localStart.line); // 1console.log(localStart.column); // 1 let { loc: {} } = node;ï¼Œæ˜¯åˆæ³•çš„âœ”ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨âŒ æ•°ç»„è§£æ„ç›¸å¯¹å¯¹è±¡ç»“æ„ï¼Œè¾ƒä¸ºç®€å• åŸºæœ¬å½¢å¼12345let colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ];let [ firstColor, secondColor ] = colors;console.log(firstColor); // &quot;red&quot;console.log(secondColor); // &quot;green&quot; æœªæ˜¾å¼å£°æ˜çš„å…ƒç´ ç›´æ¥å¿½ç•¥ æ•°ç»„æœ¬èº«ä¸ä¼šå˜åŒ– å’Œå¯¹è±¡è§£æ„ä¸€æ ·ï¼Œéœ€è¦åˆå§‹åŒ– åŒæ—¶ä¹Ÿå¯ä»¥çœç•¥å‰é¢çš„å£°æ˜ 123let colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ];let [ , , thirdColor ] = colors;console.log(thirdColor); // &quot;blue&quot; è§£æ„èµ‹å€¼åœ¨æ•°ç»„ç»“æ„ä¸­ï¼Œåœ¨é‡æ–°èµ‹å€¼çš„æ—¶å€™ï¼Œä¸åŒäºå¯¹è±¡è§£æ„ï¼Œä¸éœ€è¦ä½¿ç”¨ () åŒ…èµ·æ¥ 1234567let colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ], firstColor = &quot;black&quot;, secondColor = &quot;purpel&quot;;[ firstColor, secondColor ] = colors;console.log(firstColor); // &quot;red&quot; è¿™é‡Œçš„ç»“æ„èµ‹å€¼å’Œä¸Šä¸€ä¸ªåŸºæœ¬å½¢å¼ä¸­çš„å…¶å®æ˜¯å·®ä¸å¤šçš„ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯firstColor å’Œ secondColor å·²ç»å®šä¹‰äº†ã€‚ ç”¨äºå˜é‡å€¼äº¤æ¢ğŸ”» éè§£æ„ä¸­äº¤æ¢å˜é‡ 12345678let a = 1, b = 2, tmp;tmp = a;a = b;b = tmp;console.log(a); // 2console.log(b); // 1 ğŸ”» è§£æ„ä¸­äº¤æ¢å˜é‡ 123456let a = 1, b = 2;[ a, b ] = [ b, a ];console.log(a); // 2console.log(b); // 1 å³ä¾§çš„å€¼ä¸º null æˆ– undefined ä¼šæŠ¥é”™ã€‚ é»˜è®¤å€¼æŒ‡å®šä½ç½®çš„å±æ€§ä¸å­˜åœ¨æˆ–è€…å…¶å€¼ä¸º undefined çš„æ—¶å€™ä½¿ç”¨é»˜è®¤å€¼ 123456let colors = [ &quot;red&quot; ];let [ firstColor, secondColor = &quot;green&quot; ] = colors;console.log(firstColor); // &quot;red&quot;console.log(secondColor); // &quot;green&quot; åµŒå¥—æ•°ç»„ç»“æ„å’ŒåµŒå¥—å¯¹è±¡ç»“æ„ç±»ä¼¼ 123456let colors = [ &quot;red&quot;, [ &quot;green&quot;, &quot;lightgreen&quot; ], &quot;blue&quot; ];let [ firstColor, [ secondColor ] ] = colors;console.log(firstColor); // &quot;red&quot;console.log(secondColor); // &quot;green&quot; å¦‚æœ 12let [ firstColor, [ secondColor, thirdColor ] ] = colors;console.log(thirdColor); // &quot;lightgreen&quot; å¦‚æœ 12let [ firstColor, [ secondColor ], thirdColor ] = colors;console.log(thirdColor); // &quot;blue&quot; ä¸å®šå…ƒç´ 12345678let colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ];let [ firstColor, ...resColors ] = colors;console.log(firstColor); // &quot;red&quot;console.log(resColors.length); // 2console.log(resColors[0]); // &quot;green&quot;console.log(resColors[1]); // &quot;blue&quot; ç”¨äºæ•°ç»„å¤åˆ¶åœ¨ ES5 ä¸­ï¼Œä½¿ç”¨ concat() æ–¹æ³•æ¥å…‹éš†æ•°ç»„ 1234var colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ];var cloneColor = colors.concat();console.log(cloneColors); // &quot;[ red, green, blue ]&quot; å…¶å® concat å‡½æ•°èµ·åˆæ˜¯ç”¨æ¥æ‹¼æ¥ä¸¤ä¸ªæ•°ç»„çš„ï¼Œå¦‚æœè°ƒç”¨çš„æ—¶å€™ä¸ä¼ é€’å‚æ•°ï¼Œå°±è¿”å›å½“å‰æ•°ç»„çš„å‰¯æœ¬ åœ¨ ES6 ä¸­ 1234let colors = [ &quot;red&quot;, &quot;green&quot;, &quot;blue&quot; ];let [ ...cloneColors ] = colors;console.log(cloneColors); // &quot;[ red, green, blue ]&quot; ä¸å®šå…ƒç´ å¿…é¡»æ˜¯æœ€åä¸€ä½ï¼Œä¸ç„¶ä¼šæŠ¥é”™ æ··åˆè§£æ„123456789101112131415161718192021222324let node = { type: &quot;festival&quot;, name: &quot;Spring Festival&quot;, loc: { start: { line: 1, column: 1 }, end: { line: 1, column: 4 } }, range: [0, 3]};let { loc: { start }, range: [ startIndex ]} = node;console.log(start.line); // 1console.log(start.colume); // 1console.log(startIndex); // 0 è§£æ„æ¨¡å¼ä¸­çš„ loc: å’Œ range: ä»…ä»£è¡¨å®ƒä»¬åœ¨ node å¯¹è±¡ä¸­æ‰€å¤„çš„ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯æ”¹å¯¹è±¡çš„å±æ€§ï¼‰ å¯ç”¨äºæå– JSON æ•°æ®ï¼Œè¿™æ ·ä¸ç”¨éå†æ•´ä¸ªå¯¹è±¡å°±å¯ä»¥è·å¾—æƒ³è¦çš„å†…å®¹ è§£æ„å‚æ•°å°±æ˜¯è¯´å°†è§£æ„ä½¿ç”¨åœ¨å‚æ•°çš„ä¼ é€’è¿‡ç¨‹ä¸­ åŸºæœ¬å½¢å¼åœ¨å®šä¹‰ä¸€ä¸ªæœ‰å¤§é‡å¯é€‰å‚æ•°çš„JavaScriptå‡½æ•°çš„æ—¶å€™ ğŸ”» ä¸ä½¿ç”¨è§£æ„ 1234567891011121314151617// options è¡¨ç¤ºå…¶ä»–å‚æ•°function setCookie(name, value, options) { options = options || {}; let secure = options.secure, path = options.path, domain = options.domain, expires = options.expires; // ...å…¶ä»–ä»£ç }// ç¬¬ä¸‰ä¸ªå‚æ•°æ˜ å°„æˆ´ options ä¸­setCookies( &quot;type&quot;, &quot;js&quot;, { secure: true, expires: 60000} ); æ–¹ä¾¿ï¼šname å’Œ value æ˜¯å¿…é¡»å‚æ•°ï¼Œè€Œå…¶ä»–å‚æ•°å¯é€‰å¹¶ä¸”é¡ºåºä¸é™ï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•æ–¹ä¾¿ ä¸ä¾¿ï¼šå¦‚æœè¿™ä¸ªå¯é€‰çš„å‚æ•°å®åœ¨æœ‰å¤ªå¤šå¯é€‰ï¼Œè¦æƒ³çŸ¥é“è¿™äº›å‚æ•°ï¼Œéœ€è¦è¿›å…¥å‡½æ•°ä½“æŸ¥çœ‹ï¼Œä¸å¤ªæ–¹ä¾¿ ğŸ”» ä½¿ç”¨è§£æ„ 1234567function setCookies(name, value, { secure, path, domain, expires }) { // ...å…¶ä»–ä»£ç }setCookies( &quot;type&quot;, &quot;js&quot;, { secure: true, expires: 60000} ); è¿™æ ·å°±ä¸€çœ¼èƒ½çœ‹å‡ºåˆ°åº•æœ‰ä»€ä¹ˆå‚æ•° å¿…é¡»ä¼ å€¼çš„è§£æ„å‚æ•°åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œå½¢å‚ä½¿ç”¨è§£æ„å‚æ•°ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœä¸æä¾›è¢«è§£æ„çš„å‚æ•°ï¼Œä¼šæŠ¥é”™ æ¥ä¸Šé¢ setCookies() 12// æŠ¥é”™setCookies( &quot;type&quot;, &quot;js&quot;); å› ä¸ºå®é™…ä¸ŠJavaScriptå¼•æ“ä¼šå°†ä»£ç è§£æä¸º 1234function setCookies(name, value, options) { let { secure, path, domain, expires } = options; // ...å…¶ä»–ä»£ç } è™½ç„¶è§£æ„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¿…é¡»ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°è¿›å»ï¼Œä½†è§£æ„å‚æ•°æ˜¯å¿…é¡»æ—¶ï¼Œå°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ è§£å†³æ–¹æ³• ç»™å¯é€‰çš„ç»“æ„å‚æ•°èµ‹äºˆé»˜è®¤å€¼ 123function setCookies(name, value, { secure, path, domain, expires } = {} ) { // ...å…¶ä»–ä»£ç } è§£æ„å‚æ•°çš„é»˜è®¤å€¼1ï¸âƒ£ ä¸ºé˜²æ­¢ä¸ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°å¯¼è‡´ä»£ç æŠ¥é”™ï¼Œè¦ä½¿ç”¨ä¸Šé¢æåˆ°çš„ {} = {} å½¢å¼è®¾ç½®é»˜è®¤å€¼ 2ï¸âƒ£ å°† {} = {} ä¸­å·¦è¾¹çš„ {} ç‹¬ç«‹æŠ½å‡ºä»¥ç®€åŒ–ä»£ç  1234567891011121314151617const setCookieDefaults = { secure: false, path: &quot;/&quot;, domain: &quot;happy.com&quot;, expires: new Date(Date.now() + 360000000)};function setCookie(name, value, { secure = setCookieDefault.secure, path = setCookieDefault.path, domain = setCookieDefault.domain, expires = setCookieDefault.expires } = setCookieDefaults ) { // å‡½æ•°å†…å®¹} å°ç»“1ï¸âƒ£ åœ¨ä»¥ä¸Šå‡ ç§è§£æ„ä¸­ï¼Œ= å³è¾¹çš„å€¼ä¸º null æˆ– undefinedï¼Œç¨‹åºä¼šæŠ¥é”™ã€‚ å‚è€ƒå¼•ç”¨ğŸ“–ï¼šæ·±å…¥ç†è§£ES6 / Understanding ECMAScript 6 - Nicholas C. Zakas | ç¬¬äº”ç«  - è§£æ„ï¼šä½¿æ•°æ®è®¿é—®æ›´ä¾¿æ·","link":"/2021/02/14/ES6%E8%A7%A3%E6%9E%84/"},{"title":"LNMPåˆ†å¸ƒå¼é›†ç¾¤","text":"æ“ä½œå¹³å°ï¼šWMware Workstation 15 Pro æ“ä½œç³»ç»Ÿï¼šLinux CentOS 7 æ ¹æ®è¯¾ç¨‹æ€»ç»“å‡ºLNMPçš„é…ç½®è¿‡ç¨‹ å‰æå‡†å¤‡è¾¾åˆ°ä¸Šé¢çš„æ•ˆæœï¼Œéœ€è¦å‡†å¤‡9ä¸ªèŠ‚ç‚¹ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªCentOS 7ä½œä¸ºç™½æ¿ï¼Œç„¶åå…‹éš†æ­¤è™šæ‹Ÿæœºã€‚ï¼ˆè½¬è‡ªé»‘é©¬ç¨‹åºå‘˜ï¼‰ ç¼–å· IP æœåŠ¡å™¨ ç¡¬ä»¶ä¾§é‡ç‚¹ 1 192.168.146.31 Nginx (www.itshop.test) ç½‘å¡æ€§èƒ½ 2 192.168.146.32 Nginx (file.itshop.test) å†…å­˜å®¹é‡ã€ç£ç›˜æ€§èƒ½ 3 192.168.146.33 Nginx+PHP (upload.itshop.test) ç½‘å¡æ€§èƒ½ 4 192.168.146.34 Nginx+PHP CPUæ€§èƒ½ 5 192.168.146.35 Nginx+PHP CPUæ€§èƒ½ 6 192.168.146.36 NFS ç£ç›˜å®¹é‡ 7 192.168.146.37 MySQL (ä¸») CPUã€å†…å­˜ã€ç£ç›˜æ•´ä½“æ€§èƒ½ 8 192.168.146.38 MySQL (ä») CPUã€å†…å­˜ã€ç£ç›˜æ•´ä½“æ€§èƒ½ 9 192.168.146.39 Memcached å†…å­˜å®¹é‡ æ¯ä¸ªèŠ‚ç‚¹çš„èŒè´£ç¤ºæ„å›¾ åŸºäºç™½æ¿å…‹éš†èŠ‚ç‚¹å‡†å¤‡ä¸€ä¸ªæœ€å°å®‰è£…çš„ CentOS ç™½æ¿ï¼ˆä»€ä¹ˆéƒ½æ²¡å®‰è£…ï¼‰ ä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´å’Œå†…å­˜ï¼Œè¿™é‡Œçš„ CentOS é€‰æ‹©æœ€å°å®‰è£…ï¼Œå†…å­˜ç»™æ¯ä¸ªèŠ‚ç‚¹é…ç½®512Mï¼ŒCPUé€‰1ä¸ªå°±è¡Œäº†ã€‚ç„¶åé€šè¿‡è™šæ‹Ÿæœºå…‹éš†éœ€è¦ç³»ç»Ÿï¼Œé…ç½®å¯¹åº”çš„IPåœ°å€ï¼Œå†æ ¹æ®éœ€è¦å®‰è£…ç›¸åº”çš„è½¯ä»¶ã€‚ ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œè¿™è¾¹å¯ä»¥å…ˆé…ç½®èŠ‚ç‚¹1,6,7,9ã€‚å› ä¸ºæœ‰ä¸€äº›èŠ‚ç‚¹ä¼šå®‰è£…ç›¸åŒçš„è½¯ä»¶ï¼Œåé¢çš„èŠ‚ç‚¹å¯ä»¥é€šè¿‡å…‹éš†æ¥äº§ç”Ÿï¼Œè¿™æ ·å°±ä¸ç”¨é‡å¤é…ç½®å•¦~ èŠ‚ç‚¹1éƒ¨ç½²Nginxå®‰è£…ä¾èµ–åŒ…ï¼š 1yum -y install gcc pcre-devel openssl-devel ä¸‹è½½ nginx åï¼Œæ”¾åœ¨/rootç›®å½•ä¸‹ç„¶åè§£å‹ï¼ˆè¿™é‡Œä½¿ç”¨nginx1.18ï¼‰ï¼š 1tar -vzxf nginx-1.18.0.tar.gz ç¼–è¯‘å®‰è£…Nginxï¼Œå¢åŠ http_realip_moduleæ¨¡å— 123cd nginx-1.18.0./configure --with-http_ssl_module --with-http_realip_modulemake &amp;&amp; make install æ·»åŠ ç¯å¢ƒå˜é‡ã€åˆ›å»ºæœåŠ¡è„šæœ¬ã€è®¾ç½®å¼€æœºå¯åŠ¨ 123cd /usr/local/nginx/sbinln -s `pwd`/nginx /usr/local/sbin/nginxvim /etc/init.d/nginx åŠ å…¥å†…å®¹ 123456789101112131415161718192021222324252627#!/bin/bash#chkconfig:35 85 15DAEMON=/usr/local/nginx/sbin/nginxcase &quot;$1&quot; in start ) echo &quot;Starting nginx daemon...&quot; $DAEMON &amp;&amp; echo &quot;SUCCESS&quot; ;; stop ) echo &quot;Stopping nginx daemon...&quot; $DAEMON -s quit &amp;&amp; echo &quot;SUCCESS&quot; ;; reload ) echo &quot;Reloading nginx daemon...&quot; $DAEMON -s reload &amp;&amp; echo &quot;SUCCESS&quot; ;; restart ) echo &quot;Restarting nginx daemon...&quot; $DAEMON -s quit $DAEMON &amp;&amp; echo &quot;SUCCESS&quot; ;; * ) echo &quot;Usage:service nginx {start | stop |restart |reload }&quot; exit 2;;esac 1chmod +x /etc/init.d/nginx è®¾ç½®å¼€æœºè‡ªå¯ 1chkconfig --add nginx åˆ›å»ºwwwç”¨æˆ·å’Œç«™ç‚¹ç›®å½•data/www 12useradd -s /sbin/nologin -M wwwmkdir -p /data/www å°† nginx é»˜è®¤é¡µé¢å†…å®¹å¤åˆ¶åˆ°wwwç›®å½•ä¸‹ 12cd /usr/local/nginxcp html/* /data/www èµ‹äºˆç”¨æˆ·æƒé™ 1chown -R www:www /data/www ä¿®æ”¹nginxä¸»é…ç½®æ–‡ä»¶ï¼š 1234567user www www;server { listen 80; server_name localhost; root /data/www; index index.html index.htm; } ä½¿ç”¨å‘½ä»¤nginxæˆ–service nginx startå¯åŠ¨ nginxï¼Œå¹¶ä¸”å¼€é€šè™šæ‹Ÿæœºçš„ 80 ç«¯å£ 12firewall-cmd --zone=public --add-port=80/tcp --permanentsystemctl restart firewalld æµ‹è¯•è®¿é—® nginx æ˜¯å¦é…ç½®æˆåŠŸï¼Œè®¿é—®é»˜è®¤é¡µé¢ 192.168.146.31 èŠ‚ç‚¹6éƒ¨ç½²NFSèŠ‚ç‚¹7éƒ¨ç½²MySQLèŠ‚ç‚¹8éƒ¨ç½²MemcachedåŸºäºèŠ‚ç‚¹1å…‹éš†èŠ‚ç‚¹2ã€èŠ‚ç‚¹3","link":"/2020/11/30/LNMP%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4/"},{"title":"MongoDBåŸºæœ¬ä½¿ç”¨","text":"ç®€å•è®°å½•å‘½ä»¤è¡Œã€Node.jsæ“ä½œMongoDB ä½¿ç”¨ç‰ˆæœ¬ ï¼šç¤¾åŒºç‰ˆ4.2.6 MongoDBå±äºéå…³ç³»å‹æ•°æ®åº“ï¼Œæ•°æ®çš„å­˜å‚¨ç±»ä¼¼äº JSONå¯¹è±¡ 12345{ name: 'lisi', age: 18, hobbies: ['åƒé¥­', 'ç¡è§‰']} å®‰è£…MongoDBå®‰è£…ğŸ‘‰ MongoDBä¸‹è½½åœ°å€ ä¸‹è½½çš„æ˜¯msiç‰ˆæœ¬ï¼Œç‚¹å‡»å®‰è£…ï¼Œé€‰æ‹©customè‡ªå®šä¹‰å®‰è£… ä¸‹ä¸€æ­¥ã€ä¸‹ä¸€æ­¥ï¼Œåœ¨ Install MongoDB Compass å¤„å–æ¶ˆæ‰“é’©ï¼Œå…ˆä¸å®‰è£…è¿™ä¸ª MongoDB Compass æ˜¯ MongoDB çš„ä¸€æ¬¾å›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œé™¤æ­¤å¤–è¿˜æœ‰åˆ«çš„å·¥å…·ã€‚è¿™é‡Œä¸ä¸‹è½½æ˜¯å› ä¸ºä¸‹è½½å¾ˆæ…¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´ MongoDB å®‰è£…ä¸æˆåŠŸï¼›å¯ä»¥è‡ªå·±åœ¨æµè§ˆå™¨ä¸‹è½½ï¼Œè¿™æ ·å¿«å¾ˆå¤šã€‚ ğŸ‘‰ MongoDB Compassä¸‹è½½åœ°å€ mongooseå®‰è£…Node.jsæ“ä½œMongoDBï¼Œéœ€è¦ä¸‹è½½æ’ä»¶ mongoose ä¸‹è½½ï¼š**npm install mongoose** å¯åŠ¨å¯åŠ¨å‘½ä»¤è¡Œå¯åŠ¨ é¦–å…ˆè¿›å…¥MongoDBç›®å½•é‡Œçš„ bin ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”é€‰æ‹©è¦æ‰§è¡Œçš„ä½ç½® 1mongod --dbpath ç›˜ç¬¦:\\ç›®å½•\\ è¿æ¥ åœ¨ bin ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤å³å¯å¯åŠ¨ 1mongo.exe å¯åŠ¨ã€å…³é—­æœåŠ¡ 1net start MongoDB 1net stop MongoDB ç§»é™¤æœåŠ¡ åœ¨MongoDBç›®å½•ä¸‹çš„ bin é‡Œé¢ 1mongod.exe --remove ä»»åŠ¡ç®¡ç†å¯åŠ¨ å¯¹äº Windowsï¼Œæ‰“å¼€ä»»åŠ¡ç®¡ç†ï¼Œç‚¹å‡» æœåŠ¡ï¼Œæ‰“å¼€æœåŠ¡ï¼Œåœ¨æœåŠ¡çª—å£å°±å¯ä»¥æ‰¾åˆ°MongoDBå¹¶ä¸”å¯åŠ¨ æ·»åŠ ç¯å¢ƒå˜é‡ç›´æ¥åœ¨ç³»ç»Ÿå˜é‡çš„pathä¸­åŠ ä¸Šä¸€æ¡MongoDBç›®å½•çš„ bin ç›®å½•å³å¯ã€‚ ä½¿ç”¨åˆ†ä¸ºå‘½ä»¤è¡Œã€å¯è§†åŒ–å·¥å…·ã€Node.js å›¾å½¢ç•Œé¢ä½¿ç”¨ è¿™ä¸²ä¸œè¥¿åœ¨å‘½ä»¤è¡Œè¿è¡Œ mongo çš„æ—¶å€™ä¼šå‡ºç°ã€‚ å‘½ä»¤è¡Œä½¿ç”¨åœ¨å‘½ä»¤è¡Œç›´æ¥ä½¿ç”¨å°±å¯è¿ä¸Šï¼Œç”¨æˆ·åå’Œå¯†ç æ˜¯å¯é€‰çš„ 1mongo å¦‚æœæƒ³ç”¨ç”¨æˆ·åå¯†ç  1mongodb://admin:123456@localhost/ å¦‚æœè¿˜æƒ³æŒ‡å®šæ•°æ®åº“ 1mongodb://admin:123456@localhost/test æ•°æ®åº“ä½¿ç”¨æ•°æ®åº“ï¼Œå¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ (åˆšåˆ›å»ºçš„æ•°æ®åº“æ˜¯çœ‹ä¸è§çš„ï¼Œè¦æ’å…¥å†…å®¹æ‰èƒ½çœ‹è§) 1use æ•°æ®åº“å æŸ¥çœ‹å½“å‰æ•°æ®åº“ 1db æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ 1show dbs åˆ é™¤æ•°æ®åº“ï¼Œä½¿ç”¨ use é€‰ä¸­è¦åˆ é™¤çš„æ•°æ®åº“ï¼Œç„¶åæ‰§è¡Œ 1db.dropDatabase() å¯¼å…¥æ•°æ®åº“ 1mongoimport -d æ•°æ®åº“åç§° -c é›†åˆåç§° --file è¦å¯¼å…¥çš„æ•°æ®æ–‡ä»¶ å…ˆè¦å°†å…¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ é›†åˆåˆ›å»ºé›†åˆ 1db.createCollection(name, options) optionsé€‰é¡¹ï¼Œå½“ä½¿ç”¨æ—¶ï¼Œä»¥å¯¹è±¡çš„å½¢å¼ä½¿ç”¨ å­—æ®µ ç±»å‹ æè¿° capped å¸ƒå°”å€¼ å½“ä¸º true çš„æ—¶å€™ï¼ŒæŒ‡åˆ›å»ºå›ºå®šå¤§å°çš„é›†åˆï¼Œå¿…é¡»æŒ‡å®š size çš„å€¼ï¼Œè¶…è¿‡æ—¶ä¼šè¦†ç›–æœ€æ—©çš„å€¼ sise æ•°å€¼ æŒ‡å®šé›†åˆçš„æœ€å¤§å€¼ max æ•°å€¼ æŒ‡å®šé›†åˆä¸­æ–‡æ¡£çš„æœ€å¤§æ•°é‡ åˆ é™¤é›†åˆ åœ¨è¦åˆ é™¤é›†åˆæ‰€å¤„çš„æ•°æ®åº“ä¸­ 1db.collection.drop() æ–‡æ¡£ - å¢åˆ æ”¹æŸ¥æ’å…¥1db.é›†åˆåå­—.insert(document) å¦‚æœæ’å…¥çš„æ•°æ®ä¸»é”®å·²ç»å­˜åœ¨ï¼ŒæŠ¥é”™ 1db.é›†åˆåå­—.save(document) å¦‚æœä¸»é”®å­˜åœ¨ï¼Œåˆ™æ›´æ–°æ•°æ®ï¼›å¦‚æœä¸å­˜åœ¨åˆ™æ’å…¥æ•°æ®ï¼ˆé€æ¸ä¸ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼‰ æ’å…¥ä¸€æ¡ 123456db.document.insertOne( &lt;document&gt;, { writeConcern: &lt;document&gt; }) æ’å…¥å¤šæ¡ 1234567db.document.insertMany( [ &lt;document 1&gt;, &lt;document 2&gt; ], { writeConcern: &lt;document&gt;, ordered: &lt;boolean&gt; }) ä»¥ä¸Šç”¨åˆ°çš„å‚æ•° å‚æ•° è¯´æ˜ document è¦æ’å…¥çš„æ–‡æ¡£ writeConcern å†™å…¥ç­–ç•¥ï¼Œé»˜è®¤1ï¼Œè¦æ±‚ç¡®è®¤å†™æ“ä½œï¼Œä¸è¦å°±0 ordered æŒ‡å®šæ˜¯å¦é¡ºåºå†™å…¥ï¼Œé»˜è®¤true åˆ é™¤1234567db.collection.remove( &lt;query&gt;, { justOne: &lt;boolean&gt;, writeConcern: &lt;document&gt; }) å‚æ•° è¯´æ˜ query å¯é€‰ï¼Œåˆ é™¤çš„æ¡ä»¶ justOne å¦‚æœä¸º 1 æˆ– trueï¼Œåªåˆ é™¤ä¸€æ¡ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œåˆ é™¤åŒ¹é…çš„ writeConcern æŠ›å‡ºå¼‚å¸¸çš„çº§åˆ« æ›´æ–°123456789db.collection.update( &lt;query&gt;, &lt;update&gt;, { upsert: &lt;boolean&gt;, multi:&lt;boolean&gt;, writeConcern: &lt;document&gt; }) å‚æ•° è¯´æ˜ query æ›´æ–°çš„æŸ¥è¯¢æ¡ä»¶ update è¦æ›´æ–°çš„å¯¹è±¡ï¼Œç±»ä¼¼äºsqlä¸­çš„ set xxx upsert å¯é€‰ï¼Œå¦‚æœä¸å­˜åœ¨updateçš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥objNewï¼Œé»˜è®¤æ˜¯falseï¼Œä¸æ’å…¥ã€‚ multi å¯é€‰ï¼Œåªæ›´æ–°æ‰¾åˆ°çš„ç¬¬ä¸€æ¡æ•°æ®ã€‚é»˜è®¤ false writeConcern å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ« æŸ¥è¯¢1db.collection.find(query, projection) å‚æ•° è¯´æ˜ query æŸ¥è¯¢æ¡ä»¶ projection æŒ‡å®šè¦è¿”å›çš„æ–‡æœ¬çš„é”®ï¼Œå¦‚æœè¿”å›æ‰€æœ‰ï¼Œä¸ç”¨å†™è¿™ä¸ªå‚æ•° 1db.col.find().pretty() æ ¼å¼åŒ–è¾“å‡ºçš„å†…å®¹ ğŸ‘‰ å»èœé¸Ÿæ•™ç¨‹çœ‹æ·±å…¥å†…å®¹ Node.js æ“ä½œè¿æ¥12345678mongoose .connect('mongodb://localhost/mongotest', { useNewUrlParser: true }) .then(() =&gt; { console.log('è¿æ¥æˆåŠŸ') }) .catch((err) =&gt; { console.log('è¿æ¥å¤±è´¥', err) }) å¦‚æœæŒ‡å®šçš„æ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼ˆåˆ›å»ºäº†ä¸æ’å…¥æ•°æ®ï¼Œåœ¨åˆ—è¡¨ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ï¼‰ { useNewUrlParser: true }ï¼šæ–°ç‰ˆçš„MongoDBä¼šæœ‰è¿™æ ·çš„æç¤ºï¼Œä¸ç”¨ç‰¹åˆ«å»è®°ï¼Œå¦‚æœä¸åŠ ä¸Šç³»ç»Ÿä¼šæœ‰æç¤ºçš„ å¢åˆ æ”¹æŸ¥åˆ›å»ºåˆ›å»ºé›†åˆï¼ˆæ•°æ®è¡¨ï¼‰ï¼šåˆ†ä¸ºä¸¤æ­¥ è®¾ç½®é›†åˆçš„è§„åˆ™ åˆ›å»ºé›†åˆ 123456789// è®¾å®šé›†åˆè§„åˆ™const courseSchema = new mongoose.Schema({ name: String, author: String, isPublished: Boolean, tags: [String]});// åˆ›å»ºé›†åˆå¹¶åº”ç”¨è§„åˆ™const Course = mongoose.model('Course', courseSchema); modelï¼šé‡Œé¢çš„é›†åˆåç§°é¦–å­—æ¯è¦å¤§å†™ï¼Œç”Ÿæˆçš„åç§°ä¼šæ˜¯å°å†™ï¼Œç„¶åæ˜¯å¤æ•°å½¢å¼ï¼Œå¦‚ä¸Šçš„coursesï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºæ“ä½œæ•°æ® åˆ›å»ºæ–‡æ¡£ï¼ˆæ¯ä¸€æ¡æ•°æ®ï¼‰ï¼šåˆ†ä¸ºä¸¤æ­¥ åˆ›å»ºé›†åˆå®ä¾‹ è°ƒç”¨å®ä¾‹å¯¹è±¡ä¸‹çš„saveæ–¹æ³•å°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ åˆ›å»ºçš„æ—¶å€™ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸€æ¡æ•°æ®ç”Ÿæˆä¸€ä¸ªidï¼Œ_id 1234567const course = new Course({ name: 'node.js', author: 'æ²³é©¬ç¨‹åºå‘˜', isPublised: true, price: '20'})course.save() è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨ create() æ–¹æ³•ï¼Œè¿™ä¸ç”¨è°ƒç”¨ save() ä¹Ÿåˆ†ä¸ºä¸¤ç§å½¢å¼ï¼Œå›è°ƒå½¢å¼å’ŒPromiseå½¢å¼ 1234567Course.create( { name: 'JavaScript', author: 'æ²³é©¬æœ‰ç”¨', isPublised: false, price: 44 }, (err, result) =&gt; { console.log(err) console.log(result) }) Promiseå½¢å¼ 123456789Course.create({ name: 'Pythoné¢', author: 'é»‘å…”ç¨‹åºå‘˜', isPublised: true, price: 49, tag: ['ç¨‹åºå‘˜', 'python']}) .then((result) =&gt; console.log(result)) .catch((err) =&gt; console.log(err)) æŸ¥è¯¢åŸºç¡€æŸ¥è¯¢ 1234567Course.find().then((result) =&gt; console.log(result))// åŠ å…¥ç­›é€‰æ¡ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡;è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„Course.find({ author: 'ç™½é©¬ç¨‹åºå‘˜' }).then((result) =&gt; console.log('findè¿”å›æ•°ç»„', result))// åªè¿”å›ä¸€æ¡,é»˜è®¤è¿”å›ç¬¬ä¸€æ¡Course.findOne().then((result) =&gt; console.log('findOneåªè¿”å›ä¸€æ¡', result)) èŒƒå›´æŸ¥è¯¢ $gtï¼šå¤§äºï¼Œ $ltï¼šå°äº $inï¼šåŒ…å« 123Course.find({ price: { $gt: 20, $lt: 30 } }).then((result) =&gt; console.log('èŒƒå›´æŸ¥è¯¢', result)) 123Course.find({ tag: { $in: ['js'] } }).then((result) =&gt; console.log('åŒ…å«', result)) å­—æ®µæŸ¥è¯¢ å­—æ®µï¼šé€‰æ‹©è¦æŸ¥è¯¢è¾“å‡ºçš„å­—æ®µï¼Œåœ¨find()åé¢é“¾å¼è°ƒç”¨select(),å¤šä¸ªå­—æ®µç”¨ç©ºæ ¼éš”å¼€ ä¸æƒ³æŸ¥è¯¢è°ï¼Œåœ¨å‰é¢åŠ ä¸Š â€œ-â€ï¼Œå¦‚ï¼š-id 123Course.find() .select('name author -id') .then((result) =&gt; console.log('å­—æ®µæŸ¥è¯¢', result)) æ’åº åœ¨find()åé¢é“¾å¼è°ƒç”¨sort() 123Course.find() .sort('price') .then((result) =&gt; console.log('æ’åº', result)) è·³è¿‡ã€é™åˆ¶ 1234Course.find() .skip(2) .limit(3) .then((result) =&gt; console.log(result)) åˆ é™¤åˆ é™¤ä¸€æ¡ 1234Course.findOneAndDelete({ _id: '606c49904798cf25005e0cd6' }).then((result) =&gt; // è¿”å›çš„å°±æ˜¯åˆ é™¤çš„é‚£æ¡ï¼Œå¦‚æœåŒ¹é…äº†å¤šæ¡ï¼Œä¼šåˆ é™¤ç¬¬ä¸€æ¡ console.log(result)) åˆ é™¤å¤šæ¡ ï¼ï¼å¦‚æœä¼ äº†ç©ºå¯¹è±¡{}ï¼Œä¼šåˆ é™¤æ‰€æœ‰ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒOKå’Œnï¼Œokä¸º1ä»£è¡¨æˆåŠŸï¼Œnä»£è¡¨åˆ é™¤çš„æ¡ç›® 1Course.deleteMany({}).then((result) =&gt; console.log(result)) æ›´æ–°æ›´æ–°ä¸€æ¡ 123Course.updateOne({ name: 'Pythoné¢' }, { name: 'Pythonå­¦ä¹ ' }).then((result) =&gt; console.log(result)) æ›´æ–°å¤šæ¡ å¦‚æœä¼ é€’ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå³æ˜¯æ›´æ–°æ‰€æœ‰ 123Course.updateOne({ name: 'Pythoné¢' }, { name: 'Pythonå­¦ä¹ ' }).then((result) =&gt; console.log(result)) mongooseéªŒè¯åœ¨åˆ›å»ºéªŒè¯è§„åˆ™çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®å½“å‰å­—æ®µçš„éªŒè¯è§„åˆ™ï¼ŒéªŒè¯å¤±è´¥å°±è¾“å…¥æ’å…¥å¤±è´¥ require: true å¿…ä¼ å­—æ®µã€‚å¦‚ä¸‹ï¼Œå¦‚æœtitleæ²¡ä¼ å°±ä¼šæŠ¥é”™ require: [true, â€˜è¯·ä¼ å…¥æ ‡é¢˜â€™]ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ minlengthç±»å‹å¯¹äºå­—ç¬¦ä¸²ï¼Œminç±»å‹å¯¹äºæ•°å€¼ è¿™æ · 123456789const postSchema = new mongoose.Schema({ title: { type: String, required: true, minlength: 2, maxlength: 5, trim: true }}) æˆ–è€…è¿™æ · 12345678910111213141516171819202122232425262728293031323334353637383940414243444546const postSchema = new mongoose.Schema({ title: { type: String, required: [true, 'è¯·ä¼ å…¥æ–‡ç« æ ‡é¢˜'], minlength: [2, 'æ ‡é¢˜æœ€å°ä¸èƒ½å°äº2ä½'], maxlength: [5, 'æ ‡é¢˜æœ€å°ä¸èƒ½å°äº5ä½'], trim: true }, age: { type: Number, min: 10, max: 60 }, publishDate: { type: Date, // defaultçš„å¯ä»¥ä¸ä¼  default: Date.now }, category: { type: String, // enumæŒ‡å®šè¦ä¼ çš„å€¼ï¼Œä¸æ˜¯æŒ‡å®šçš„å€¼ä¸èƒ½ä¼  enum: ['html', 'css', 'js'] }, // è‡ªå®šä¹‰éªŒè¯ author: { type: String, validate: { validator: (val) =&gt; { // è¿”å›å¸ƒå°”å€¼ï¼Œvalæ˜¯è¦éªŒè¯çš„å€¼ return val &amp;&amp; val.length &gt; 4 }, // è‡ªå®šä¹‰æ¶ˆæ¯ message: 'ä¼ å…¥çš„å€¼ä¸ç¬¦åˆéªŒè¯è§„åˆ™' } }})const Post = mongoose.model('Post', postSchema)Post.create({ title: 'å¼€å¿ƒ', age: 21, category: 'html', author: 'asd'}) .then((result) =&gt; console.log(result)) .catch((error) =&gt; console.log(error)) é›†åˆå…³è”12345678910111213141516171819202122232425262728293031323334// ç”¨æˆ·è§„åˆ™const userSchema = new mongoose.Schema({ name: { type: String }})// ä¹¦æœ¬è§„åˆ™const bookSchema = new mongoose.Schema({ title: { type: String }, author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' }})// ç”¨æˆ·é›†åˆconst User = mongoose.model('User', userSchema)// ä¹¦æœ¬é›†åˆconst Book = mongoose.model('Book', bookSchema)// åˆ›å»ºç”¨æˆ·User.create({ name: 'é“œé”£æ¹¾æ‰fitäºº' }).then((result) =&gt; console.log(result))// åˆ›å»ºä¹¦æœ¬Book.create({ title: 'å¦‚ä½•åšæ´ªå…´å¤§ä½¬', author: '606daa780bd6c1573c703c48'}).then((result) =&gt; console.log(result))// è¿™æ¡æŸ¥å‡ºçš„æ˜¯ä¹¦æœ¬ä¿¡æ¯ï¼Œä½†æ˜¯ä½œè€…æ˜¯å½“å‰ä½œè€…çš„id// Book.find().then()Book.find() .populate('author') .then((result) =&gt; console.log(result)) å¯èƒ½å¢è¡¥ã€ä¿®æ”¹â€¦â€¦","link":"/2021/04/16/MongoDB%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"},{"title":"Nginxç¼“å­˜","text":"æ“ä½œç³»ç»Ÿï¼šLinux CentOS 7 Nginxç‰ˆæœ¬ï¼š1.18 è¯¾ä»£è¡¨ï¼šâ‘  æ°¸ä¹…ç¼“å­˜é…ç½®ã€â‘¡ ä¸´æ—¶ç¼“å­˜é…ç½®ã€â‘¢ ç¼“å­˜æ¸…ç†é…ç½® æ°¸ä¹…ç¼“å­˜é…ç½®å‰æå‡†å¤‡å‡†å¤‡ä¸¤ä¸ªè™šæ‹Ÿæœºï¼Œä¸€å°ä½œä¸ºWebç¼“å­˜æœåŠ¡å™¨ï¼ˆ192.168.146.24ï¼‰ï¼Œä¸€å°ä½œä¸ºå†…å®¹æºæœåŠ¡å™¨ï¼ˆ192.168.146.27ï¼‰ é…ç½® Webç¼“å­˜æœåŠ¡å™¨åœ¨nginxé…ç½®æ–‡ä»¶ä¸­æ–°å»ºè™šæ‹Ÿä¸»æœº cache.test.conf 12cd /usr/local/nginx/conf/vhostvim cache.test.conf å†…å®¹ä¸º 12345678910111213server { listen 80; server_name 192.168.146.24; location / { root cache; proxy_store on; proxy_store_access user:rw group:rw all:rw; proxy_temp_path cache_tmp; if ( !-e $request_filename){ proxy_pass http://192.168.146.27; } }} åœ¨ä¸»é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰ä¸­å¯¼å…¥è™šæ‹Ÿæœº 1include /usr/local/nginx/conf/vhost/cache.test.conf åœ¨nginxçš„æ ¹ç›®å½•ä¸­ï¼Œåˆ›å»ºä¿å­˜ç¼“å­˜çš„æ–‡ä»¶å¤¹ cache 1mkdir cache æ›´æ”¹å¯¹æ­¤æ–‡ä»¶å¤¹çš„ç”¨æˆ·æƒé™ï¼Œè¦æ±‚ä¸Nginxå·¥ä½œè¿›ç¨‹çš„ç”¨æˆ·ç›¸åŒï¼ˆæ¯”å¦‚nobodyï¼‰ 1chown -R nobody:nobody cache é‡æ–°åŠ è½½Nginxé…ç½®æ–‡ä»¶ 1nginx -s reload é…ç½®å†…å®¹æºæœåŠ¡å™¨æ–°å»ºè™šæ‹Ÿæœºå¹¶ä¸”ä½¿ç”¨ include æŒ‡ä»¤åœ¨ä¸»é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰ä¸­å¼•å…¥ 1vim cache.test.conf å†…å®¹ä¸º 1234567server { listen 80; server_name localhost; location / { root html/cache.test; index cache.html; } åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶ä½œä¸ºæ­¤æœåŠ¡å™¨çš„æµ‹è¯•æ–‡ä»¶ã€‚åœ¨Nginxæ ¹ç›®å½•çš„htmlæ–‡ä»¶å¤¹ä¸­ æ–°å»ºæ–‡ä»¶å¤¹ 1mkdir cache.test æ–°å»ºæµ‹è¯•æ–‡ä»¶ cache.html 12cd cache.testvim cache.html å†…å®¹ä¸º 1&lt;h1&gt;Welcome to 192.168.146.27&lt;/h1&gt; åœ¨æ­¤ç›®å½•ä¸‹å†åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•testï¼Œåœ¨testé‡Œé¢åˆ›å»ºåˆ›å»º test.htmlï¼Œå¹¶ä¸”æ”¾ä¸€å¼ å›¾ç‰‡(nginx.jpg)åœ¨æ­¤ç›®å½• 12&lt;h1&gt;192.168.146.27/test/test.html&lt;/h1&gt;&lt;img src=&quot;nginx.jpg&quot; /&gt; è®¿é—®æµ‹è¯•åˆ†åˆ«åœ¨æµè§ˆå™¨è®¿é—® 192.168.146.24/cache.html å’Œ 192.168.146.24/test/test.html åœ¨åˆšåˆšåˆ›å»ºçš„ cache æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ç”¨ treeæŸ¥çœ‹ç›®å½•å†…å®¹ è¿™äº›å†…å®¹è®¿é—®æ˜¯webç¼“å­˜æœåŠ¡å™¨(192.168.146.24)çš„å†…å®¹ï¼Œå°±ç®—æ”¹æ‰èµ„æºæœåŠ¡å™¨(192.168.146.27)çš„å†…å®¹ï¼Œå¾—åˆ°çš„è¿˜æ˜¯ä¸å˜çš„ç»“æœ å¦‚æœæ²¡æœ‰ tree å‘½ä»¤ï¼Œä½¿ç”¨ yum install -y tree ä¸‹è½½å°±è¡Œ ä¸´æ—¶ç¼“å­˜é…ç½®é…ç½®webç¼“å­˜æœåŠ¡å™¨åœ¨192.168.146.24çš„ä¸»é…ç½®æ–‡ä»¶çš„ httpæ¨¡å—ä¸­æ·»åŠ  1234# ä»£ç†ä¸´æ—¶ç›®å½•proxy_temp_path /usr/local/nginx/proxy_temp_dir;# Webç¼“å­˜ç›®å½•å’Œå‚æ•°è®¾ç½®proxy_cache_path /usr/local/nginx/proxy_cache_dir levels=1:2 keys_zone=cache_one:50m inactive=1m max_size=500m; /usr/local/nginx/proxy_cache_dirå‚æ•°ï¼šè¡¨ç¤ºç”¨æˆ·è‡ªå®šä¹‰çš„ç¼“å­˜æ–‡ä»¶ä¿å­˜ç›®å½• levelså‚æ•°ï¼šè¡¨ç¤ºç¼“å­˜ç›®å½•ä¸‹çš„å±‚çº§ç›®å½•ç»“æ„ï¼Œå®ƒæ˜¯æ ¹æ®å“ˆå¸Œåçš„è¯·æ±‚URLåœ°å€åˆ›å»ºçš„ï¼Œç›®å½•åç§°ä»å“ˆå¸Œåçš„å­—ç¬¦ä¸²ç»“å°¾å¤„å¼€å§‹æˆªå– å‡è®¾å“ˆå¸Œåçš„è¯·æ±‚é“¾æ¥åœ°å€ä¸ºâ€œaf7098a15e430326197ee01516fdace0â€ï¼Œåˆ™levels=1:2è¡¨ç¤ºï¼Œç¬¬1å±‚å­ç›®å½•çš„åç§°æ˜¯é•¿åº¦ä¸º1çš„å­—ç¬¦â€œ0â€ï¼Œç¬¬2å±‚å­ç›®å½•çš„åç§°æ˜¯é•¿åº¦ä¸º2çš„å­—ç¬¦â€œceâ€ã€‚ keys_zoneå‚æ•°ï¼šæŒ‡å®šç¼“å­˜åŒºåç§°åŠå¤§å°ï¼Œä¾‹å¦‚â€œcache_one:50mâ€è¡¨ç¤ºç¼“å­˜åŒºåç§°ä¸ºcache_oneï¼Œåœ¨å†…å­˜ä¸­çš„ç©ºé—´æ˜¯50M inactiveå‚æ•°ï¼šè¡¨ç¤ºä¸»åŠ¨æ¸…ç©ºåœ¨æŒ‡å®šæ—¶é—´å†…æœªè¢«è®¿é—®çš„ç¼“å­˜ã€‚ä¾‹å¦‚ï¼Œâ€œ1mâ€æ¸…ç©ºåœ¨1åˆ†é’Ÿå†…æœªè¢«è®¿é—®è¿‡çš„ç¼“å­˜ï¼Œâ€œ1hâ€è¡¨ç¤º1å°æ—¶ï¼Œâ€œ1dâ€è¡¨ç¤º1å¤©ç­‰ max_sizeå‚æ•°ï¼šè¡¨ç¤ºæŒ‡å®šç£ç›˜ç©ºé—´å¤§å°ã€‚ä¾‹å¦‚ï¼Œ500mã€10g åœ¨serveræ¨¡å—ä¸­æ·»åŠ ä¸´æ—¶ç¼“å­˜çš„ç›¸å…³é…ç½®(å¯ä»¥åœ¨ä¹‹å‰é…ç½®ä¸­çš„è™šæ‹Ÿä¸»æœºä¸­é…ç½®) 1234567891011121314151617181920server { listen 80; server_name cache.test; # å¢åŠ ä¸¤ä¸ªå“åº”å¤´ä¿¡æ¯ï¼Œç”¨äºè·çŸ¥è®¿é—®çš„æœåŠ¡å™¨åœ°å€ä¸ç¼“å­˜æ˜¯å¦æˆåŠŸ add_header X-Via $server_addr; add_header X-Cache $upstream_cache_status; location / { # è®¾ç½®ç¼“å­˜åŒºåŸŸåç§° proxy_cache cache_one; # ä»¥åŸŸåã€URIã€å‚æ•°ç»„åˆæˆWebç¼“å­˜çš„Keyå€¼ï¼ŒNginxæ ¹æ®Keyå€¼å“ˆå¸Œ proxy_cache_key $host$uri$is_args$args; # å¯¹ä¸åŒçš„HTTPçŠ¶æ€ç è®¾ç½®ä¸åŒçš„ç¼“å­˜æ—¶é—´ proxy_cache_valid 200 10m; # 200ç¼“å­˜10åˆ†é’Ÿ proxy_cache_valid 304 1m; # 304ç¼“å­˜1åˆ†é’Ÿ proxy_cache_valid 301 302 1h; # 301ã€302ç¼“å­˜1å°æ—¶ proxy_cache_valid any 1m; # å…¶ä»–æœªè®¾ç½®çš„çŠ¶æ€ç ç¼“å­˜1åˆ†é’Ÿ # è®¾ç½®åå‘ä»£ç† proxy_pass http://192.168.146.27; }} åœ¨æµè§ˆå™¨è®¿é—®æµ‹è¯•ç»“æœ è®¿é—®webç¼“å­˜æœåŠ¡å™¨ï¼ˆ192.168.146.24ï¼‰ åœ¨ nginx æ ¹ç›®å½•ä¸‹çš„ proxy_cache_dir ç›®å½•ä½¿ç”¨ tree å‘½ä»¤ ç¼“å­˜æ¸…ç†é…ç½®å‰æå‡†å¤‡å¤‡ä»½å·²å®‰è£…çš„Nginxå…ˆåœæ‰Nginxï¼Œç„¶åå¤åˆ¶æ•´ä¸ªNginxç›®å½• 1cp -r /usr/local/nginx /usr/local/nginx_old2 é‡æ–°ç¼–è¯‘å®‰è£…Nginxæ’ä»¶ä¸‹è½½åœ°å€ï¼šhttps://github.com/FRiCKLE/ngx_cache_purge/releases ä¸‹è½½çš„å†…å®¹ä¼šæ˜¯ä¸€ä¸ªzipåŒ…ï¼Œä½¿ç”¨uzipè§£å‹ä¹‹åï¼Œç§»åŠ¨ 1mv ngx_cache_purge-master /usr/local/ngx_cache_purge å»åˆ° Nginx çš„æ ¹ç›®å½• 12345./configure \\--prefix=/usr/local/nginx \\--with-http_ssl_module \\--with-http_stub_status_module \\--add-module=/usr/local/ngx_cache_purge è¿™é‡Œçš„ \\ è¡¨ç¤ºçš„æ˜¯å½“å‰å‘½ä»¤è¿˜æ²¡æœ‰ç»“æŸï¼Œåªæ˜¯æ¢è¡Œå¤„ç† ç¼–è¯‘ã€å®‰è£… 1make &amp;&amp; make install åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ˆè™šæ‹Ÿä¸»æœºï¼‰åŠ å…¥ 123456location ~ /purge(/.*){ allow 192.168.146.24; deny all; proxy_cache_purge cache_one $host$1$is_args$args; } è®¿é—®æµ‹è¯•å…ˆæ¸…é™¤ä¹‹å‰å·²ç»å­˜åœ¨çš„ç¼“å­˜ åœ¨nginxæ ¹ç›®å½•ä¸­è¿›å…¥proxy_cache_dirç›®å½•ï¼ŒæŠŠé‡Œé¢çš„å†…å®¹å…¨éƒ¨åˆ æ‰ï¼Œç„¶åé‡æ–°è®¿é—®webç¼“å­˜æœåŠ¡å™¨ï¼ˆ192.168.146.24ï¼‰ã€‚æŸ¥çœ‹ç¼“å­˜ï¼š è¦æ‰§è¡Œæ¸…é™¤ç¼“å­˜æ“ä½œï¼Œç°åœ¨åªéœ€è¦åœ¨æµè§ˆå™¨ä¸­è¾“å…¥cache.test/purge/index.htmlå°±å¯ä»¥æ¸…é™¤ç¼“å­˜å•¦ã€‚","link":"/2020/11/10/Nginx%E7%BC%93%E5%AD%98/"},{"title":"Nginxå®‰è£…","text":"æ“ä½œç³»ç»Ÿï¼šLinux CentOS 7 å®˜ç½‘ä¸‹è½½åœ°å€ï¼šwww.nginx.org é¢„å…ˆå®‰è£…ï¼šgccã€gcc-c++ Nginx ä¾èµ–åŒ…ï¼špcre-develã€zlib-develã€openssl-devel æ¨èå®‰è£…ï¼šwgetï¼ˆç”¨æ¥ä»ç½‘ç»œä¸Šä¸‹è½½æ–‡ä»¶ï¼‰yum install weget å®‰è£…é¢„å…ˆå®‰è£… gccã€gcc-c++1yum install gcc gcc-c++ å®‰è£…ä¾èµ–1yum install pcre-devel openssl-devel zlib-devel å®‰è£… NGINXé€šè¿‡ wgetä¸‹è½½ 1wget http://nginx.org/download/nginx-1.18.0.tar.gz é€šè¿‡è¿™ç§ä¸‹è½½æ˜¯ä¸‹è½½å®˜ç½‘ä¸Šçš„å‹ç¼©åŒ…ï¼ˆç‰ˆæœ¬è¦æ ¹æ®å®é™…æƒ…å†µï¼‰ åœ¨å‹ç¼©åŒ…æ‰€åœ¨ç›®å½•è§£å‹ 1tar -zxvf nginx-1.18.0.tar.gz zï¼šè¡¨ç¤ºå‹ç¼©åŒ…æ ¼å¼ä¸º gzip xï¼šè¡¨ç¤ºè§£å‹ç¼© vï¼šè¡¨ç¤ºæ˜¾ç¤ºè§£å‹è¿‡ç¨‹ fï¼šè¡¨ç¤ºå¯¹æŒ‡å®šæ–‡ä»¶è¿›è¡Œæ“ä½œ è¿›å…¥ Nginx æ–‡ä»¶æ ¹ç›®å½• 1cd nginx-1.18.0 Nginx ç›®å½•ä»‹ç» auto ç›®å½•ï¼šå­˜æ”¾å¤§é‡çš„è„šæœ¬æ–‡ä»¶ï¼Œå’Œ configure è„šæœ¬ç¨‹åºç›¸å…³ configure æ–‡ä»¶ï¼šNginx è‡ªåŠ¨å®‰è£…è„šæœ¬ï¼Œç”¨äºæ£€æŸ¥ç¯å¢ƒï¼Œç”Ÿæˆç¼–è¯‘ä»£ç éœ€è¦çš„ makefile æ–‡ä»¶ html ç›®å½•ï¼šå­˜æ”¾é»˜è®¤ç½‘ç«™æ–‡ä»¶ src ç›®å½•ï¼šå­˜æ”¾ Nginx çš„æºä»£ç  conf ç›®å½•ï¼šå­˜æ”¾ Nginx æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ å®‰è£… NGINXåœ¨ Nginx æ ¹ç›®å½• 1./configure --prefix=/usr/local/nginx --with-http_ssl_module ./configureç”¨äºå¯¹å³å°†å®‰è£…çš„è½¯ä»¶è¿›è¡Œé…ç½®ï¼Œæ£€æŸ¥å½“å‰çš„ç¯å¢ƒæ˜¯å¦æ»¡è¶³å®‰è£…è½¯ä»¶ï¼ˆNginxï¼‰çš„ä¾èµ–å…³ç³» --prefixå‚æ•°ç”¨äºè®¾ç½® Nginx çš„å®‰è£…ç›®å½•ï¼Œé»˜è®¤å€¼â€œ/usr/local/nginxâ€ï¼Œå¯çœç•¥æ­¤å‚æ•°æˆ–æŒ‡å®šåˆ°å…¶ä»–ä½ç½® --with-http_ssl_moduleå‚æ•°ç”¨äºè®¾ç½®åœ¨ Nginx ä¸­å…è®¸ä½¿ç”¨ http_ssl_module æ¨¡å—çš„ç›¸å…³åŠŸèƒ½ï¼ˆå¯ä»¥ä»¥åå†å®‰è£…ï¼‰ 1make &amp;&amp; make install makeï¼šç¼–è¯‘ make installï¼šå®‰è£… å¯åŠ¨ Nginx1cd /usr/local/nginx/sbin 1./nginx æŸ¥çœ‹åå°è¿è¡Œï¼ˆæ˜¯å¦å¯åŠ¨æˆåŠŸï¼‰ 1ps aux | grep nginx psï¼šæŸ¥çœ‹åå° aï¼šæ˜¾ç¤ºç°è¡Œç»ˆç«¯ä¸‹çš„æ‰€æœ‰ç¨‹åºï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„ç¨‹åº uï¼šä»¥ç”¨æˆ·ä¸ºä¸»çš„æ ¼å¼æ¥æ˜¾ç¤º xï¼šæ˜¾ç¤ºæ‰€æœ‰ç¨‹åºï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ† grepï¼šæ­£åˆ™ï¼Œè¿™é‡ŒåŒ¹é…çš„æ˜¯ nginx å­—ç¬¦ï¼Œå¹¶ä¸”çªå‡ºæ˜¾ç¤º ps aux å’Œ ps -aux æ˜¯ç”¨åŒºåˆ«çš„ï¼Œå¯èƒ½æ˜¾ç¤ºç»“æœæ²¡ä»€ä¹ˆåŒºåˆ« å¼€å¯ Nginx é»˜è®¤çš„ 80 ç«¯å£æŸ¥çœ‹ç«¯å£å ç”¨ 1netstat -tlnp å¼€å¯å…è®¸å¤–éƒ¨è®¿é—® 80 ç«¯å£ 1iptables -I INPUT -p tcp --dport 80 -j ACCEPT -I INPUTï¼šè¡¨ç¤ºåœ¨ INPUTï¼ˆå¤–éƒ¨è®¿é—®è§„åˆ™ï¼‰ä¸­æ’å…¥ä¸€æ¡è§„åˆ™ -p tcpï¼šæŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„åè®®ï¼ˆtcpã€udpã€icmp ç­‰ï¼‰ï¼Œè¿™é‡ŒæŒ‡å®š tcp â€“dport 80ï¼šç”¨äºæŒ‡å®šæ•°æ®åŒ…åŒ¹é…çš„ç›®æ ‡ç«¯å£å·ï¼Œè¿™é‡ŒæŒ‡å®š 80 ç«¯å£ -j ACCEPTï¼šæŒ‡å®šå¯¹æ•°æ®åŒ…çš„å¤„ç†æ“ä½œ(ACCEPTã€DROPã€REJECTã€REDIRECT ç­‰) è®¿é—®æµ‹è¯•æµè§ˆå™¨è¾“å…¥ IP å°±å¯ä»¥è®¿é—®åˆ° Nginx çš„é»˜è®¤é¡µé¢ Nginx çš„å¯åŠ¨å’Œåœæ­¢åœ¨/usr/local/nginx/sbinç›®å½•ä¸­ ç«‹å³åœæ­¢ï¼Œæ— è®ºå½“å‰è¿›ç¨‹æ˜¯å¦åœ¨å¤„ç†å·¥ä½œ 1./nginx -s stop -sï¼šè¡¨ç¤ºå‘é€ä¿¡å·åˆ°ä¸»è¿›ç¨‹ ä»å®¹åœæ­¢ï¼Œå®Œæˆå½“å‰å·¥ä½œåå†åœæ­¢ 1./nginx -s quit é€šè¿‡ kill å‘½ä»¤åœæ­¢ 1kill nginxçš„ä¸»è¿›ç¨‹PID é€šè¿‡killallä¹Ÿå¯ä»¥åœæ­¢ 1killall nginx å°† Nginx æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ æ·»åŠ ç¯å¢ƒå˜é‡ä»¥ä½¿ç”¨nginxå‘½ä»¤æ¥å¯åŠ¨å’Œå…³é—­ nginx æŸ¥çœ‹å½“å‰ PATH ç¯å¢ƒå˜é‡ 1echo $PATH åœ¨/usr/local/nginx/sbinç›®å½•ä¸­è¿è¡Œå¾—åˆ°ç»“æœï¼š /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin åˆ›å»ºè½¯é“¾æ¥ 1ln -s /usr/local/nginx/sbin/nginx /usr/local/sbin/nginx å‰ä¸€ä¸ªæ˜¯æºæ–‡ä»¶è·¯å¾„ï¼Œåä¸€ä¸ªæ˜¯ç›®æ ‡æ–‡ä»¶è·¯å¾„ ä½¿ç”¨ nginx å‘½ä»¤ç®¡ç† Nginx çŠ¶æ€åœæ­¢ 12nginx -s quitnginx -s stop é‡æ–°è½½å…¥é…ç½® 1nginx -s reload é‡å¯ Nginx 1nginx -s reopen","link":"/2020/11/06/Nginx%E5%AE%89%E8%A3%85/"},{"title":"MYFirstBlog","text":"FirstHello Worldï¼ SecondHello Word!","link":"/2020/03/06/MYFirstBlog/"},{"title":"PHPé¢å‘å¯¹è±¡è¿›é˜¶","text":"è¿™ç¯‡åŒ…æ‹¬ç±»å¸¸é‡ã€é™æ€æˆå‘˜ã€å°è£…ã€ç»§æ‰¿ã€æ¥å£ ç±»å¸¸é‡ä¸é™æ€æˆå‘˜å¦‚æœå¸Œæœ›ç±»ä¸­å®šä¹‰çš„æˆå‘˜è¢«æ‰€æœ‰å¯¹è±¡å…±äº«ï¼Œå¯ä»¥ä½¿ç”¨ç±»å¸¸é‡æˆ–é™æ€æˆå‘˜æ¥å®ç° ç±»å¸¸é‡ å®šä¹‰åçš„ç±»å¸¸é‡å€¼ä¸å˜ï¼Œåœ¨ç±»ä¸­ä½¿ç”¨ const å…³é”®å­—å®šä¹‰ç±»å¸¸é‡ 1const ç±»å¸¸é‡å = &quot;å¸¸é‡å€¼&quot;; åœ¨è®¿é—®ç±»å¸¸é‡çš„æ—¶å€™ï¼Œä½¿ç”¨æ ¼å¼ ç±»å::å¸¸é‡åç§° ï¼Œ**::** ç§°ä¸ºèŒƒå›´è§£ææ“ä½œç¬¦ 1234class Student{ const SCHOOL = &quot;ç«æ˜Ÿå­¦é™¢&quot;;}echo Student::SCHOOL; åœ¨ç±»å†…ä¹Ÿå¯ä»¥è®¿é—®ç±»å¸¸é‡ï¼Œä½¿ç”¨ self å…³é”®å­—ä»£æ›¿ç±»å å¦‚ self::SCHOOL ï¼Œè¿™æ ·é¿å…äº†ä¿®æ”¹ç±»åä¹‹åè¦ä¿®æ”¹ç±»ä¸­çš„ä»£ç çš„éº»çƒ¦ é™æ€æˆå‘˜ ä½¿ç”¨ static å…³é”®å­—æ¥ä¿®é¥°é™æ€æˆå‘˜ï¼Œå±äºç±»çš„æˆå‘˜ é€šè¿‡ç±»åç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å®ä¾‹åŒ–å¯¹è±¡ 1234567891011class Student{ public static $msg; public static function show(){ echo 'ä¿¡æ¯ï¼š' . self::$msg; // ç±»å†…è®¿é—®é™æ€å±æ€§ } public static function test(){ self::show(); // ç±»å†…è°ƒç”¨é™æ€æ–¹æ³• }}Student::$msg = 'PHPå­¦ä¹ '; // ç±»å¤–è®¿é—®é™æ€å±æ€§Student::show(); // ç±»å¤–è°ƒç”¨é™æ€æ–¹æ³• ç»§æ‰¿å’Œå°è£…ä¸ºäº†ä¿æŠ¤æ•°æ®ä¸è¢«è°ƒç”¨è€…éšæ„ä¿®æ”¹ã€é˜²æ­¢é‡å¤å®šä¹‰ ç»§æ‰¿ åœ¨ç°æœ‰çš„ç±»çš„åŸºç¡€ä¸Šå»æ„é€ ä¸€ä¸ªæ–°çš„ç±»ã€‚è¿™ä¸ªæ–°ç±»å«ä½œ å­ç±»ï¼ŒåŸæœ‰çš„ç±»å«ä½œ çˆ¶ç±» ä½¿ç”¨ extends å…³é”®å­— åªå…è®¸å•ç»§æ‰¿ï¼Œå³æ˜¯æ¯ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±» 12345678910111213class Animal{ public $name; public function shout(){ echo $this -&gt; name . 'å‘å‡ºå«å£°'; }}class Cat extends Animal{ public function __construct($name){ $this -&gt; name = $name; }}$cat = new Cat(&quot;Tom&quot;);$cat -&gt; shout(); // Tomå‘å‡ºå«å£° å½“å­ç±»æœ‰å’Œçˆ¶ç±»ç›¸åŒåå­—çš„æˆå‘˜çš„æ—¶å€™ï¼Œå­ç±»æˆå‘˜ä¼šè¦†ç›–çˆ¶ç±»æˆå‘˜ traits å…³é”®å­— ä½¿å¾—PHPå¯ä»¥è‡ªç”±å¤ç”¨æˆå‘˜å±æ€§å’Œæ–¹æ³•ï¼Œå‡å°‘å•ç»§æ‰¿çš„é™åˆ¶ 12345678910111213class Animal{}trait Cat{ public function shout(){ echo &quot;å–µå–µ&quot;; }}class TomCat extends Animal{ use Cat; public function __construct(){ $this -&gt; shout(); }}$tom = new TomCat(); // è¾“å‡ºç»“æœï¼šå–µå–µ å½“å­ç±»ã€çˆ¶ç±»ã€traitsæœ‰ç›¸åŒåç§°çš„æˆå‘˜çš„æ—¶å€™ï¼Œä¼˜å…ˆçº§æ˜¯ï¼šå­ç±» &gt; traits &gt; çˆ¶ç±» å¯ä»¥ç»™ traits ä¸­åŒåçš„æˆå‘˜å–åˆ«åï¼Œä¾‹å¦‚æœ‰ Cat å’Œ Dog ä¸¤ä¸ªTraits ä¸­æœ‰ç›¸åŒçš„ shout() 1234use Cat, Dog{ Cat::shout insteadof Dog; // å°†å·¦è¾¹çš„ Trait æŒ‡å®šçš„æˆå‘˜ä»£æ›¿ç»™å³è¾¹ Dog::shout as cry; // å°†å³è¾¹æŒ‡å®šçš„æˆå‘˜åä»£æ›¿å·¦è¾¹çš„} å½“æ‰§è¡Œ cry()ï¼Œçš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯æ‰§è¡Œ Dogä¸­çš„ shout() å°è£… éšè”½ç¨‹åºå†…éƒ¨çš„ç»†èŠ‚ï¼Œä»…å¯¹å¤–å¼€æ”¾æ¥å£ ç±»çš„å°è£…é€šè¿‡è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦å®ç°çš„ publicï¼šå…¬æœ‰ä¿®é¥°ç¬¦ï¼ˆåŒä¸€ç±»å†…ã€å­ç±»ã€ç±»å¤– å¯è®¿é—®ï¼‰ protectedï¼šä¿æŠ¤æˆå‘˜ä¿®é¥°ç¬¦ï¼ˆåŒä¸€ç±»å†…ã€å­ç±» å¯è®¿é—®ï¼‰ privateï¼šç§æœ‰ä¿®é¥°ç¬¦ï¼ˆåŒä¸€ç±»å†… å¯è®¿é—®ï¼‰ åœ¨PHP 4 ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯ç”¨ var å£°æ˜çš„ï¼Œæ•ˆæœå’Œ public ä¸€æ ·ï¼Œä»¥åçš„ç‰ˆæœ¬ä¹Ÿå…¼å®¹ï¼Œä½†æ˜¯ä¼šè½¬æ¢ä¸º public 123456class User{ public $name = 'jerry'; protected $tel = &quot;16888&quot;; private $age = 18;} è¦æƒ³è®¿é—®åˆ° protected å’Œ private çš„æˆå‘˜ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼šå…¬æœ‰æ–¹æ³•ï¼Œé­”æœ¯æ–¹æ³• å…¬æœ‰æ–¹æ³• åœ¨ä¸€ä¸ªç±»ä¸­å£°æ˜ä¸€ä¸ªå…¬æœ‰æ–¹æ³•ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå…¬æœ‰æ–¹æ³•è®¿é—®ã€‚ä¾‹å¦‚ï¼šåœ¨ä¸Šé¢ User ç±»ä¸­åŠ å…¥ 123public function test(){ return $this -&gt; age;} ç„¶åè°ƒç”¨ 123$user = new User();echo $user -&gt; age; // æ— æ³•è®¿é—®åˆ°ç§æœ‰å±æ€§echo $user -&gt; test(); // å¯ä»¥è®¿é—®åˆ°age é­”æœ¯æ–¹æ³• å¾…æ•´ç†â€¦â€¦ æ–¹æ³•é‡å†™ é‡å†™æ–¹æ³•æ—¶ï¼Œè¦ä¿æŒå‚æ•°æ•°é‡ä¸€è‡´ å­ç±»ä¸­æ–¹æ³•çš„è®¿é—®çº§åˆ«ç­‰äºæˆ–è€…å°äºçˆ¶ç±»ä¸­è¢«é‡å†™çš„æ–¹æ³•çš„è®¿é—®çº§åˆ« éé™æ€æ–¹æ³•é‡å†™123456789101112class Person{ public function introduce(){ echo __CLASS__; }}class Student extends Person{ public function introduce(){ echo __CLASS__; }}$s1 = new Student();$s1 -&gt; introduce(); // è¾“å‡ºç»“æœï¼šStudent é­”æœ¯å¸¸é‡ __CLASS__ ç”¨äºè¿”å›å½“å‰è¢«è°ƒç”¨çš„ç±»å ç§æœ‰æˆå‘˜åªèƒ½åœ¨æœ¬ç±»å†…è®¿é—®ï¼Œæ‰€ä»¥çˆ¶ç±»çš„ç§æœ‰å±æ€§æˆå‘˜ä¸èƒ½è¢«é‡å†™ é™æ€æ–¹æ³•é‡å†™å¯¹é™æ€æˆå‘˜çš„è°ƒç”¨é™¤äº†å¯ä»¥ä½¿ç”¨ç±»åï¼Œè¿˜å¯ä»¥ä½¿ç”¨selfã€parentã€static å…³é”®å­—ä»£æ›¿ selfï¼šè·å–å½“å‰æ–¹æ³•è°ƒç”¨æ—¶æ‰€åœ¨çš„ç±» parentï¼šè·å–å½“å‰ç±»çš„çˆ¶ç±» staticï¼šè·å–å®é™…è¿è¡Œæ—¶æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œä¹Ÿç§°ä¸ºåæœŸé™æ€ç»‘å®š 12345678910111213141516171819class Person{ public function show(){ self::introduce(); // ä¼˜å…ˆè®¿é—®çˆ¶ç±»æ–¹æ³• static::introduce(); // ä¼˜å…ˆè®¿é—®å­ç±»æ–¹æ³• } public static function introduce(){ echo '[Person]'; }}class Student extends Person{ public function show(){ parent::show(); // å­ç±»è°ƒç”¨çˆ¶ç±»æ–¹æ³• } public static function introduce(){ echo '[Student]'; }}$s1 = new Student();$s1 -&gt; show(); // è¾“å‡ºç»“æœï¼š [Person][Student] final å…³é”®å­—è¢« final å…³é”®å­—ä¿®é¥°çš„ç±»å’Œæˆå‘˜æ–¹æ³•ä¸èƒ½è¢«ä¿®æ”¹ï¼Œfinal ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œåªèƒ½è¢«å®ä¾‹åŒ–ã€‚ 12345678class Person{ protected final function show(){ // final æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™ }}final class Student extends Person{ // final ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œåªèƒ½è¢«å®ä¾‹åŒ–} åœ¨ä»£ç ä¸Šå‘Šè¯‰äº†åˆ«äººï¼Œåœ¨è¿™é‡Œå·²ç»ç»“æŸäº†ï¼Œåœ¨ä»£ç å±‚é¢ä¸Šé™åˆ¶äº†ç±»çš„ä½¿ç”¨æ–¹å¼ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„æ²Ÿé€š æŠ½è±¡ç±»å’Œæ¥å£åœ¨é¡¹ç›®æ¥å‘ä¸­ï¼Œç»å¸¸éœ€è¦å®šä¹‰æ–¹æ³•æ¥æè¿°ç±»çš„ä¸€äº›è¡Œä¸ºç‰¹å¾ï¼Œä½†æ˜¯è¿™äº›è¡Œä¸ºç‰¹å¾åœ¨ä¸åŒçš„æƒ…å†µä¹‹ä¸‹åˆæœ‰ä¸åŒçš„ç‰¹ç‚¹ã€‚æ‰€ä»¥åœ¨è¿™ç§æ— æ³•ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œå°±è¦ä½¿ç”¨æŠ½è±¡ç±»å’Œæ¥å£ æŠ½è±¡ç±»ä¸æŠ½è±¡æ–¹æ³•æŠ½è±¡ç±»ç”¨æ¥å®šä¹‰æŸç§è¡Œä¸ºï¼Œä½†æ˜¯å…·ä½“çš„å®ç°éœ€è¦ å­ç±» æ¥å®Œæˆã€‚ä½¿ç”¨ abstract å…³é”®å­—æ¥ä¿®é¥°æŠ½è±¡ç±» æ¯”å¦‚è·‘æ­¥è¿™ä¸ªè¡Œä¸ºï¼Œæœ‰æ¢å¤è·‘ã€åŸºç¡€è·‘ã€é•¿è·‘ç­‰å¤šç§è·‘æ­¥æ–¹å¼ 123abstract class ç±»å{ // å®šä¹‰æŠ½è±¡ç±» public abstract function æ–¹æ³•å(); // å®šä¹‰æŠ½è±¡æ–¹æ³•} åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼š æŠ½è±¡æ–¹æ³•æ˜¯åªæœ‰æ–¹æ³•å£°æ˜è€Œæ²¡æœ‰æ–¹æ³•ä½“çš„ç‰¹æ®Šæ–¹æ³• å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»è¢«å®šä¹‰ä¸ºæŠ½è±¡ç±» æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰éæŠ½è±¡æ–¹æ³•ã€æˆå‘˜å±æ€§å’Œå¸¸é‡ æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ å­ç±»ç»§æ‰¿æŠ½è±¡ç±»æ—¶å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™ä¹Ÿå¿…é¡»å®šä¹‰æˆæŠ½è±¡æ–¹æ³•æœ‰ä¸‹ä¸€ä¸ªç»§æ‰¿å®ç° æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•è¢«å£°æ˜ä¸º protectedï¼Œé‚£ä¹ˆå­ç±»ä¸­å®ç°çš„æ–¹æ³•å¯ä»¥å£°æ˜ä¸º protected æˆ–è€…æ˜¯ publicï¼Œè€Œä¸èƒ½æ˜¯ privateã€‚å°±æ˜¯è¯´èŒƒå›´å˜å¤§äº† 12345678910abstract class sport{ public abstract function type();}class Run extends sport{ public function type(){ echo &quot;é•¿è·‘&quot;; }}$running = new Run();$running -&gt; type(); // è¾“å‡ºç»“æœï¼šé•¿è·‘ åœ¨ä½¿ç”¨ç»§æ‰¿æŠ½è±¡ç±»çš„å­ç±»ä¸­ï¼Œè¿˜å¯ä»¥æ·»åŠ å…¶ä»–ä¸œè¥¿ã€‚ã€‚ä½†æ˜¯åœ¨å®ç°çš„æ—¶å€™ï¼Œå‚æ•°å¿…é¡»å’Œå®šä¹‰æŠ½è±¡æ–¹æ³•çš„å‚æ•°ä¸€æ · æŠ½è±¡å®ç°äº†ï¼Œå½“ç„¶å°±ä¸ç”¨æŠ½è±¡å•¦ æ¥å£å¦‚æœæŠ½è±¡ç±»ä¸­çš„ æ‰€æœ‰ æ–¹æ³•éƒ½æ˜¯ æŠ½è±¡æ–¹æ³•ï¼Œé‚£è¿™ä¸ªç±»å°±å«åšæ¥å£ï¼Œå…³é”®å­—interface åœ¨æ¥å£ä¸­ï¼Œæ‰€æœ‰çš„æ–¹æ³•åªèƒ½æ˜¯å…¬æœ‰çš„ï¼Œä¸èƒ½ä½¿ç”¨ final å…³é”®å­—æ¥ä¿®é¥° 123interface æ¥å£å{ public function æ–¹æ³•å();} è®°å¾—ï¼æ²¡æœ‰å…·ä½“çš„å‡½æ•°ä½“ï¼ å› ä¸ºæ¥å£æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡çš„ï¼Œæ‰€ä»¥çœç•¥æ‰ abstract å…³é”®å­— æ¥å£æ–¹æ³•ä½“æ²¡æœ‰å…·ä½“å®ç°ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æŸä¸ªç±»ä½¿ç”¨ implements å…³é”®å­—æ¥å®ç°æ¥å£ 12345678910111213141516interface ComInterface{ public function connect(); public function transfer(); public function disconnect();}class MobilePhone implements ComInterface{ public function connect(){ echo &quot;è¿æ¥&quot;; } public function transfer(){ echo &quot;ä¼ è¾“&quot;; } public function dsiconnect(){ echo &quot;æ–­å¼€è¿æ¥&quot;; }} MobilePhone ç±»ä¸­å¿…é¡»å®ç° ComInterface æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³• ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œç”¨é€—å·éš”å¼€ï¼Œä½†æ˜¯æ¥å£ä¸­çš„æ–¹æ³•ä¸èƒ½é‡å‘½å æ¥å£ä¸­å¯ä»¥å®šä¹‰å¸¸é‡ï¼Œä¸ç±»å¸¸é‡ç”¨æ³•ç›¸åŒï¼Œä½†æ˜¯ä¸èƒ½è¢«å­ç±»æˆ–å­æ¥å£è¦†ç›– ç±»ä¹Ÿå¯ä»¥åœ¨ç»§æ‰¿çš„æ—¶å€™å®ç°æ¥å£ 123class MobilePhone extends Phone implements ComInterface{ } extends å’Œ implements çš„åŒºåˆ« extendsï¼šç»§æ‰¿ä¸€ä¸ªç±»æ¥åˆ›å»ºå­ç±» implementsï¼šä¸€ä¸ªç±»é€šè¿‡è¿™ä¸ªå…³é”®å­—å£°æ˜è‡ªå·±ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œè¦é€šè¿‡é‡å†™æ‰èƒ½å®ç° ç»§æ‰¿ä¹‹åä½¿ç”¨å¤šä¸ªæ¥å£ï¼š 1class A extends B implements C,D,E æˆ‘æ„Ÿè§‰å°±æ˜¯ï¼Œextends ä½¿ç”¨åœ¨ä¸æ˜¯å…¨æ˜¯æŠ½è±¡ç±»çš„åœ°æ–¹ï¼Œå¯ä»¥å®ç°æ™®é€šç»§æ‰¿ï¼Œä¹Ÿå¯ä»¥å®ç°æ¥å£ç»§æ‰¿ï¼Œä¸è¿‡å°±æ˜¯è¿˜ä¸åœ¨æ¥å£çš„èŒƒç•´ä¹‹å†…ï¼Œè‹¥æœè¿™ä¸ªç±»é‡Œé¢éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œé‚£å°±æ˜¯æ¥å£äº†ï¼Œæ‰€ä»¥å°±è¦ä½¿ç”¨ implements å¤šæ€ä¸ç±»å‹çº¦æŸ å¤šæ€ï¼šå®ç°åŒä¸€æ“ä½œä½œç”¨äºä¸åŒçš„å¯¹è±¡ï¼Œäº§ç”Ÿä¸åŒçš„æ‰§è¡Œæ•ˆæœ ç±»å‹çº¦æŸï¼šåœ¨æˆç¨‹åºå®ç°å¤šæ€æ—¶é™åˆ¶ä¼ å…¥çš„å‚æ•°å¿…é¡»æ˜¯æŸä¸ªç±»æˆ–æ¥å£ è·å–å•†å“ä»·æ ¼ 123function price(Goods &amp;g){ return $g -&gt; getName() . 'çš„ä»·æ ¼æ˜¯' . $g -&gt; getPrice();} $g è¡¨ç¤ºç”¨æˆ·ä¼ å…¥çš„å…·ä½“å•†å“å¯¹è±¡ ä¸ºäº†ä¿è¯æ¯ä¸€ä¸ªä¼ å…¥çš„å¯¹è±¡å¿…é¡»å«æœ‰ getName() æ–¹æ³•å’Œ getPrice() æ–¹æ³•ï¼Œå°†å‚æ•° $g çš„ç±»å‹æŒ‡å®šä¸º Goods æ¥å£ å®šä¹‰æ¥å£ 1234interface Goods{ public function getName(); public function getPrice();} å®ç°æ¥å£ 12345678910111213141516171819// å®šä¹‰ Phone ç±»å®ç° Goodsæ¥å£class Phone implements Goods{ public function getName(){ return 'æ‰‹æœº'; } public function getPrice(){ return '2000'; }}// å®šä¹‰ Computer ç±»å®ç° Goods æ¥å£class Computer implements Goods{ public function getName(){ return 'ç”µè„‘'; } public function getPrice(){ return '6000'; }}// ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚å®ç°Goodsæ¥å£ å‘ price() é‡Œé¢ä¼ å…¥ä¸åŒçš„ å•†å“å¯¹è±¡ ï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”å•†å“çš„ä»·æ ¼ 1234// å®ä¾‹åŒ–å•†å“ç±»$goods = new Phone();// è·å–å¯¹åº”çš„å•†å“ä»·æ ¼ï¼Œè¾“å‡ºç»“æœï¼šæ‰‹æœºçš„ä»·æ ¼æ˜¯2000price( $goods ); æ€»çš„æ¥è¯´å°±æ˜¯ï¼šæœ‰æ¥å£ï¼Œå®ç°æ¥å£ï¼Œå®ä¾‹åŒ–å¯¹è±¡ï¼Œé€šè¿‡å‡½æ•°ä½¿ç”¨","link":"/2020/06/26/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/"},{"title":"PHP é¢å‘å¯¹è±¡-ç±»ä¸å¯¹è±¡çš„ä½¿ç”¨","text":"å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€æœ‰æ‰€ä¸åŒï¼ŒPHPä¸æ˜¯ä¸€ç§çº¯é¢å‘å¯¹è±¡è¯­è¨€ã€‚ä½†éšç€å‘å±•ï¼ŒPHPä¹Ÿå‘ç€è¿™æ–¹é¢å‘å±• é¢å‘å¯¹è±¡çš„ç‰¹å¾ å°è£…æ€§ï¼šå°†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºå°è£…èµ·æ¥ï¼Œä¸éœ€è¦è®©å¤–ç•ŒçŸ¥é“å…·ä½“çš„ç»†èŠ‚ ç»§æ‰¿æ€§ï¼šä¸»è¦æè¿°ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼›ä¸éœ€è¦é‡å†™åŸæœ‰ç±»çš„ä»£ç ï¼Œå¯¹åŸæœ‰ç±»çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€å¢å¼ºå¼€å‘æ•ˆç‡ å¤šæ€æ€§ï¼šæŒ‡åŒä¸€æ“ä½œä½œç”¨äºä¸åŒå¯¹è±¡ï¼Œä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªç±»å¯ä»¥äº§ç”Ÿä¸åŒçš„å¯¹è±¡ ç±»çš„å®šä¹‰å’Œå®ä¾‹åŒ–12345678class Animal{ public $name; public function shout(){ echo &quot;å“ˆå“ˆå“ˆ&quot;; }}// å®ä¾‹åŒ–ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰$person = new Animal(); å¯¹è±¡çš„åŸºæœ¬ä½¿ç”¨æˆå‘˜æ“ä½œåˆ›å»ºå¯¹è±¡ä¹‹åï¼Œä½¿ç”¨ å¯¹è±¡ -&gt; æˆå‘˜ æ¥è®¿é—®å±æ€§å’Œæ–¹æ³• æˆå‘˜å±æ€§ 1234567891011// è®¿é—®å¹¶èµ‹å€¼$person-&gt;name = &quot;å¼ ä¸‰&quot;;// åˆ é™¤å±æ€§å€¼unset($person-&gt;name);// åˆ¤æ–­å±æ€§æ˜¯å¦è®¾ç½®å€¼isset($person-&gt;name);// åˆ¤æ–­å±æ€§æ˜¯å¦è¢«å®šä¹‰property_exists('Animal', 'name'); å±æ€§å€¼ä¸º null æˆ–ä½¿ç”¨ unset( ) åˆ é™¤åçš„ isset() ç»“æœéƒ½æ˜¯ falseã€‚unset() åˆ é™¤çš„åªæ˜¯å±æ€§å€¼ï¼Œå±æ€§è¿˜åœ¨çš„ æˆå‘˜æ–¹æ³• 1$person-&gt;shout(); ç‰¹æ®Šå˜é‡ $this ä»£è¡¨å½“å‰å¯¹è±¡ï¼Œç”¨äºå®Œæˆå¯¹è±¡å†…éƒ¨æˆå‘˜ä¹‹é—´çš„è®¿é—®ã€‚åªèƒ½åœ¨ç±»å®šä¹‰çš„æ–¹æ³•å†…ä½¿ç”¨ï¼Œä¸èƒ½åœ¨ç±»å¤–ä½¿ç”¨ 12345678class Human{ public $name = &quot;å¼ ä¸‰&quot;; public function say($val){ echo $this-&gt;name.$val.&quot;å“ˆå“ˆå“ˆ&quot;; }}$person = new Human();$person-&gt;say(&quot;è¯´&quot;); è¿™é‡Œçš„ $this ä»£è¡¨çš„æ˜¯ $person å¯¹è±¡ å¯å˜ç±»å’Œå¯å˜æˆå‘˜ ä¸å¯å˜å˜é‡å’Œå¯å˜å‡½æ•°ç±»ä¼¼ï¼Œå°±æ˜¯å–ä¸ªåˆ«åçš„æ„æ€ å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡æ¥æ¥æ”¶å€¼ï¼Œè¿™å€¼æ˜¯ç±»åã€å±æ€§åã€æ–¹æ³•åçš„å­—ç¬¦ä¸²å½¢å¼ 12345678910$humanbeing = 'Hunman';// å®ä¾‹åŒ–å¯¹è±¡$person = new $humanbeing();// è®¿é—®å±æ€§$beCall = 'name';echo $person -&gt; $beCall;// è°ƒç”¨æ–¹æ³•$shout = 'say';$person -&gt; $shout(&quot;okok&quot;); åœ¨è®¿é—®çš„æ—¶å€™ -&gt; åé¢è·Ÿçš„æ˜¯$å˜é‡åç§°ï¼Œæ˜¯è¦åŠ ä¸Š $ çš„ é“¾å¼è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨å‰ä¸€ä¸ªè°ƒç”¨çš„åé¢ç»§ç»­è°ƒç”¨å…¶è¿”å›çš„å¯¹è±¡ä¸­çš„æ–¹æ³• 12345678910111213class Goods{ public $name = &quot;ç”µè„‘&quot;; public function start(){ echo &quot;å¼€æœº&quot;; return $this; } public function open(){ echo &quot;æ‰“å¼€åº”ç”¨&quot;; return $this; }}$computer = new Goods();echo $computer -&gt; name -&gt; start() -&gt; open(); å¯¹è±¡çš„ç‰¹æ®Šæ“ä½œç¬¦ åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œä½¿ç”¨ == æˆ– === == ï¼šåŒä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œä¸”å±æ€§å’Œå±æ€§å€¼ç›¸ç­‰ === ï¼šå¿…é¡»æ˜¯åŒä¸€ä¸ªå®ä¾‹ 12345678910class Test{ public $flag;}$a = $b = new Test();$c = new Test();var_dump( $a == $b ); // è¾“å‡ºç»“æœï¼šbool(true)var_dump( $a == $c ); // truevar_dump( $a == $c ); // truevar_dump( $a === $b ); // truevar_dump( $a === $c ); // false ä½¿ç”¨ instanceof å…³é”®å­—åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªå¯¹è±¡çš„å®ä¾‹ 12var_dump( $a instanceof Test ); // truevar_dump( $a instanceof other); // false å¯¹è±¡å…‹éš†12345678class Test{ public $flag = 1;}$a = new Test();$b = $a;$a -&gt; flag = 3;var_dump( $a -&gt; flag ); // int(3)var_dump( $b -&gt; flag ); // int(3) ä¿®æ”¹ $a çš„å€¼ï¼Œ$b ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼Œè¦æƒ³çš„åˆ°å¤šä¸ª å…¨ç­‰(===) å¯¹è±¡å¹¶ä¸”å®ƒä»¬çš„å€¼ä¸ç›¸äº’å½±å“ï¼Œä½¿ç”¨ clone å…³é”®å­— 123$b = clone $a;var_dump( $a -&gt; flag ); // int(3)var_dump( $b -&gt; flag ); // int(1) åœ¨å¯¹è±¡å…‹éš†çš„æ—¶å€™ï¼Œå¦‚æœæƒ³å¯¹æ–°çš„å¯¹è±¡çš„æŸäº›å±æ€§è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ é­”æœ¯æ–¹æ³• __clone åœ¨è°ƒç”¨äº† clone çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ __clone é­”æœ¯æ–¹æ³•ï¼šä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ï¼Œåœ¨æŸäº›æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œ PHPä¸­æ‰€æœ‰çš„é­”æœ¯æ–¹æ³•éƒ½æ˜¯ä»¥ __ ï¼ˆä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰å¼€å¤´ã€‚ åœ¨ Test ç±»ä¸­åŠ å…¥ 123public function __clone(){ $this -&gt; flag = 'xixi';} æ‰€ä»¥ å¦‚æœä¸æ”¹å˜ a å¯¹è±¡çš„å€¼ï¼Œå®ƒå°±æ˜¯åŸæœ¬çš„å€¼ ç»™ a èµ‹äº†æ–°çš„å€¼ï¼Œa çš„å€¼å°±ä¼šæ”¹å˜ b è¦æ˜¯ä¸æƒ³éšç€ a æ”¹å˜ï¼Œå°±è¦ä½¿ç”¨ clone å…³é”®å­— ä½¿ç”¨ clone ä¹‹åçš„ bï¼Œå®ƒçš„å€¼å°±æ˜¯åŸæœ¬çš„å€¼ 1 å¦‚æœè¦æƒ³è‡ªå®šä¹‰ä½¿ç”¨ clone å b çš„å€¼ï¼Œå°±è¦ä½¿ç”¨ __clone æ„é€ æ–¹æ³•å’Œææ„æ–¹æ³•æ„é€ æ–¹æ³• æ¯ä¸€ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚ä¸»è¦ç”¨äºåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™åˆå§‹åŒ–åŠŸèƒ½ å¦‚æœåœ¨ç±»ä¸­æ²¡æœ‰æ˜¾å¼çš„å£°æ˜å®ƒï¼ŒPHPä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰çš„æ„é€ æ–¹æ³• 123function __construct(){ // åˆå§‹åŒ–æ“ä½œ} é»˜è®¤æƒ…å†µä¸‹æ˜¯ public ï¼Œå¯ä»¥çœç•¥ 1234567891011class Person{ public $name; public function __construct($name = &quot;xxx&quot;){ $this -&gt; name = $name; } public function show(){ echo $this -&gt; name.&quot;æ­£åœ¨åƒé¥­&quot;; }}$p1 = new Person(&quot;æå››&quot;); // å¼ ä¸‰æ­£åœ¨åƒé¥­$p2 = new Person(); // xxxåœ¨åƒé¥­ ä½¿ç”¨æ„é€ å‡½æ•°å°±å¯ä»¥å®ç°ä¼ é€’ä¸åŒçš„å‚æ•°æ¥å®ä¾‹ä¸åŒçš„å¯¹è±¡ï¼Œè¿™æ ·å°±ä¸ç”¨å»ºç«‹å¥½å¤šä¸ªç±»äº† ææ„æ–¹æ³• åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ï¼Œå¯ä»¥ç”¨ä½œå…³é—­æ–‡ä»¶ã€é‡Šæ”¾ç»“æœé›†ç­‰ åœ¨ä½¿ç”¨ unset() çš„æ—¶å€™ æˆ– PHPè„šæœ¬æ‰§è¡Œç»“æŸè‡ªåŠ¨é‡Šæ”¾å¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ 1234567class Student{ public function __destruct(){ echo 'æ­£åœ¨æ‰§è¡Œææ„æ–¹æ³•'; }}$xiaoming = new Student();unset( $xioaming ); // è¿™æ—¶å€™å°±ä¼šæ‰§è¡Œï¼Œè¾“å‡ºç»“æœ ä¸ä½¿ç”¨ unset çš„è¯ï¼Œä¾‹å¦‚åœ¨å‡½æ•°ä¸­å®ä¾‹åŒ–å¯¹è±¡ 1234function test(){ $xioaming = new Student();}test(); // å‡½æ•°æ‰§è¡Œç»“æŸï¼Œè‡ªåŠ¨æ‰§è¡Œææ„æ–¹æ³• å¦‚æœä¸å¸Œæœ›å¯¹è±¡åœ¨å‡½æ•°ç»“æŸçš„æ‰‹å°±è¢«é”€æ¯ï¼Œå¯ä»¥ä½¿ç”¨ è¿”å›å€¼ æ¥æ”¶å¯¹è±¡ åŒ¿åç±»â€¦â€¦","link":"/2020/06/25/PHP%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"title":"MySQLå®‰è£…","text":"æ“ä½œç³»ç»Ÿï¼šLinux CentOS MySQLç‰ˆæœ¬ï¼š5.7.3 ä¸‹è½½åœ°å€ï¼šhttps://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz å‰æå‡†å¤‡æ£€æŸ¥é¢„è£…æ£€æŸ¥æ˜¯å¦é¢„å…ˆå®‰è£…äº†Mariadb 1rpm -qa|grep mariadb åˆ é™¤é¢„è£… 1yum -y remove mariadb-libs-5.5.60-1.el7_5.x86_64 ä¸‹è½½ã€è§£å‹åœ¨ Windows ä¸­ä¸‹è½½å¥½å®‰è£…åŒ…æˆ–è€…åœ¨æ­¤ç³»ç»Ÿä¸­ä½¿ç”¨wgetä¸‹è½½ 1wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.32-linux-glibc2.12-x86_64.tar.gz è§£å‹å¹¶ç§»åŠ¨ã€é‡å‘½åæ–‡ä»¶å¤¹ï¼ˆä¸€èˆ¬ä¼šè§£å‹åˆ° /usr/local ç›®å½•ä¸‹ï¼‰ï¼Œåœ¨å‹ç¼©åŒ…æ‰€åœ¨çš„ç›®å½•ä¸­ 12tar -zxvf mysql-5.7.32-linux-glibc2.12-x86_64.tar.gzmv mysql-5.7.32-linux-glibc2.12-x86_64 /usr/local/mysql åˆ›å»ºMySQLç”¨æˆ·ç»„å’Œç”¨æˆ·12groupadd mysqluseradd -g mysql mysql åˆ›å»º data ç›®å½•å¤‡ç”¨ 12cd /usr/local/mysqlmkdir data ä¿®æ”¹mysqlç›®å½•æ‰€å±çš„ç”¨æˆ·1chown -R mysql:mysql ./ å‡†å¤‡MySQLé…ç½®æ–‡ä»¶åœ¨ /etc ä¸‹æ–°å»º my.cnf æ–‡ä»¶ 12cd /etcvim my.cnf åŠ å…¥å†…å®¹ 123456789101112131415161718192021[mysql]# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†default-character-set=utf8socket=/var/lib/mysql/mysql.sock[mysqld]skip-name-resolve#è®¾ç½®3306ç«¯â¼port = 3306socket=/var/lib/mysql/mysql.sock# è®¾ç½®mysqlçš„å®‰è£…â½¬å½•basedir=/usr/local/mysql# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾â½¬å½•datadir=/usr/local/mysql/data# å…è®¸æœ€â¼¤è¿æ¥æ•°max_connections=200# æœåŠ¡ç«¯ä½¿â½¤çš„å­—ç¬¦é›†é»˜è®¤ä¸º8â½ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†character-set-server=utf8# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿â½¤çš„é»˜è®¤å­˜å‚¨å¼•æ“default-storage-engine=INNODBlower_case_table_names=1max_allowed_packet=16M åˆ›å»º /var/lib/mysql ç›®å½•ï¼Œå¹¶ä¸”ä¿®æ”¹æƒé™ 12mkdir /var/lib/mysqlchmod 777 /var/lib/mysql å®‰è£…MySQLå®‰è£…1cd /usr/local/mysql/bin 12./mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data æ³¨æ„ï¼Œè®°ä½ä¸‹é¢çš„çº¢çº¿ï¼Œè¿™æ˜¯åˆå§‹çš„ root çš„å¯†ç  å¤åˆ¶è„šæœ¬åˆ°å¯åŠ¨ç›®å½•12cd /usr/local/mysqlcp ./support-files/mysql.server /etc/init.d/mysqld ä¿®æ”¹ /etc/init.d/mysqld ï¼Œä¿®æ”¹å…¶ basedir å’Œ datadir ä¸ºå®é™…å¯¹åº”â½¬å½• 1vim /etc/init.d/mysqld 12basedir=/usr/local/mysqldatadir=/usr/local/mysql/data é…ç½®MySQLç³»ç»ŸæœåŠ¡å¹¶ä¸”å¼€æœºè‡ªå¯â¾¸å…ˆå¢åŠ  mysqld æœåŠ¡æ§åˆ¶è„šæœ¬æ‰§â¾æƒé™ï¼š 1chmod +x /etc/init.d/mysqld åŒæ—¶å°† mysqld æœåŠ¡åŠ â¼Šåˆ°ç³»ç»ŸæœåŠ¡ï¼š 1chkconfig --add mysqld æœ€åæ£€æŸ¥ mysqld æœåŠ¡æ˜¯å¦å·²ç»â½£æ•ˆå³å¯ï¼š 1chkconfig --list mysqld è¿™æ ·å°±è¡¨æ˜ mysqld æœåŠ¡å·²ç»â½£æ•ˆäº†ï¼Œåœ¨2ã€3ã€4ã€5è¿â¾çº§åˆ«éšç³»ç»Ÿå¯åŠ¨â½½â¾ƒåŠ¨å¯åŠ¨ï¼Œä»¥åå¯ä»¥ç›´æ¥ä½¿ â½¤ service å‘½ä»¤æ§åˆ¶ mysql çš„å¯åœã€‚ å¯åŠ¨MySQLå¯åŠ¨1service mysqld start å°†MySQLæ·»åŠ åˆ°ç¯å¢ƒå˜é‡å°†mysqlçš„ bin æ·»åŠ åˆ° path ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ åˆ°ç¯å¢ƒå˜é‡å°±å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä½¿ç”¨mysqlå‘½ä»¤ ç¼–è¾‘ ~/.bash_profile æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ï¼š 1export PATH=$PATH:/usr/local/mysql/bin æ‰§è¡Œå‘½ä»¤ä½¿å¾—ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ 1source ~/.bash_profile ç™»å½•MySQLç™»å½•1mysql -u root -p ä¿®æ”¹MySQLçš„rootå¯†ç åœ¨ mysql ä¸­æ‰§è¡Œå‘½ä»¤ï¼š 12alter user user() identified by &quot;123456&quot;;flush privileges; é…ç½®è¿œç¨‹ç™»å½•åœ¨ mysql ä¸­æ‰§è¡Œï¼š 123use mysql;update user set user.Host='%' where user.User='root';flush privileges; Navicatæµ‹è¯•è¿æ¥ Windows CMDæµ‹è¯•è¿æ¥ å®‰è£…é…ç½®å®Œæˆ åœ¨æµè§ˆå™¨ä¸­æŸ¥æ‰¾MySQLå…¶ä»–ç‰ˆæœ¬ç¤¾åŒºç‰ˆçš„å…¶ä»–ç‰ˆæœ¬https://www.mysql.com/downloads/ Windows ç‰ˆæœ¬ Linux ç‰ˆæœ¬","link":"/2020/11/26/MySQL%E5%AE%89%E8%A3%85/"},{"title":"Piniaå¿«é€Ÿæ‰‹å†Œ","text":"ğŸŒ Vue çŠ¶æ€ç®¡ç† å¯åŠ¨æ¦‚å¿µStoreï¼šä¸ä¸ç»„ä»¶æ ‘ç»‘å®šï¼Œæ‰¿è½½ç€å…¨å±€çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ã€‚åœ¨Vueä¸­æœ‰vuexï¼Œpiniaï¼›åœ¨Reactä¸­ï¼Œæœ‰reduxã€unstate-next ğŸ¤” å¹¶éæ‰€æœ‰åº”ç”¨éƒ½éœ€è¦å…¨å±€çŠ¶æ€ ğŸï¸ Store çš„ä½¿ç”¨åœºæ™¯ï¼šåœ¨æ•´ä¸ªåº”ç”¨ä¸­å¯è®¿é—®åˆ°çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼š å¯¼èˆªæ çš„ç”¨æˆ·ä¿¡æ¯ å¤æ‚çš„å¤šæ­¥éª¤è¡¨å• é¿å…å°†æœ¬å¯ä»¥ä¿å­˜è‡³ç»„ä»¶ä¸­çš„æ•°æ®ä¿å­˜åˆ° Storeï¼Œä¾‹å¦‚ä¸€ä¸ªå…ƒç´ åœ¨é¡µé¢çš„å¯è§æ€§ å¯¹äºpiniaï¼Œæœ‰stateã€getterã€actionä¸‰ä¸ªæ¦‚å¿µ å¯ç†è§£ä¸ºå¯¹åº”ç»„ä»¶çš„ data -&gt; state computed -&gt; getter methods -&gt; action åœ¨ setup ä¸­çš„å¯¹åº”å…³ç³»æ˜¯ state -&gt; ref() getter -&gt; computed() action -&gt; function() è¿™ä¸‰ä¸ªæ¦‚å¿µå¯ä»¥è®¤ä¸ºæ˜¯ï¼šå€¼ã€é€šè¿‡å€¼å¾—åˆ°çš„ã€ç”¨æ¥æ”¹å˜å€¼çš„ å®‰è£…é€šè¿‡ Vite åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›® 1pnpm create vite å®‰è£…pinia 1pnpm add pinia ä¹ æƒ¯åœ¨ç›¸å¯¹é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºsrc/store/index.tsæ–‡ä»¶ï¼Œä»¥æ­¤ä½œä¸ºå…¥å£æ¥é…ç½®æ•´ä¸ªé¡¹ç›®çš„ _store_ï¼ˆstateï¼Ÿï¼Ÿï¼‰ 12345import { createPinia } from &quot;pinia&quot;;const pinia = createPinia();export default pinia; åœ¨vueçš„å…¥å£æ–‡ä»¶main.tsä¸­å¯¼å…¥å¹¶ä½¿ç”¨ 12345678import { createApp } from &quot;vue&quot;;import App from &quot;./App.vue&quot;;import pinia from &quot;./store&quot;;const app = createApp(App);app.use(pinia);app.mount(&quot;#app&quot;); è®°å¾—è¦åœ¨æŒ‚åœ¨#appä¹‹å‰ä½¿ç”¨ å¦‚æœæ˜¯åœ¨Vue2ä¸­ 12345678import { createPinia, PiniaVuePlugin } from &quot;pinia&quot;;Vue.use(PiniaVuePlugin);new Vue({ el: &quot;#app&quot;, // åŒä¸€ä¸ª`pinia'å®ä¾‹ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªé¡µé¢çš„å¤šä¸ª Vue åº”ç”¨ä¸­ä½¿ç”¨ã€‚ pinia,}); å¿«é€Ÿä½¿ç”¨åœ¨ setup ä¸­ä½¿ç”¨å®šä¹‰ Composition API åœ¨setupä¸­ä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œå†™æ³•å’Œæ™®é€šçš„ JavaScript å¤§å·®ä¸å·® ä½¿ç”¨defineStoreå®šä¹‰ä¸€ä¸ªStore:ï¼ˆå¯åœ¨src/storeä¸‹åˆ›å»ºæ–°çš„æ–‡ä»¶ï¼‰ 12345678export const useUserStore = defineStore(&quot;user&quot;, () =&gt; { const username = ref(&quot;&quot;); const setUsername = (name: string) =&gt; { username.value = name; }; return { username, setUsername };}); ğŸ‡ Store çš„åå­—æ¨èæ˜¯useXXXStore ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Store çš„å”¯ä¸€ ID ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•° ä½¿ç”¨åœ¨ Vue ç»„ä»¶çš„&lt;script setup&gt;ä¸­ 12345678910import { useUserStore } from &quot;xx/store/userStore&quot;;// ç›´æ¥è§£æ„çš„ username ä¸å…·æœ‰å“åº”å¼// ä½œä¸º action çš„ setUsername æ­£å¸¸ä½¿ç”¨const { username, setUsername } = useUserStore();setUsername(&quot;Jerry&quot;);console.log(username); // è¿˜æ˜¯åŸæ¥çš„å€¼console.log(useUserStore().username); // Jerry è¦ä¿æŒå“åº”æ€§ï¼Œå¯ä½¿ç”¨storeToRefs 123456import { storeToRefs } from &quot;pinia&quot;;const store = useUserStore();const { username } = storeToRefs(store);// éœ€è¦å˜ä¸ºå“åº”æ€§çš„æ˜¯ stateï¼ˆå€¼ï¼‰ï¼Œactionç›´æ¥è§£æ„å°±è¡Œconst { setUsername } = store; å¦‚æœæœ‰æŠ¥é”™è¯´ç±»ä¼¼æ˜¯ï¼šsetUsername is not a functionçš„ï¼Œé‡å¯ä¸€ä¸‹é¡¹ç›®å°±å¥½äº†ã€‚ï¼Ÿä¸çŸ¥é“æ˜¯ vite çš„é—®é¢˜è¿˜æ˜¯ pinia çš„é—®é¢˜ ä¸åœ¨ setup ä¸­ä½¿ç”¨ Option API 1234567891011export const useCounterStore = defineStore(&quot;counter&quot;, { state: () =&gt; ({ count: 0 }), getters: { double: (state) =&gt; state.count * 2, }, actions: { increment() { this.count++; }, },}); ä½¿ç”¨æ–¹æ³•å’Œåœ¨setupä¸­ä¸€æ ·ï¼Œå°±åƒæ˜¯Vueä¸­Option APIå’ŒComposition APIçš„åŒºåˆ« ç»†èŠ‚ä½¿ç”¨state123456789101112131415161718192021import { defineStore } from &quot;pinia&quot;;const useStore = defineStore(&quot;storeId&quot;, { // ä¸ºäº†å®Œæ•´ç±»å‹æ¨ç†ï¼Œæ¨èä½¿ç”¨ç®­å¤´å‡½æ•° state: (): State =&gt; { return { count: 0, items: [] as ItemInfo[], }; },});interface ItemInfo { id: number; name: string;}interface State { count: string; items: array;} ä¸€èˆ¬éƒ½ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼Œæ— éœ€æ‰‹åŠ¨å†™ ä¿®æ”¹ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ç›´æ¥è¿›è¡Œè¯»å†™æ¥æ”¹å˜ storeï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨$patchæ–¹æ³• 1234567891011121314151617const store = useStore();store.count++;store.$patch({ count: store.count + 1, items: [{ id: 0, name: &quot;huawei&quot; }],});// ä¹Ÿå¯ä»¥ä»¥å‡½æ•°ä½œä¸ºå‚æ•°çš„å½¢å¼ä½¿ç”¨store.$patch((state) =&gt; { state.items.push({ name: &quot;shoes&quot;, quantity: 1 }); state.hasChanged = true;});// å¯ä»¥é‡ç½®statestore.$reset(); æ›¿æ¢ä¸èƒ½å®Œå…¨æ›¿æ¢æ‰store çš„ stateï¼Œå¯ä»¥ patch å®ƒä»¬ 1234// è¿™å®é™…ä¸Šå¹¶æ²¡æœ‰æ›¿æ¢`$state`store.$state = { count: 24 };// åœ¨å®ƒå†…éƒ¨è°ƒç”¨ `$patch()`ï¼šstore.$patch({ count: 24 }); å¯ä»¥é€šè¿‡å˜æ›´piniaå®ä¾‹çš„stateæ¥è®¾ç½®æ•´ä¸ªåº”ç”¨çš„åˆå§‹ stateã€‚å¸¸ç”¨äºSSR ä¸­çš„æ¿€æ´»è¿‡ç¨‹ï¼ˆä¸ºäº†å®‰å…¨èµ·è§ï¼Œpinia.state.valueè¢«è½¬ä¹‰ä¸ºå…¶ä»–å½¢å¼ï¼‰ 1pinia.state.value = {}; è®¢é˜… State$subscribeç›‘å¬stateçš„å˜åŒ–ï¼Œç›¸æ¯”äºwatchï¼Œå¥½å¤„æ˜¯ subscriptions ï¼ˆè®¢é˜…çš„å†…å®¹ï¼‰åœ¨ patch ååªè§¦å‘ä¸€æ¬¡ 1234567891011cartStore.$subscribe((mutation, state) =&gt; { // import { MutationType } from 'pinia' mutation.type; // 'direct' | 'patch object' | 'patch function' // å’Œ cartStore.$id ä¸€æ · mutation.storeId; // 'cart' // åªæœ‰ mutation.type === 'patch object'çš„æƒ…å†µä¸‹æ‰å¯ç”¨ mutation.payload; // ä¼ é€’ç»™ cartStore.$patch() çš„è¡¥ä¸å¯¹è±¡ã€‚ // æ¯å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†æ•´ä¸ª state æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨ã€‚ localStorage.setItem(&quot;cart&quot;, JSON.stringify(state));}); state subscription ä¼šè¢«ç»‘å®šåˆ°æ·»åŠ å®ƒä»¬çš„ç»„ä»¶ä¸Šï¼Œç»„ä»¶è¢«å¸è½½çš„æ—¶å€™ï¼Œè¿™äº›è®¢é˜…ä¼šè¢«åˆ é™¤ã€‚æ·»åŠ {detachd: true}ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°å°†è®¢é˜…ä»å½“å‰ç»„ä»¶ä¸­åˆ†ç¦» 12345&lt;script setup&gt;const someStore = useSomeStore();// æ­¤è®¢é˜…å™¨å³ä¾¿åœ¨ç»„ä»¶å¸è½½ä¹‹åä»ä¼šè¢«ä¿ç•™someStore.$subscribe(callback, { detached: true });&lt;/script&gt; ä¹Ÿå¯ä»¥åœ¨piniaå®ä¾‹ä¸Šç›‘å¬æ•´ä¸ª state 12345678watch( pinia.state, (state) =&gt; { // æ¯å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†æ•´ä¸ª state æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨ã€‚ localStorage.setItem(&quot;piniaState&quot;, JSON.stringify(state)); }, { deep: true }); åœ¨ OptionAPI çš„ç”¨æ³•12345678910// ç¤ºä¾‹æ–‡ä»¶è·¯å¾„ï¼š// ./src/stores/counter.jsimport { defineStore } from &quot;pinia&quot;;const useCounterStore = defineStore(&quot;counter&quot;, { state: () =&gt; ({ count: 0, }),}); ä½¿ç”¨mapState()è¾…åŠ©å‡½æ•°å°† state å±æ€§æ˜ å°„ä¸ºåªè¯»çš„è®¡ç®—å±æ€§ 1234567891011121314151617181920import { mapState } from 'pinia'import { useCounterStore } from '../stores/counter'export default { computed: { // å¯ä»¥è®¿é—®ç»„ä»¶ä¸­çš„ this.count // ä¸ä» store.count ä¸­è¯»å–çš„æ•°æ®ç›¸åŒ ...mapState(useCounterStore, ['count']) // ä¸ä¸Šè¿°ç›¸åŒï¼Œä½†å°†å…¶æ³¨å†Œä¸º this.myOwnName ...mapState(useCounterStore, { myOwnName: 'count', // ä½ ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æ¥è·å¾—å¯¹ store çš„è®¿é—®æƒ double: store =&gt; store.count * 2, // å®ƒå¯ä»¥è®¿é—® `this`ï¼Œä½†å®ƒæ²¡æœ‰æ ‡æ³¨ç±»å‹... magicValue(store) { return store.someGetter + this.count + this.double }, }), },} ä½¿ç”¨mapWritableState()è¾…åŠ©å‡½æ•°å°† state æ˜ å°„ä¸ºå¯ä¿®æ”¹ 123456789101112131415import { mapWritableState } from 'pinia'import { useCounterStore } from '../stores/counter'export default { computed: { // å¯ä»¥è®¿é—®ç»„ä»¶ä¸­çš„ this.countï¼Œå¹¶å…è®¸è®¾ç½®å®ƒã€‚ // this.count++ // ä¸ä» store.count ä¸­è¯»å–çš„æ•°æ®ç›¸åŒ ...mapWritableState(useCounterStore, ['count']) // ä¸ä¸Šè¿°ç›¸åŒï¼Œä½†å°†å…¶æ³¨å†Œä¸º this.myOwnName ...mapWritableState(useCounterStore, { myOwnName: 'count', }), },} ä½†æ˜¯å°±ä¸èƒ½ä¼ é€’å‡½æ•°äº† Getter å®Œå…¨ç­‰åŒäº state çš„è®¡ç®—å±æ€§ã€‚æ¨èä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•° åœ¨setupä¸­ï¼Œå°±æ˜¯é€šè¿‡ state è¿”å›è¡ç”Ÿå€¼çš„é‚£ä¸ªæ–¹æ³•ï¼ˆä¸ä¼ å‚ï¼‰ ä¸å¯å¼‚æ­¥ 12345678export const useStore = defineStore(&quot;main&quot;, { state: () =&gt; ({ count: 0, }), getters: { doubleCount: (state) =&gt; state.count * 2, },}); è®¿é—®å…¶ä»– Getteré™¤äº†ä¾èµ– stateï¼Œä¹Ÿå¯ä»¥è®¿é—®åˆ°å…¶ä»–çš„ getter åœ¨ä½¿ç”¨TypeScriptçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯é€šè¿‡thisè®¿é—®å…¶ä»– getterï¼Œéœ€è¦æ˜ç¡®å½“å‰ getter çš„è¿”å›ç±»å‹ï¼ˆts çš„é—®é¢˜ï¼‰ 12345678910111213141516export const useStore = defineStore(&quot;main&quot;, { state: () =&gt; ({ count: 0, }), getters: { // è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›ç±»å‹æ˜¯ä¸€ä¸ª number doubleCount(state) { return state.count * 2; }, // è¿”å›ç±»å‹**å¿…é¡»**æ˜ç¡®è®¾ç½® doublePlusOne(): number { // æ•´ä¸ª store çš„ è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ ‡æ³¨ âœ¨ return this.doubleCount + 1; }, },}); è®¿é—®å¦å¤–ä¸€ä¸ª storeï¼ˆå¦å¤–çš„defineStoreï¼‰ çš„ Getterï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œ ä¼ å‚è®¡ç®—å±æ€§ä¸ä¼ å‚çš„ï¼Œä¸è¿‡å¯ä»¥è®© getter è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ä»»æ„å‚æ•° 1234567export const useStore = defineStore(&quot;main&quot;, { getters: { getUserById: (state) =&gt; { return (userId) =&gt; state.users.find((user) =&gt; user.id === userId); }, },}); è¿™æ ·çš„ getter ä¸ä¼šè¢«ç¼“å­˜ï¼ˆè®¡ç®—å±æ€§ç¼“å­˜ï¼‰ï¼Œä½†æ€§èƒ½ä¼šå¥½ç‚¹ åœ¨setupä¸­ä½¿ç”¨ä½œä¸º store çš„ä¸€ä¸ªå±æ€§ï¼Œå¯ç›´æ¥è®¿é—® 12345&lt;script setup&gt;const store = useCounterStore();store.count = 3;store.doubleCount; // 6&lt;/script&gt; åœ¨ OptionAPI ä¸­çš„ç”¨æ³•è¿™é‡Œé¢ä¹Ÿåˆ†ä¸ºä¸¤ç§é£æ ¼ï¼š ç»„åˆå¼ APIï¼Œä¸æ˜¯åœ¨&lt;script setup&gt;é‡Œé¢ï¼Œæ˜¯åœ¨defineComponenté‡Œé¢ 12345678910111213141516&lt;script&gt;import { useCounterStore } from '../stores/counter'export default defineComponent({ setup() { const counterStore = useCounterStore() return { counterStore } }, computed: { quadrupleCounter() { return this.counterStore.doubleCount * 2 }, },})&lt;/script&gt; OptionAPI çš„å½¢å¼ï¼ˆå’Œ state ä¸€æ ·ï¼Œä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼‰ 12345678910111213141516import { mapState } from &quot;pinia&quot;;import { useCounterStore } from &quot;../stores/counter&quot;;export default { computed: { // å…è®¸åœ¨ç»„ä»¶ä¸­è®¿é—® this.doubleCount // ä¸ä» store.doubleCount ä¸­è¯»å–çš„ç›¸åŒ ...mapState(useCounterStore, [&quot;doubleCount&quot;]), // ä¸ä¸Šè¿°ç›¸åŒï¼Œä½†å°†å…¶æ³¨å†Œä¸º this.myOwnName ...mapState(useCounterStore, { myOwnName: &quot;doubleCount&quot;, // ä½ ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªå‡½æ•°æ¥è·å¾—å¯¹ store çš„è®¿é—®æƒ double: (store) =&gt; store.doubleCount, }), },}; Action ç›¸å½“äºç»„ä»¶çš„method åœ¨setupä¸­ï¼Œå°±æ˜¯æ”¹å˜ state çš„é‚£ä¸ªæ–¹æ³• å¯ä»¥æ˜¯å¼‚æ­¥çš„ 1234567891011121314151617181920212223import { mande } from &quot;mande&quot;;const api = mande(&quot;/api/users&quot;);export const useUsers = defineStore(&quot;users&quot;, { state: () =&gt; ({ userData: null, // ... }), actions: { async registerUser(login, password) { try { this.userData = await api.post({ login, password }); showTooltip(`Welcome back ${this.userData.name}!`); } catch (error) { showTooltip(error); // è®©è¡¨å•ç»„ä»¶æ˜¾ç¤ºé”™è¯¯ return error; } }, },}); ä½¿ç”¨çš„æ—¶å€™æ­£å¸¸è°ƒç”¨å°±è¡Œ è®¢é˜… actioné€šè¿‡store.$onAction()æ¥ç›‘å¬ action å’Œå®ƒçš„ç»“æœï¼›ä¼ é€’ç»™å®ƒçš„å›è°ƒå‡½æ•°ä¼šåœ¨ action æœ¬èº«ä¹‹å‰æ‰§è¡Œ 12345678910111213141516171819202122232425262728293031323334const unsubscribe = someStore.$onAction( ({ name, // ä½¿ç”¨åˆ°çš„ action åç§° store, // store å®ä¾‹ï¼Œç±»ä¼¼ `someStore` args, // ä¼ é€’ç»™ action çš„å‚æ•°æ•°ç»„ after, // åœ¨ action è¿”å›æˆ–è§£å†³åçš„é’©å­ onError, // action æŠ›å‡ºæˆ–æ‹’ç»çš„é’©å­ }) =&gt; { // ä¸ºè¿™ä¸ªç‰¹å®šçš„ action è°ƒç”¨æä¾›ä¸€ä¸ªå…±äº«å˜é‡ const startTime = Date.now(); // è¿™å°†åœ¨æ‰§è¡Œ &quot;store &quot;çš„ action ä¹‹å‰è§¦å‘ã€‚ console.log(`Start &quot;${name}&quot; with params [${args.join(&quot;, &quot;)}].`); // è¿™å°†åœ¨ action æˆåŠŸå¹¶å®Œå…¨è¿è¡Œåè§¦å‘ã€‚ // å®ƒç­‰å¾…ç€ä»»ä½•è¿”å›çš„ promiseï¼ˆactionçš„è¿”å›å€¼ï¼‰ after((result) =&gt; { console.log( `Finished &quot;${name}&quot; after ${ Date.now() - startTime }ms.\\nResult: ${result}.` ); }); // å¦‚æœ action æŠ›å‡ºæˆ–è¿”å›ä¸€ä¸ªæ‹’ç»çš„ promiseï¼Œè¿™å°†è§¦å‘ onError((error) =&gt; { console.warn( `Failed &quot;${name}&quot; after ${Date.now() - startTime}ms.\\nError: ${error}.` ); }); });// æ‰‹åŠ¨åˆ é™¤ç›‘å¬å™¨unsubscribe(); è®¢é˜…é»˜è®¤ç»‘å®šåœ¨æ·»åŠ å®ƒä»¬çš„ç»„ä»¶å†…ï¼Œç»„ä»¶å¸è½½æ—¶ï¼Œè®¢é˜…ä¹Ÿä¼šè‡ªåŠ¨å–æ¶ˆ å¦‚æœä¸æƒ³è®©è®¢é˜…è·Ÿç€ç»„ä»¶å–æ¶ˆï¼Œå°†trueä¼ é€’ç»™ç¬¬äºŒä¸ªå‚æ•° 12345&lt;script setup&gt;const someStore = useSomeStore();// æ­¤è®¢é˜…å™¨å³ä¾¿åœ¨ç»„ä»¶å¸è½½ä¹‹åä»ä¼šè¢«ä¿ç•™someStore.$onAction(callback, true);&lt;/script&gt; åœ¨ OptionAPI ä¸­çš„ç”¨æ³• ä½¿ç”¨ setup() 123456789101112131415&lt;script&gt;import { useCounterStore } from '../stores/counter'export default defineComponent({ setup() { const counterStore = useCounterStore() return { counterStore } }, methods: { incrementAndPrint() { this.counterStore.increment() console.log('New Count:', this.counterStore.count) }, },})&lt;/script&gt; ä¸ä½¿ç”¨ setup()ï¼Œä¹Ÿæ˜¯ä½¿ç”¨è¾…åŠ©å‡½æ•° 123456789101112import { mapActions } from 'pinia'import { useCounterStore } from '../stores/counter'export default { methods: { // è®¿é—®ç»„ä»¶å†…çš„ this.increment() // ä¸ä» store.increment() è°ƒç”¨ç›¸åŒ ...mapActions(useCounterStore, ['increment']) // ä¸ä¸Šè¿°ç›¸åŒï¼Œä½†å°†å…¶æ³¨å†Œä¸ºthis.myOwnName() ...mapActions(useCounterStore, { myOwnName: 'increment' }), },} æ’ä»¶æ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡pinia.use()æ·»åŠ åˆ° pinia å®ä¾‹ä¸­ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°è¿”å›è¦æ·»åŠ åˆ° store çš„å±æ€§ 123456789101112import { createPinia } from &quot;pinia&quot;;const pinia = createPinia();pinia.use(() =&gt; { // åˆ›å»ºçš„æ¯ä¸ª store ä¸­éƒ½ä¼šæ·»åŠ ä¸€ä¸ªåä¸º `secret` çš„å±æ€§ã€‚ return { secret: &quot;the cake is a lie&quot; };});// åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­const store = useStore();store.secret; // 'the cake is a lie' æ‰€ä»¥åœ¨åˆ›å»ºå…¨å±€ï¼ˆå…±äº«ï¼‰çš„ store å˜é‡æ—¶å¾ˆæœ‰ç”¨ æ¯ä¸ª store éƒ½è¢«reactiveåŒ…è£…è¿‡ï¼Œæ‰€ä»¥å¯¹äºrefçš„å€¼ä¹Ÿæ— éœ€ä½¿ç”¨.value æ’ä»¶å‡½æ•°æœ‰ä¸€ä¸ªå¯é€‰çš„contextå‚æ•° 1234567export function myPiniaPlugin(context) { context.pinia; // ç”¨ `createPinia()` åˆ›å»ºçš„ piniaã€‚ context.app; // ç”¨ `createApp()` åˆ›å»ºçš„å½“å‰åº”ç”¨(ä»… Vue 3)ã€‚ context.store; // è¯¥æ’ä»¶æƒ³æ‰©å±•çš„ store context.options; // å®šä¹‰ä¼ ç»™ `defineStore()` çš„ store çš„å¯é€‰å¯¹è±¡ã€‚ // ...} å› ä¸ºæ’ä»¶æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥åœ¨pinia.useçš„æ—¶å€™ä¹Ÿå¯ä»¥ä¼ é€’å‚æ•°è¿›å» ğŸ¤” ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªcontextï¼Œè¦æƒ³æ¥æ”¶åˆ°ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œéœ€è¦ä½¿ç”¨å‡½æ•°æŸ¯é‡ŒåŒ– åœ¨å¤–é¢å†åŒ…ä¸€å±‚å‡½æ•°ç”¨æ¥æ¥æ”¶ä¼ é€’è¿‡æ¥çš„å‚æ•° ç„¶åè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™pinia.use 12345export function myPlugin(options) { return (context) =&gt; { // æ’ä»¶æ“ä½œ };} ä½¿ç”¨æ’ä»¶ 123import { myPlugin } from &quot;xx.js&quot;;pinia.use(myPlugin({ msg: &quot;hello pinia&quot; })); åœ¨ TypeScript ä¸­ä½¿ç”¨æ—¶å¯ä»¥æŒ‡å®šoptionsçš„ç±»å‹ï¼Œç„¶åå†ä½¿ç”¨çš„æ—¶å€™ä¼šæœ‰ç±»å‹æ£€æµ‹ 123456789interface Options { msg: string;}export function myPlugin(options: Options) { return (context) =&gt; { // æ’ä»¶æ“ä½œ };} åœ¨ä½¿ç”¨çš„æ—¶å€™ä¼ é€’ä¸ç¬¦åˆOptionsæ—¶ä¼šæŠ¥é”™","link":"/2023/09/24/Pinia%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C/"},{"title":"TypeScriptå¿«é€Ÿæ‰‹å†Œ","text":"ä¸€äº›åŸºæœ¬ä½¿ç”¨ç¬”è®°ä¸€äº›æ³¨æ„ç‚¹ï¼Œä¸å…¨ ä½¿ç”¨ åœ¨tsæ–‡ä»¶ä¸­å¦‚æœæ²¡æœ‰typescriptè¯­æ³•ä»£ç ï¼Œæ˜¯å¯ä»¥ç›´æ¥åœ¨htmlæ–‡ä»¶ä¸­å¼•ç”¨å¹¶ä¸”è¿è¡Œçš„ ts ä¸­ä½¿ç”¨çš„å…³é”®å­—letåœ¨ç¼–è¯‘æˆ js çš„æ—¶å€™ä¼šå˜æˆvar å˜é‡å¦‚æœå£°æ˜å˜é‡çš„æ—¶å€™ç›´æ¥èµ‹å€¼ï¼ŒTS å¯ä»¥è‡ªåŠ¨æ£€æµ‹å˜é‡çš„ç±»å‹ï¼ˆå³ä½¿ä¸æŒ‡å®šï¼‰ 123let xm = 'å°æ˜';// æ­¤æ—¶ xm çš„ç±»å‹æ˜¯ stringï¼Œèµ‹äºˆå…¶ä»–ç±»å‹çš„å€¼ä¼šæŠ¥é”™xm = 18; âŒ å¯ä»¥åœ¨å£°æ˜çš„æ—¶å€™ä½¿ç”¨å­—é¢é‡æŒ‡å®šç±»å‹ï¼Œåé¢å°±ä¸èƒ½æ”¹äº†ï¼ˆç±»ä¼¼äºå¸¸é‡ï¼‰ 123let xm: 'xm';xm = 'zs'; âŒxm = 'xm'; âœ”ï¸ å¯ä»¥ä½¿ç”¨ |æ¥å£°æ˜å¤šä¸ªç±»å‹ï¼ˆè”åˆç±»å‹ï¼‰ 1234567let xm: 'male' | 'female'xm = 'male'xm = 'female'let zs: boolean | stringzs = truezs = 'zs' åœ¨å£°æ˜å˜é‡æ—¶ä¸æŒ‡å®šç±»å‹ï¼Œåˆ™é»˜è®¤æ˜¯anyç±»å‹ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šanyç±»å‹ï¼Œä½†æ˜¯ä¸å¥½ã€‚å¿…è¦æ—¶ï¼Œä½¿ç”¨unknownç±»å‹æ¥ä»£æ›¿anyç±»å‹ unknownåœ¨å®šä¹‰çš„æ—¶å€™å’Œanyä¸€æ ·ï¼Œå¯ä»¥éšä¾¿å€¼ï¼Œä½†æ˜¯ä¸èƒ½å°†è‡ªå·±çš„å€¼ç›´æ¥èµ‹ç»™åˆ«çš„å˜é‡ï¼ˆé™¤éå¯¹æ–¹æ˜¯ anyï¼‰ã€‚ 12345678let xm: unknown;xm = 18; xm = true; xm = 'xm';let zs: string;zs = xm; âŒ// å¯¹äºunknownç±»å‹ï¼Œè¦æƒ³èµ‹å€¼ï¼Œå…ˆè¿›è¡Œåˆ¤æ–­if (typeof xm === 'string') { zs = xm;} ç±»å‹æ–­è¨€ï¼Œç”¨æ¥å‘Šè¯‰è§£æå™¨å˜é‡çš„å®é™…ç±»å‹ã€‚æœ‰ä¸¤ç§å†™æ³•ï¼š å˜é‡ as ç±»å‹ &lt;ç±»å‹&gt;å˜é‡ 123zs = xm as stringzs = &lt;string&gt;xm// å¦‚æœä¸¤ä¸ªå˜é‡çš„ç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™æŠ¥é”™ åœ¨jsxä¸­åªèƒ½ä½¿ç”¨aså…³é”®å­— neverç±»å‹ï¼Œè¡¨ç¤ºæ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼ï¼ˆå¦‚æŠ›å‡ºå¼‚å¸¸ï¼‰ 123function err(): never { throw new Error('é”™é”™é”™...')} å˜é‡ä¹Ÿå¯ä»¥æ˜¯neverï¼Œå³ä½¿æ˜¯anyä¹Ÿä¸èƒ½èµ‹å€¼ç»™never å’Œvoidçš„åŒºåˆ«æ˜¯ï¼Œvoidæ˜¯æ²¡æœ‰è¿”å›å€¼ï¼Œä¸è¿‡å¯ä»¥åšå…¶ä»–äº‹æƒ…ï¼Œneveré‡Œé¢æ˜¯æ— æ³•åˆ°è¾¾çš„äº‹æƒ…ï¼Œå¦‚æ­»å¾ªç¯ åœ¨å£°æ˜å¯¹è±¡çš„æ—¶å€™å¯ä»¥æŒ‡å®šé‡Œé¢çš„å±æ€§ï¼Œå±æ€§åé¢åŠ ?è¡¨ç¤ºå½“å‰å±æ€§å¯é€‰ 12let xm: {name: string, age?: number};xm = {name: 'xm'}; âœ”ï¸ ä¹Ÿå¯ä»¥æŒ‡å®šä»»æ„ç±»å‹çš„å±æ€§ 12let xm: { name: string; [prop: string]: any }xm = { name: 'xm', age: 18, gender: 'male' } æ•°ç»„ç±»å‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š å˜é‡: ç±»å‹[] å˜é‡: Array&lt;ç±»å‹&gt; 1234let array_1: string[]array = ['zs', 'ls', 'xm']let array_2: Array&lt;number&gt;array_2 = [1, 2, 3] å…ƒç»„(tuple)ï¼Œå›ºå®šé•¿åº¦çš„æ•°ç»„ï¼š å˜é‡: [ç±»å‹, ç±»å‹, ç±»å‹] 12let array: [string, number, boolean]array = ['xm', 18, true] æšä¸¾(enum)ï¼š 123456enum Gender { Male = 0, Female = 1}let xm: { name: string; Gender: Gender }xm = { name: 'xm', grnder: Gender.Male } åˆå¹¶ 12let xm: { name: string } &amp; { age: number }xm = { name: 'xm', age: 18 } ç±»å‹åˆ«åï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±æƒ³è¦çš„ç±»å‹ï¼Œç„¶åç»™å®ƒå–ä¸ªåå­—ä¾¿äºè°ƒç”¨ 1234type myType = 1 | 2 | 3 | 4 | 5;let age: myType;age = 1; âœ”ï¸age = 6; âŒ ç±»å…¶ä¸­ä¸»è¦æœ‰ï¼šå±æ€§ å’Œæ–¹æ³• åŸºæœ¬ç›´æ¥å®šä¹‰çš„å±æ€§æ˜¯å®ä¾‹å±æ€§ï¼Œéœ€è¦å®ä¾‹åŒ–åè®¿é—®ã€‚staticä¸ºé™æ€å±æ€§ï¼Œé€šè¿‡ç±»ç›´æ¥è®¿é—®ã€‚readonlyè¡¨ç¤ºåªè¯»å±æ€§ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯åœ¨staticåé¢ä½¿ç”¨ 123456789class Person { name: string = 'xm' static age: number = 18 readonly gender: string = 'male' static readonly status: string = 'good'}let xm = new Person()xm.namePerson.age æ„é€ å‡½æ•°ä¹‹æ‰€ä»¥ç§°ä¸ºæ„é€ å‡½æ•°ï¼Œæ˜¯å› ä¸ºå®åœ¨å¯¹è±¡åˆ›å»ºæ—¶ï¼ˆå®ä¾‹åŒ–ï¼‰è°ƒç”¨çš„ 123456789101112class Dog { name: string age: bumber constructor(name: string, age: number) { // å…¶ä¸­thisæŒ‡å‘å½“å‰å®ä¾‹ ;(this.name = name), (this.age = age) } bark() { console.log('wang~wang~~') }}const dog_1 = new Dog('tom', 2) ç»§æ‰¿123456class LittleDog extends Dog { // é‡å†™ bark() { console.log('hahaha') }} ç»§æ‰¿ä¼šè·å¾—çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³• åœ¨å­ç±»ä¸­æœ‰å’Œçˆ¶ç±»ç›¸åŒåå­—çš„æ–¹æ³•ï¼Œå°±å«åšé‡å†™ superåœ¨ç»§æ‰¿çš„æ—¶å€™ï¼Œå­ç±»æƒ³ç»§æ‰¿çˆ¶ç±»çš„å±æ€§ï¼Œåˆæƒ³æ·»åŠ å¦å¤–çš„å±æ€§ï¼Œå°±å¾—ç”¨super()æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥æƒ³è¦ç»§æ‰¿çš„å±æ€§ 1234567class LittleDog extends Dog { kind: string constructor(name: string, kind: string) { super(name) this.kind = kind }} æŠ½è±¡ç±»abstractå¼€å¤´ï¼ŒæŠ½è±¡ç±»ä¸èƒ½ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œä¸“é—¨ç”¨æ¥è¢«ç»§æ‰¿çš„ æŠ½è±¡ç±»ä¸­æœ‰æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­ 1234567891011121314151617181920abstract class Animal { name: string; constructor(name: string) { this.name = name } abstract hello():void {}}class Dog extends Animal { hello() { console.log('wangwang'); }}class Cat extends Animal { hello() { console.log('miaomiao'); }}const fish = new Animal(); âŒconst dog = new Dog(); âœ”ï¸dog.hello(); æ¥å£æ¥å£ç”¨æ¥å®šä¹‰ä¸€ä¸ªç±»çš„ç»“æ„ï¼Œè§„å®šé‡Œé¢è¦åŒ…å«çš„å†…å®¹ã€‚æ¥å£å¯ä»¥é‡å¤å£°æ˜ï¼Œä¸èƒ½æœ‰å®é™…çš„å€¼ 12345678interface theInter { name: string age: number}interface theInter { gender: string hello(): void} 123456789101112131415161718192021const obj: theInter = { name: 'xm', age: 18, gender: 'male', hello() { console.log('hello') }}class Male implements theInter { name: string age: number gender: string constructor(name: string, age: number, gender: string) { ;(this.name = name), (this.age = age) this.gender = gender } hello() { console.log('hello') }} åœ¨å¯¹è±¡ä¸­ç”¨æ¥å£æ—¶ï¼Œæ¥å£å¯ä»¥å½“æˆä¸€ä¸ªç±»å‹ï¼Œè¿™æ˜¯interfaceå…³é”®å­—å¯ä»¥å’Œtypeå…³é”®å­—äº’æ¢ å±æ€§å°è£…12345678910111213141516class Person { public _name: string private _age: number // åªèƒ½åœ¨ç±»å†…éƒ¨è®¿é—® protected _gender: string // åœ¨ç±»å†…éƒ¨å’Œå…¶å­ç±»å†…éƒ¨è®¿é—® constructor(name: string, age: number) { this._name = name this._age = age } // getterã€setterå­˜å–å™¨ getName() { return this._name } setName(value: string) { this._name = value }} åœ¨ TS ä¸­ï¼Œå­˜å–å™¨æœ‰å¦å¤–çš„å†™æ³• 123456get name() { return this._name;}set name(value: string) { this._name = value} è¿™æ ·å†™ï¼Œåœ¨å®ä¾‹åŒ–ä¹‹åï¼Œå’Œè°ƒç”¨å±æ€§æ—¶ä¸€æ ·çš„å†™æ³• 1234const xm = new Person('xm', 18, 'male')xm._name // å¯ä»¥è·å¾—nameå±æ€§ï¼Œé€šè¿‡å®ä¾‹å±æ€§xm.name // å¯ä»¥åçš„nameå±æ€§ï¼Œé€šè¿‡å­˜å–å™¨xm.name = 'zs' // è®¾ç½®å±æ€§å€¼ï¼Œé€šè¿‡å­˜å–å™¨ æ³›å‹åœ¨å£°æ˜å‡½æ•°æˆ–è€…æ—¶ç±»çš„æ—¶å€™ï¼Œå¦‚æœä¸çŸ¥é“ç”¨ä»€ä¹ˆç±»å‹ï¼Œå°±å¯ä»¥ä½¿ç”¨æ³›å‹ã€‚ç­‰è°ƒç”¨çš„æ—¶å€™å†æ ¹æ®å‚æ•°æŒ‡å®š 12345function fn&lt;T&gt;(a: T): T { return a}let result_1 = fn(10) // ä¸æŒ‡å®šæ³›å‹ï¼ŒTSè‡ªåŠ¨æ£€æµ‹ï¼Œæ­¤æ—¶ä¸ºnumberlet result_2 = fn&lt;string&gt;('hello') // æŒ‡å®šç±»å‹ï¼Œstring å¯ä»¥æœ‰å¤šä¸ªæ³›å‹ 123function fn&lt;T, U&gt;(a: T, b: U): T { return a} æ³›å‹è¿˜å¯ä»¥ç»§æ‰¿äºæ¥å£ 123456interface Inter { length: number}function fn&lt;T extends Inter&gt;(a: T): number { return a.length} 1234567class MyClass&lt;T&gt; { name: T constructor(name: T) { this.name = name }}const myclass = new MyClass&lt;string&gt;('xm')","link":"/2021/10/07/TypeScript%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C/"},{"title":"Rollupå¿«é€Ÿæ‰‹å†Œ","text":"ã€ğŸš§ æ–½å·¥ä¸­ã€‘ [ ] ç›¸å…³æ’ä»¶æ¡ˆä¾‹ ä»‹ç»å¸¸è§è¯æ±‡æ†ç»‘åŒ…ï¼ˆbundleï¼‰ æ˜¯æŒ‡å°†å¤šä¸ªæºä»£ç æ–‡ä»¶æˆ–æ¨¡å—ç»„åˆæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶æˆ–ä¸€ç»„æ–‡ä»¶çš„è¿‡ç¨‹ å‡å°æ–‡ä»¶æ•°é‡ï¼Œæ›´æœ‰æ•ˆåœ¨æµè§ˆå™¨æˆ–è€…å…¶ä»–ç¯å¢ƒä¸­åŠ è½½å’Œæ‰§è¡Œ å‡å°‘ç½‘ç»œè¯·æ±‚ ç”¨äºéƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œä¸€èˆ¬ä¼šç»è¿‡å‹ç¼©å’Œæ··æ·† rollup æ¦‚å¿µ å‘æœªæ¥å…¼å®¹ é™¤å±‘ä¼˜åŒ–ï¼ˆTree-shakingï¼‰ å‘æœªæ¥å…¼å®¹ è™½ç„¶ES6æ–°ç‰¹æ€§åœ¨ç°ä»£æµè§ˆå™¨ä¸­å·²ç»ç¨³å®šï¼Œä½†åœ¨ Nodejs ä¸­è¿˜æœªå®Œå…¨è½åœ° Rollup çš„ä½œç”¨å°±æ˜¯å¯ä»¥ä½¿ç”¨æ–°çš„ç‰¹æ€§ï¼Œç„¶åæ‰“åŒ…æˆCommonJSæˆ–AMDç­‰æ ¼å¼ï¼Œå³ä½¿ä»¥åè¿™äº›ç‰¹æ€§åœ¨ Nodejs ä¸­å®Œæ•´æ”¯æŒï¼Œç°åœ¨çš„ä»£ç ä¹Ÿä¸éœ€è¦æ”¹åŠ¨ï¼ˆå‘æœªæ¥å…¼å®¹ï¼‰ é™¤å±‘ä¼˜åŒ– é™æ€åˆ†æå¯¼å…¥çš„ä»£ç ï¼Œç„¶åå»é™¤æ²¡æœ‰ä½¿ç”¨çš„ä»£ç ï¼Œå‡å°‘æ‰“åŒ…åçš„ä½“ç§¯ ğŸ“„ åŸå§‹æ–‡ä»¶ 1const utils = require('./utils');`ï¼Œ ä½†ä½¿ç”¨çš„æ—¶å€™åªç”¨åˆ°utilsä¸­çš„ajaxæ–¹æ³•ï¼Œæ‰“åŒ…å‡ºæ¥ä¼šæ˜¯ï¼š ğŸ“„ æ‰“åŒ…ç»“æœ 1import { ajax } from &quot;./utils&quot;; å®‰è£…å…¨å±€å®‰è£… 1npm install rollup --global æœ¬åœ°å®‰è£… 1npm install rollup --save-dev package.jsonä¸­çš„scriptsèŠ‚ç‚¹ 12345{ &quot;scripts&quot;: { &quot;build&quot;: &quot;rollup --config&quot; }} åŸºæœ¬ä½¿ç”¨å‘½ä»¤è¡Œ12345// src/main.jsimport foo from &quot;./foo.js&quot;;export default function () { console.log(foo);} 12// src/foo.jsexport default &quot;hello world!&quot;; 1rollup src/main.js -f cjs -få…¨ç§°--formatï¼ŒæŒ‡å®šä¸ºCommonJS æ²¡æœ‰æŒ‡å®šè¾“å‡ºæ–‡ä»¶ï¼Œé»˜è®¤ä»¥stdoutè¾“å‡º å¾—åˆ°è¾“å‡ºå†…å®¹ 123456789&quot;use strict&quot;;const foo = &quot;hello world!&quot;;const main = function () { console.log(foo);};module.exports = main; ä½¿ç”¨-oæŒ‡å®šè¾“å‡ºæ–‡ä»¶ 1rollup src/main.js -o bundle.js -f cjs é…ç½®æ–‡ä»¶1234567891011// rollup.config.mjsimport xxplugin from &quot;xxplugin&quot;;export default { input: &quot;src/main.js&quot;, output: { file: &quot;bundle.js&quot;, // è¿˜å¯ä»¥ä½¿ç”¨ dir format: &quot;cjs&quot;, }, plugins: [xxplugin()],}; å¦‚æœè¾“å‡ºä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨output.dir CJSçš„è¯ï¼Œä½¿ç”¨module.exports = {/* config */} ä½¿ç”¨-cï¼ˆ--configï¼‰æŒ‡å®šé…ç½®æ–‡ä»¶ 1rollup -c ä¼šè‡ªåŠ¨è¯»å–rollup.config.jsæˆ–rollup.config.mjsï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šæŠ¥é”™ å¯ä»¥åœ¨å‘½ä»¤è¡Œéšä¾¿è¦†ç›–é…ç½®æ–‡ä»¶çš„é…ç½® 1rollup -c -o bundle-2.js # `-o` ç­‰ä»·äº `--file`ï¼ˆæ›¾ç”¨åä¸º &quot;output&quot;ï¼‰ ğŸ‡ ä¸€èˆ¬ä¼šä½¿ç”¨defindConfigå‡½æ•°ï¼Œè¿™æ ·ä¼šæœ‰ä»£ç æç¤º 123456// rollup.config.jsimport { defineConfig } from &quot;rollup&quot;;export default defineConfig({ /* ä½ çš„é…ç½® */}); mjs å’Œ cjsé»˜è®¤å°±æ˜¯cjsï¼Œå³ä½¿æ˜¯.jsæ–‡ä»¶ã€‚å¦‚æœè¦ä½¿ç”¨mjsï¼Œéœ€è¦åœ¨package.jsonä¸­é…ç½®ï¼š 123{ &quot;type&quot;: &quot;module&quot;} ä½¿ç”¨cjsçš„è¯ï¼Œ__dirnameå¯ç”¨ TypeScript@rollup/plugin-typescriptæ’ä»¶å¯ä»¥è®© Rollup æ”¯æŒ TypeScript é…ç½®æ–‡ä»¶.ts tsconfig.jsonä¸­çš„includeå­—æ®µåŒ…å«é…ç½®æ–‡ä»¶ åœ¨ TypeScript ä¸­æ”¯æŒä½¿ç”¨RollupOptionsç±»å‹ 1234567// rollup.config.tsimport type { RollupOptions } from &quot;rollup&quot;;const config: RollupOptions = { /* ä½ çš„é…ç½® */};export default config; æ³¨æ„äº‹é¡¹ import.meta.urlçš„è·¯å¾„æ˜¯å½“å‰æ–‡ä»¶çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯process.cwd()çš„è·¯å¾„ è·¯å¾„ä½¿ç”¨åœ¨ CommonJS ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°__dirnameï¼Œä½†æ˜¯åœ¨ Rollup åŸç”Ÿ ES æ¨¡å—ä¸­ï¼Œæ˜¯æ²¡æœ‰è¿™ä¸ªçš„ï¼Œæ¨èä½¿ç”¨import.meta.urlæ¥è·å– 12345678// rollup.config.jsimport { fileURLToPath } from 'node:url'export default { ..., // ä¸º &lt;currentdir&gt;/src/some-file.js ç”Ÿæˆç»å¯¹è·¯å¾„ external: [fileURLToPath(new URL('src/some-file.js', import.meta.url))]}; å¯¼å…¥ pakage.jsonä¾‹å¦‚è‡ªåŠ¨å°†ä¾èµ–é¡¹æ ‡è®°ä¸ºexternal åœ¨node 17.5+ä¸­ï¼Œå¯ä½¿ç”¨å¯¼å…¥æ–­è¨€ 1234567import pkg from &quot;./package.json&quot; assert { type: &quot;json&quot; };export default { // Mark package dependencies as &quot;external&quot;. Rest of configuration // omitted. external: Object.keys(pkg.dependencies),}; åœ¨æ—§ç‰ˆnodeä¸­ï¼Œå¯ä»¥ä½¿ç”¨@rollup/plugin-jsonã€‚æˆ–è€…ä½¿ç”¨ node æä¾›çš„createRequireï¼š 12345import { createRequire } from &quot;node:module&quot;;const require = createRequire(import.meta.url);const pkg = require(&quot;./package.json&quot;);// ... æˆ–è€…ç›´æ¥ä½¿ç”¨fsæ¨¡å—è¯»å–æ–‡ä»¶å†…å®¹ ä½¿ç”¨æ’ä»¶ğŸŒ Awesome Rollup å¯¼å…¥ç°æœ‰çš„ CommonJS æ¨¡å—1npm install @rollup/plugin-commonjs --save-dev éœ€è¦ node14+ ä» JSON æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®1npm install @rollup/plugin-json --save-dev 123456// src/main.jsimport { version } from &quot;../package.json&quot;;export default function () { console.log(&quot;version &quot; + version);} è¾“å‡ºæ’ä»¶ ç­‰ Rollup ä¸»è¦åˆ†æå®Œäº†ä¹‹åï¼Œå†å¯¹ä»£ç è¿›è¡Œåˆ«çš„æ“ä½œï¼Œæ¯”å¦‚å‹ç¼©åŠ å¯†ä¹‹ç±»çš„ 1npm install @rollup/plugin-terser --save-dev ğŸ‘‰ å¯¹äºä¸åŒçš„è¾“å‡ºæ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ’ä»¶ 1234567891011121314151617181920// rollup.config.mjsimport json from &quot;@rollup/plugin-json&quot;;import terser from &quot;@rollup/plugin-terser&quot;;export default { input: &quot;src/main.js&quot;, output: [ { file: &quot;bundle.js&quot;, format: &quot;cjs&quot;, }, { file: &quot;bundle.min.js&quot;, format: &quot;iife&quot;, name: &quot;version&quot;, plugins: [terser()], }, ], plugins: [json()],}; iifeæ ¼å¼æ˜¯å°†å˜é‡æ”¾åˆ°ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°ä¸­ï¼Œè¿™æ ·å°±ä¸ä¼šæ±¡æŸ“å…¨å±€å˜é‡äº† 1234567var version = (function () { &quot;use strict&quot;; var n = &quot;1.0.0&quot;; return function () { console.log(&quot;version &quot; + n); };})(); é…ç½®é€‰é¡¹externalç±»å‹ï¼š(string | RegExp)[]| RegExp| string| (id: string, parentId: string, isResolved: boolean) =&gt; boolean éœ€è¦æ’é™¤åœ¨æ‰“åŒ…ä¹‹å¤–çš„æ¨¡å— è¿™äº›æ¨¡å—ä¸ä¼šå‡ºç°åœ¨æ‰“åŒ…åçš„ä»£ç ä¸­ rollup ä¼šç”Ÿæˆä¸€ä¸ªrequireæˆ–importè¯­å¥ï¼Œè®©è¿è¡Œæ—¶å»åŠ è½½è¿™äº›æ¨¡å—ï¼Œä»¥é¿å…ä¸å¿…è¦çš„ä¾èµ–é¡¹é‡å¤æ‰“åŒ…ã€‚ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œéœ€è¦ç¡®ä¿externalæŒ‡å®šçš„è¿™äº›æ¨¡å—å·²ç»å­˜åœ¨ åŒ¹é…æ–¹å¼ï¼š å¤–éƒ¨ä¾èµ–åç§° å¦‚æœå°†import dependency.jsæ ‡è®°ä¸ºå¤–éƒ¨ä¾èµ–ï¼Œé‚£ä¹ˆå°±ä¼ é€’dependency.jsï¼›import &quot;dependency&quot;çš„è¯ï¼Œä¼ é€’dependency è§£æè¿‡çš„æ¨¡å— IDï¼ˆç–‘é—®ï¼‰ è§£æè¿‡çš„æ¨¡å— IDï¼Œä¾‹å¦‚æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…node_modulesä¸­çš„æ¨¡å— å¦‚æœé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼/node_modules/åŒ¹é… è‡ªå®šä¹‰å‡½æ•° ä¸‰ä¸ªå‚æ•°å¯ä½¿ç”¨ï¼š(id, parent, isResolved) =&gt; boolean id: æ¨¡å—çš„ ID parent: å¼•å…¥è¿™ä¸ªæ¨¡å—çš„æ¨¡å— ID isResolved: æ¨¡å—æ˜¯å¦å·²ç»è¢«æ’ä»¶è§£æï¼Œæ¯”å¦‚ç”¨@rollup/plugin-node-resolveæ’ä»¶è§£æè¿‡äº† 12345678// rollup.config.jsexport default { external: (id) =&gt; { // æ’é™¤æ‰€æœ‰ä»¥ 'react' å¼€å¤´çš„æ¨¡å— return id.startsWith(&quot;react&quot;); }, // å…¶ä»–é…ç½®é€‰é¡¹...}; inputç±»å‹ï¼šå­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ•°ç»„ã€{[entryName]: string} æ‰“åŒ…çš„å…¥å£ï¼Œä¾‹å¦‚main.tsã€index.js å¦‚æœä¼ è¿‡æ¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ–è€…æ˜¯ä¸Šé¢çš„ç¬¬ä¸‰ä¸ªç±»å‹ï¼Œæ‰“åŒ…çš„äº§ç‰©ä¹Ÿæ˜¯åˆ†å¼€çš„ï¼Œé™¤éè¾“å‡ºçš„æ—¶å€™æŒ‡å®šäº†output.fileã€‚é‚£è¾“å‡ºçš„æ–‡ä»¶åä¼šè·Ÿéšoutput.entryFileNames output.file å’Œ output.dirç±»å‹ï¼šå­—ç¬¦ä¸² output.fileæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªå…·ä½“æ–‡ä»¶ï¼›å¦‚æœéœ€è¦è¾“å‡ºå¤šä¸ªæ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨output.dir æ¡ˆä¾‹æ‰“åŒ… TypeScriptéœ€è¦æå‰å®‰è£…çš„æœ‰typescript å’Œtslib 1npm install @rollup/plugin-typescript --save-dev æ’ä»¶é»˜è®¤ä½¿ç”¨tsconfig.jsonä¸­çš„é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š 12345678910111213/// ...export default { input: &quot;./main.ts&quot;, output: { dir: &quot;output&quot;, format: &quot;cjs&quot;, }, plugins: [ typescript({ compilerOptions: { lib: [&quot;es5&quot;, &quot;es6&quot;, &quot;dom&quot;], target: &quot;es5&quot; }, }), ],}; å…¶ä»–é…ç½®é”™è¯¯æ ¹æ®æŠ¥é”™æç¤ºä¿®æ”¹å°±å¥½äº†","link":"/2023/09/03/Rollup%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C/"},{"title":"Vantç»„ä»¶ç¤ºä¾‹","text":"ğŸ“¦ å¤åˆ¶å°±èƒ½ä½¿ç”¨ï¼Ÿ Vant4ï¼Œå®˜æ–¹æ–‡æ¡£ æ¸²æŸ“ç»„ä»¶åµŒå¥—çš„collapseåµŒå¥—çš„æŠ˜å é¢æ¿ï¼Œå»ºè®®åå­—ï¼šNestedCollapse.vue 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;template&gt; &lt;van-collapse class=&quot;nested-collapse&quot; v-model=&quot;activeNames&quot; accordion&gt; &lt;van-collapse-item v-for=&quot;item in items&quot; :key=&quot;item.id&quot; :name=&quot;item.id&quot;&gt; &lt;template #right-icon&gt; &lt;van-icon v-if=&quot;item.childList?.length&quot; :name=&quot;activeNames == item.id ? 'arrow-up' : 'arrow-down'&quot; /&gt; &lt;/template&gt; &lt;template #title&gt; &lt;div class=&quot;title&quot; @click.stop=&quot;onItemClick(item)&quot;&gt; {{ item.name }} &lt;/div&gt; &lt;/template&gt; &lt;nested-collapse v-if=&quot;item.childList?.length&quot; :items=&quot;item.childList&quot; @click=&quot;(item) =&gt; onItemClick(item)&quot; /&gt; &lt;/van-collapse-item&gt; &lt;/van-collapse&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;/** * åµŒå¥—æŠ˜å é¢æ¿ï¼Œæ¯å±‚ä¼ é€’childList */interface Item { id: string | number; name: string; childList?: Item[];}// æ‰‹é£ç´æ¨¡å¼ï¼ˆaccordionï¼‰ç»‘å®šæ™®é€šç±»å‹å³å¯ï¼Œå¦åˆ™éœ€è¦ç»‘å®šæ•°ç»„const props = defineProps&lt;{ items: Item[];}&gt;();const emit = defineEmits&lt;{ (e: &quot;click&quot;, item: Item): void;}&gt;();const activeNames = ref(&quot;&quot;);function onItemClick(item: Item) { emit(&quot;click&quot;, item);}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.nested-collapse { --van-cell-horizontal-padding: 4px; --van-cell-group-background: transparent; --van-cell-background: transparent; :deep(.van-collapse-item__content) { --van-collapse-item-content-background: transparent; padding-left: 16px; } // ç•™å‡ºç‚¹ç©ºä½ // ç‚¹å‡»æ ‡é¢˜æ—¶é˜»æ­¢äº†ç»„ä»¶çš„é»˜è®¤äº‹ä»¶ï¼Œå¦‚æœå®½åº¦ä¸º100%ä¼šå¯¼è‡´å³è¾¹çš„ç®­å¤´æ— æ³•ç‚¹å‡» .title { width: 96%; }}&lt;/style&gt; å•è¡Œæ—¥æœŸé€‰æ‹©å½“å¤©é€‰ä¸­ä¸ºä¸»é¢˜è‰²ä½œä¸ºèƒŒæ™¯è‰²ï¼Œé€‰ä¸­å…¶ä»–æ—¥æœŸä¸»é¢˜è‰²ä¸ºè¾¹æ¡†ï¼Œå»ºè®®åç§°ï¼šInlineDatePicker.vue 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116&lt;template&gt; &lt;div class=&quot;calendar&quot;&gt; &lt;!-- å‘¨æ ‡é¢˜ --&gt; &lt;div v-if=&quot;!inSameRound&quot; class=&quot;weekdays&quot;&gt; &lt;div v-for=&quot;(day, index) in weekdays&quot; :key=&quot;index&quot; class=&quot;weekday&quot;&gt; {{ day }} &lt;/div&gt; &lt;/div&gt; &lt;!-- æ—¥æœŸ --&gt; &lt;div class=&quot;dates&quot;&gt; &lt;div v-for=&quot;(date, index) in dates&quot; :key=&quot;index&quot; class=&quot;date&quot; :class=&quot;{ today: date.isToday, active: isSelected(date) }&quot; @click=&quot;selectDate(date)&quot; &gt; &lt;span v-if=&quot;inSameRound&quot;&gt;{{ date.day }}&lt;/span&gt; &lt;span v-if=&quot;date.date&quot;&gt;{{ date.date }}&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup&gt;interface Props { inSameRound?: boolean; // æ˜ŸæœŸå’Œæ—¥æœŸåœ¨ä¸€ä¸ªåœ†å½¢å†…}interface Emits { (e: &quot;select&quot;, date: DateType): void;}interface DateType { day: string; // å‘¨ date: number; // æ—¥ fullDate: string; isToday: boolean;}const props = defineProps&lt;Props&gt;();const emit = defineEmits&lt;Emits&gt;();const weekdays = ref([&quot;æ—¥&quot;, &quot;ä¸€&quot;, &quot;äºŒ&quot;, &quot;ä¸‰&quot;, &quot;å››&quot;, &quot;äº”&quot;, &quot;å…­&quot;]);const today = new Date();const selectedDate = ref&lt;DateType | null&gt;(null);const isSelected = (date: DateType) =&gt; { return selectedDate.value?.fullDate === date.fullDate;};// ç”Ÿæˆå½“å‰å‘¨çš„æ—¥æœŸæ•°æ®const dates = computed(() =&gt; { const startOfWeek = new Date(today); startOfWeek.setDate(today.getDate() - today.getDay()); return Array.from({ length: 7 }).map((_, index) =&gt; { const currentDate = new Date(startOfWeek); currentDate.setDate(startOfWeek.getDate() + index); return { day: weekdays.value[index], date: currentDate.getDate(), isToday: currentDate.toDateString() === today.toDateString(), fullDate: currentDate.toLocaleDateString(), }; });});function selectDate(date: DateType) { selectedDate.value = date; emit(&quot;select&quot;, date);}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.calendar { display: flex; flex-direction: column; text-align: center;}.weekdays,.dates { display: flex; justify-content: space-around;}.weekday,.date { flex: 1;}.date { $date-size: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; width: $date-size; max-width: $date-size; height: $date-size; margin-top: 5px; border-radius: 100%; box-sizing: border-box;}.date.today { color: white; background-color: var(--van-primary-color);}.date.active { font-weight: bold; border: 1px solid var(--van-primary-color);}&lt;/style&gt;","link":"/2025/03/03/Vant%E7%BB%84%E4%BB%B6%E7%A4%BA%E4%BE%8B/"},{"title":"Vue RouterçŸ¥è¯†å°è¡¥å……","text":"åœ¨è¿™é‡Œåšäº›å°ç¬”è®°ï¼Œä¸€è¾¹çœ‹ç¬”è®°ä¸€è¾¹çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæ–¹ä¾¿ç†è§£ æ–‡ç« ä½œä¸ºæçº²ï¼Œé…åˆå®˜æ–¹æ–‡æ¡£å­¦ä¹  å‰æå°çŸ¥è¯†ç‚¹ï¼š é€šè¿‡æ³¨å…¥è·¯ç”±å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶å†…é€šè¿‡ this.$router è®¿é—®è·¯ç”±å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ this.$route è®¿é—®å½“å‰è·¯ç”± åµŒå¥—è·¯ç”±è¦åµŒå¥—çš„å†…å®¹ä¹Ÿæ˜¯å†™è¿›æ¨¡æ¿ç»„ä»¶é‡Œé¢çš„ï¼Œè€Œä¸æ˜¯å†™è¿›æœ¬èº«çš„HTMLé‡Œé¢ã€‚ç„¶åéœ€è¦åœ¨ VueRouter çš„å‚æ•°ä¸­ä½¿ç”¨ children è·¯ç”±ç»„ä»¶ä¼ å‚ï¼Œå°±æ˜¯ä½¿ç”¨ props æ¥ä»£æ›¿ $route.xx.xxï¼Œæé«˜çµæ´»åº¦ åŸºç¡€æ ‡ç­¾router-link1&lt;router-link to=&quot;/foo&quot;&gt;Go to Foo&lt;/router-link&gt; &lt;router-link&gt; ç»„ä»¶æ”¯æŒç”¨æˆ·åœ¨å…·æœ‰è·¯ç”±åŠŸèƒ½çš„åº”ç”¨ä¸­ (ç‚¹å‡») å¯¼èˆªã€‚ é€šè¿‡ to å±æ€§æŒ‡å®šç›®æ ‡åœ°å€ï¼Œé»˜è®¤æ¸²æŸ“æˆå¸¦æœ‰æ­£ç¡®é“¾æ¥çš„ &lt;a&gt; æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡é…ç½® tag å±æ€§ç”Ÿæˆåˆ«çš„æ ‡ç­¾.ã€‚ å½“ç‚¹å‡»&lt;router-link&gt; çš„æ—¶å€™ï¼Œå…¶å®å¯ä»¥è¯´ç­‰åŒäºè°ƒç”¨äº†router.push(...)ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯ç¼–ç¨‹å¼çš„å¯¼èˆªï¼Œrouter-link æ˜¯å£°æ˜å¼ å½“ &lt;router-link&gt; å¯¹åº”çš„è·¯ç”±åŒ¹é…æˆåŠŸï¼Œå°†è‡ªåŠ¨è®¾ç½® class å±æ€§å€¼ .router-link-activeã€‚ è¿™ä¸ª class ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œé€šè¿‡è·¯ç”±çš„æ„é€ é€‰é¡¹ linkActiveClass æ¥å…¨å±€é…ç½®ï¼š 1234var router = new VueRouter({ routes, linkActiveClass: 'active',}); ç„¶ååœ¨styleé…ç½®classæ ·å¼å°±è¡Œ router-view&lt;router-view&gt; æ˜¯ä¸€ä¸ª functional ç»„ä»¶ï¼Œæ¸²æŸ“è·¯å¾„åŒ¹é…åˆ°çš„è§†å›¾ç»„ä»¶ï¼Œå®ƒé‡Œé¢å¯ä»¥å†…åµŒè‡ªå·±çš„ &lt;router-view&gt; å¯ä»¥æ·»åŠ åŠ¨æ€æ•ˆæœï¼Œä½¿ç”¨ &lt;transition&gt; ç»„ä»¶ï¼š 123&lt;transition mode=&quot;out-in&quot;&gt; &lt;router-view&gt;&lt;/router-view&gt;&lt;/transition&gt; out-in ï¼šå½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥ã€‚ in-out ï¼šæ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€ã€‚ ä½¿ç”¨çš„æ—¶å€™è¦è®¾ç½®ç›¸å¯¹åº”çš„ css æ ·å¼ï¼Œä¾‹å¦‚ï¼š 123456789.v-enter,.v-leave-to { opacity: 0; transform: translateX(150px);}.v-enter-active,.v-leave-active { transition: all 1s ease;} è·¯ç”±å¯¹è±¡ä¸€ä¸ªè·¯ç”±å¯¹è±¡ (route object) è¡¨ç¤ºå½“å‰æ¿€æ´»çš„è·¯ç”±çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…å«äº†å½“å‰ URL è§£æå¾—åˆ°çš„ä¿¡æ¯ï¼Œè¿˜æœ‰ URL åŒ¹é…åˆ°çš„**è·¯ç”±è®°å½• (route records)**ã€‚ ä¾‹å¦‚ï¼šå¯¹äº $route.paramsï¼š æ¨¡å¼ åŒ¹é…è·¯å¾„ $route.params /user/:username /user/evan { username: 'evan' } /user/:username/post/:post_id /user/evan/post/123 { username: 'evan', post_id: '123' } è·¯ç”±å¯¹è±¡å±æ€§ $route.path ç±»å‹: string å­—ç¬¦ä¸²ï¼Œå¯¹åº”å½“å‰è·¯ç”±çš„è·¯å¾„ï¼Œæ€»æ˜¯è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œå¦‚ &quot;/foo/bar&quot;ã€‚ $route.params ç±»å‹: Object ä¸€ä¸ª key/value å¯¹è±¡ï¼ŒåŒ…å«äº†åŠ¨æ€ç‰‡æ®µå’Œå…¨åŒ¹é…ç‰‡æ®µï¼Œä¾‹å¦‚ï¼Œå¯¹äºè·¯å¾„ /login/13ï¼Œåˆ™æœ‰ $route.params.id == 13ï¼Œå¦‚æœæ²¡æœ‰è·¯ç”±å‚æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ã€‚ $route.query ç±»å‹: Object ä¸€ä¸ª key/value å¯¹è±¡ï¼Œè¡¨ç¤º URL æŸ¥è¯¢å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè·¯å¾„ /foo?user=1ï¼Œåˆ™æœ‰ $route.query.user == 1ï¼Œå¦‚æœæ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œåˆ™æ˜¯ä¸ªç©ºå¯¹è±¡ã€‚ â€¦â€¦ APIvm.$mount() å¦‚æœ Vue å®ä¾‹åœ¨å®ä¾‹åŒ–æ—¶æ²¡æœ‰æ”¶åˆ° el é€‰é¡¹ï¼Œåˆ™å®ƒå¤„äºâ€œæœªæŒ‚è½½â€çŠ¶æ€ï¼Œæ²¡æœ‰å…³è”çš„ DOM å…ƒç´ ã€‚å¯ä»¥ä½¿ç”¨ vm.$mount() æ‰‹åŠ¨åœ°æŒ‚è½½ä¸€ä¸ªæœªæŒ‚è½½çš„å®ä¾‹ã€‚ è¿”å›å€¼æ˜¯ vm å®ä¾‹è‡ªèº« 123const app = new Vue({ router}).$mount('#app')","link":"/2020/08/05/Vue-Router%E5%B0%8F%E6%8B%93%E5%B1%95/"},{"title":"CentOSé˜²ç«å¢™","text":"ä»‹ç» CentOS6ã€CentOS7çš„é˜²ç«å¢™çš„é…ç½® CentOS7ä»¥ä¸‹çš„ç‰ˆæœ¬å’ŒCentOS6ç›¸åŒï¼ŒCentOS8å’ŒCentOS7é…ç½®æ˜¯ç›¸åŒçš„ã€‚ğŸ§ CentOS 6å®‰è£…é…ç½®å®‰è£…1yum -y install iptables-services é…ç½®å¼€æ”¾ 80 ç«¯å£ 1iptables -I INPUT -p tcp --dport 80 -j ACCEPT é…ç½®ç«¯å£åï¼Œä¿å­˜é˜²ç«å¢™é…ç½®è§„åˆ™ 1service iptables save æˆ–è€…ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶ /etc/sysconfig/iptables ï¼Œå¢åŠ å¼€æ”¾çš„ç«¯å£ã€‚æ·»åŠ å†…å®¹ï¼š 1-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT çŠ¶æ€ç®¡ç†12345678# æŸ¥çœ‹çŠ¶æ€service iptables status# å¼€å¯service iptables start# å…³é—­service iptables stop# é‡å¯service iptables restart 1234# æ°¸ä¹…å…³é—­chkconfig iptables off# æ°¸ä¹…å…³é—­ä¹‹åæƒ³è¦å¼€å¯chkconfig iptables on CentOS 7å®‰è£…é…ç½®å®‰è£…1yum -y install firewalld é…ç½®æ·»åŠ  80 ç«¯å£ 1firewall-cmd --zone=public --add-port=3306/tcp --permanent é…ç½®åé‡å¯é˜²ç«å¢™ firewall-cmdï¼šé˜²ç«å¢™çš„ç®¡ç†å·¥å…· zoneï¼šæŒ‡å®šä½œç”¨èŒƒå›´ æˆ–è€…ç›´æ¥ä¿®æ”¹é˜²ç«å¢™çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶ä½ç½® /etc/firewalldï¼Œä¿®æ”¹ /etc/firewalld/zones/public.xml ï¼Œåœ¨ &lt;zone&gt;&lt;/zone&gt;é‡Œé¢æ·»åŠ ï¼š 1&lt;port protocol=&quot;tcp&quot; port=&quot;80&quot; /&gt; çŠ¶æ€ç®¡ç†12345678# æŸ¥çœ‹çŠ¶æ€systemctl status firewalld# å¼€å¯systemctl start firewalld# å…³é—­systemctl stop firewalld# é‡å¯systemctl restart firewalld 1234# å¼€æœºå¯åŠ¨systemctl enable fierwalld# æ°¸ä¹…å…³é—­systemctl disenable fierwalld å…¶ä»–äº‘æœåŠ¡å™¨äº‘æœåŠ¡å™¨çš„é˜²ç«å¢™é»˜è®¤æƒ…å†µä¸‹æ˜¯å…³é—­çš„ï¼Œæ‰€æœ‰çš„ç«¯å£å¼€æ”¾æ˜¯åœ¨äº‘æœåŠ¡å™¨å¹³å°ä¸Šçš„å®‰å…¨ç»„ä¸­è¿›è¡Œ iptables VS firewalld â€‹ ğŸ”¥ ğŸš’","link":"/2020/12/01/CentOS%E9%98%B2%E7%81%AB%E5%A2%99/"},{"title":"Typescript å¿«é€Ÿæ‰‹å†Œ 2.0","text":"åŠªåŠ›å­¦ä¹  ğŸï¸ğŸï¸ åŸºç¡€çŸ¥è¯†å¯åŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ ts.config.json 1tsc --init ç›‘å¬æ–‡ä»¶å˜åŒ– 1tsc -w index.ts å®‰è£… ts-node ç›´æ¥è¿è¡Œ ts æ–‡ä»¶ï¼Œä¸ç”¨å…ˆæ‰‹åŠ¨ç¼–è¯‘ 1npm install ts-node -g ç±»å‹ã€æ¥å£åŸºç¡€ç±»å‹çš„çº§åˆ«ï¼ˆä»é¡¶çº§åˆ°ä½çº§æ’ï¼‰ any, unknown Object Number, String, Boolean number, string, boolean 1, â€˜helloâ€™, false never å…¶ä¸­ï¼š any: ä»»æ„ç±»å‹ï¼Œå¯ç»™éšä¾¿èµ‹å€¼ unknown: ä¸çŸ¥é“çš„ç±»å‹ï¼Œåªèƒ½ç»™è‡ªå·±æˆ–è€… any èµ‹å€¼ unknownçš„å¯¹è±¡æ˜¯æ— æ³•è¯»å–å±æ€§çš„ 12let person: unknown = { name: &quot;Jerry&quot;, age: 18 };person.name; // âŒ è¿™é‡Œä¼šæŠ¥é”™ æ‰€ä»¥unknownç±»å‹ä¼šæ¯”è¾ƒå®‰å…¨ï¼Œå½“ä¸çŸ¥é“ç”¨ä»€ä¹ˆç±»å‹çš„æ—¶å€™å¯ä»¥é€‰å®ƒ Object, object, {}çš„åŒºåˆ«ï¼šğŸ™ƒ â–¶ï¸ Objectï¼šåœ¨åŸå‹é“¾ä¸Šï¼Œå¯åŒ…å«æ‰€æœ‰ 1234let test: Object = 1;test = &quot;hello&quot;;test = false;// ... â–¶ï¸ objectï¼šä»£è¡¨éåŸå§‹ç±»å‹çš„ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œæ¯”è¾ƒå¸¸ç”¨äºæ³›å‹çº¦æŸ â–¶ï¸ {}ï¼šç›¸å½“äºnew Objectï¼Œå’ŒObjectä¸€æ ·ï¼Œä½†æ˜¯å˜é‡ä¸èƒ½å¤åˆ¶ 12let person: {} = { name: &quot;Jerry&quot; };person.age; // âŒ è¿™é‡Œä¼šæŠ¥é”™ æ¥å£ ä¸¤ä¸ªé‡åçš„ interface ä¼šåˆå¹¶èµ·æ¥ å¤šè¡Œæ—¶ï¼Œå±æ€§ä¹‹é—´å¯ä»¥ç”¨;ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ ç´¢å¼•ç­¾å(index signature)çš„å¯èƒ½ä½¿ç”¨åœºæ™¯ï¼šåç«¯è¿”å›å¯¹è±¡ï¼Œä½†æ˜¯å‰ç«¯åªæƒ³è¦å…¶ä¸­çš„å‡ ä¸ªå±æ€§ 123456interface Person { readonly id: number; name: string; age: number; [propName: string]: any;} 12345interface Fn { (nameL string): number[]}const fn: Fn = (name:string) =&gt; [1] interface é‡Œé¢æœ‰å”¯ä¸€ id æˆ–è€…å‡½æ•°ï¼Œå¯ä»¥ç”¨readonlyé™åˆ¶ä¸€ä¸‹ï¼ˆåœ¨å¯¹åº” key å‰é¢åŠ ä¸Šï¼‰ æ•°ç»„æ¥å£ çš„å‡ ç§ä½¿ç”¨æ–¹å¼ 123456789let name1: string[] = [&quot;Tom&quot;, &quot;Jerry&quot;];let name2: Array&lt;string&gt; = [&quot;Tom&quot;, &quot;Jerry&quot;];interface Name { name: string;}let name3: Name[] = [{ name: &quot;Tom&quot; }, { name: &quot;Jerry&quot; }]; äºŒç»´æ•°ç»„æˆ–è€…æ›´å¤š 12let name1: string[][] = [[{ name: &quot;Tom&quot; }], [{ name: &quot;Jerry&quot; }]];let name2: Array&lt;Array&lt;string&gt;&gt; = [[{ name: &quot;Tom&quot; }], [{ name: &quot;Jerry&quot; }]]; å¦‚æœæ•°ç»„é‡Œé¢å•¥éƒ½æœ‰ã€‚ç›´æ¥ç”¨anyæˆ–è€…ç”¨å…ƒç»„ 12let name: any[] = [1, &quot;qaq&quot;];let name: [number, string] = [1, &quot;qaq&quot;]; _å‰©ä½™å‚æ•°_ï¼šæœ‰å±äºè‡ªå·±çš„æ¥å£ 123function func(...args: string[]) { console.log(arguments); // ç±»å‹æ˜¯ IArgments} ç±»å‹åˆ«åå°±æ˜¯ç”¨typeæ¥æŒ‡å®šæŸä¸ªç±»å‹ 123type s = string;type strArr = string[]; interfaceä¸èƒ½ä½¿ç”¨è”åˆç±»å‹ï¼Œä½†å¯ä»¥ä½¿ç”¨extends é‡åˆ°é‡å¤çš„ä¼šåˆå¹¶ typeæ²¡æœ‰ç»§æ‰¿ï¼Œä½†å¯ä»¥ä½¿ç”¨è”åˆç±»å‹ï¼Œå¦‚type s = string | number é‡åˆ°é‡å¤çš„ä¸ä¼šåˆå¹¶ ğŸ¤¤typeçš„åˆ«çš„ç”¨æ³• 12// å·¦è¾¹çš„å€¼ä¼šä½œä¸ºå³è¾¹ç±»å‹çš„å­ç±»å‹type num = 1 extends number ? 1 : 0; è¿™é‡Œæ˜¯ 1 type ä¸­çš„ extends æ˜¯åŒ…å«çš„æ„æ€ ç±»å‹æ–­è¨€ã€äº¤å‰ç±»å‹ã€è”åˆç±»å‹123let fn = function (type: number): boolean { return !!type;}; !0 æ˜¯ trueï¼Œå†!å°±æ˜¯falseäº†ï¼Œè¿™æ—¶ç±»å‹å°±ä»numberå˜æˆäº†booleanï¼Œä½†æ˜¯è¡¨è¾¾çš„æ„ä¹‰è¿˜æ˜¯å¯¹ã€é”™ï¼ˆä¾‹å¦‚ï¼šæœ‰æ—¶åç«¯è¿”å›æ•°å­—è€Œä¸æ˜¯ true false çš„æ—¶å€™ï¼‰ è”åˆç±»å‹ï¼Œinterfaceçš„è¯ï¼Œä½¿ç”¨ä¸€ä¸ª&amp;æ¥è”åˆï¼Œæ˜¯ä¸€ä¸ªã€‚ ç±»å‹æ–­è¨€ï¼Œå°±æ˜¯é‚£ä¸ªasï¼Œå¯ä»¥ç”¨æ¥æ¬ºéª— TypeScriptï¼Œå¦‚æœæœ‰é”™çš„è¯ï¼Œç¼–è¯‘çš„æ—¶å€™è¿˜æ˜¯ä¼šæŠ¥é”™çš„ã€‚å¦å¤–çš„å†™æ³•æ˜¯&lt;ç±»å‹&gt;å˜é‡ 1(window as any).abc = 123; any å¯ä»¥ æ–­è¨€ä¸ºä»»ä½•ç±»å‹ å‡½æ•°12function add1(a: number, b: number): number;const add2 = (a: number, b: number): number =&gt; {}; å¯¹äºå‡½æ•°çš„ä¸€ä¸ªå‚æ•°ï¼šé»˜è®¤å€¼ å’Œ å¯é€‰ ä¸èƒ½ä¸€èµ·ç”¨ åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥å®šä¹‰thisï¼Œç”¨æ¥æŒ‡å®šå‡½æ•°å½“å‰æ‰€å¤„çš„å¯¹è±¡ åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œthisä¸ç”¨ä¼ é€’ 12345678910111213interface Obj { user: number[] add: (this.Obj, num:number)=&gt;void}let obj: Obj = { user: [1,2,3], add(this.obj, num:number) { this.user.push(num) }}obj.add(6) è¿™ä¸ªè¯­æ³•åœ¨ js ä¸­ä¸èƒ½ä½¿ç”¨ å‡½æ•°é‡è½½ å¯èƒ½åœºæ™¯ 123456789101112131415let user: number[] = [1, 2, 3];// å¦‚æœä¼ è¿›æ¥çš„æ˜¯numberç±»å‹çš„æ•°ç»„ï¼Œé‚£å°±æ·»åŠ function findNum(add: number[]): number[];// å¦‚æœä¼ è¿›idå°±å•ä¸ªæŸ¥è¯¢function findNum(id: number): number[];function findNum(ids: number | number[]): number[] { if (typeof ids === &quot;number&quot;) { return user.filter((v) =&gt; v === ids); } else if (Array.isArray(ids)) { user.push(...ids); return user; } else { return user; }} classimplementsï¼šç”¨æ¥å®ç°æ¥å£ï¼Œçº¦æŸç±»çš„ç»“æ„ 12345678910111213141516171819interface Options { el: string | HTMLElement;}// å®šä¹‰æ¥å£çº¦æŸinterface VueClass { options: Options; init(): void;}class Vue implements VueClass { options: Options; constructor(options: Options) { this.options = options; } init(): void { console.log(&quot;init&quot;); }} extendsï¼šç”¨æ¥ç»§æ‰¿ç±» extends éœ€è¦å†™åœ¨ implements å‰é¢ï¼Œå› ä¸º extends ä¼šç»§æ‰¿ implements çš„æ¥å£ super åŸç†æ˜¯çˆ¶ç±»çš„prototype.constructor.call é‡Œé¢çš„å‚æ•°æ˜¯çˆ¶ç±»çš„å‚æ•°å¦‚æœæœ‰ä¸ªè¯ï¼Œéœ€è¦å‘é‡Œé¢ä¼ é€’å®å‚ å¯ä»¥ç›´æ¥é€šè¿‡super.æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æˆ–è€…å±æ€§ 123456789101112131415161718192021class Dom { createElement(el: string) { return document.createElement(le); } setText(el: HTMLElement, text: string) { el.textContent = text; } render() {}}class Vue extends Dom implements VueClass { options: Options; constructor(options: Options) { // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œéœ€è¦å†™åœ¨æœ€ä¸Šé¢ super(); this.options = options; } init(): void { this.render(); }} å…¶ä»–å…³é”®å­—ï¼š readonlyï¼šåªèƒ½åœ¨å£°æ˜å±æ€§çš„æ—¶å€™æˆ–è€…æ„é€ å‡½æ•°ä¸­èµ‹å€¼ private: ç±»å†…éƒ¨ä½¿ç”¨ protected: ç±»å†…éƒ¨å’Œå­ç±»ä½¿ç”¨ public: ç±»å†…éƒ¨ã€å­ç±»ã€ç±»å¤–éƒ¨éƒ½å¯ä»¥ä½¿ç”¨ static: é™æ€å±æ€§ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è°ƒç”¨ã€‚ åªèƒ½è°ƒç”¨é™æ€çš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºä¸éœ€è¦å®ä¾‹åŒ–ï¼Œè‡ªç„¶å°±ä¸åœ¨å®ä¾‹ä¸Šé¢äº† æƒ³è¦æ•°æ®çš„è¯ï¼Œå¯ä»¥æŠŠæ•°æ®ä½œä¸ºå‡½æ•°çš„å‚æ•°ä¼ è¿›æ¥ getã€set: å¯æ‹¦æˆªå±æ€§çš„è¯»å–å’Œèµ‹å€¼æ“ä½œ 12345678910111213141516class Vue { private _el: string | HTMLElement; constructor(el: string | HTMLElement) { this._el = el; } get el() { return this._el; } set el(val) { this._el = val; }}let vue = new Vue(&quot;div&quot;);vue.el = &quot;span&quot;;console.log(vue.el); abstractï¼šæŠ½è±¡ç±»ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ ğŸ¤¤ 1234567891011121314151617181920212223abstract class Dom { abstract createElement(el: string): HTMLElement; abstract setText(el: HTMLElement, text: string): void; abstract render(): void;}class Vue extends Dom { options: Options; constructor(options: Options) { super(); this.options = options; } createElement(el: string): HTMLElement { return document.createElement(el); } setText(el: HTMLElement, text: string): void { el.textContent = text; } render(): void { let el = this.createElement(this.options.el); this.setText(el, &quot;hello&quot;); }} ä¸‹é¢å®ç°çš„å«æ´¾ç”Ÿç±»ï¼ŒæŠ½è±¡ç±»ä¸­çš„ä¸œè¥¿ï¼Œæ´¾ç”Ÿç±»å¿…é¡»å®ç° å†…ç½®å¯¹è±¡ğŸ‘‰ğŸ™ƒ æœ‰è§„å¯å¾ª ECMA 123let num: Number = new Number(1);let date: Date = new Date();let xhr: XMLHttpRequest = new XMLHttpRequest(); ä¸€èˆ¬æ˜¯ new ä»€ä¹ˆï¼Œå°±æ˜¯ä»€ä¹ˆç±»å‹ DOM ä¸€èˆ¬æ˜¯ä»€ä¹ˆHTMLxxxElement sectionã€header è¿™ç§ï¼Œä¼šå½’ä¸º HTMLElement querySelectorAllè¿™ç§ï¼Œå°±æ˜¯NodeListï¼Œå¦‚æœé‡Œé¢æ˜¯æœ‰å‡ ä¸ªçš„ï¼Œä¸å›ºå®šçš„ï¼Œä½¿ç”¨NodeListOf 12let div: NodeListOf&lt;HTMLDivElement | HTMLElement&gt; = document.querySelectorAll(&quot;div&quot;); BOM 12345678let local: Storage = localStorage;let lo: Location = location;let prop: Promise&lt;number&gt; = new Promise((resolve, reject) =&gt; { resolve(1);});// cookie æ˜¯å­—ç¬¦ä¸²å“‡let coo: string = document.cookie; å…ƒç»„ã€æšä¸¾å…ƒç»„1234let arr: [number, boolean] = [1, false];arr.push(null); // âŒ è™½ç„¶é•¿åº¦è¿‡äº†ï¼Œä½†æ˜¯è¿™ä¸ªå…ƒç»„ä¼šè¢«æ¨æ–­ä¸ºè”åˆç±»å‹arr.push(1); // âœ… æ‰€ä»¥åªèƒ½è£…ä¸Šé¢æŒ‡å®šçš„ç±»å‹ å…¶ä»–é™åˆ¶ï¼šåªè¯»ã€æŒ‡å®šåç§°ã€å¯é€‰ 1let arr: readonly [x: number, y?: boolean] = [1]; ä½¿ç”¨åœºæ™¯ï¼šä¾‹å¦‚ä¸€ä¸ªexcelè¡¨æ ¼ 12345let excel: [string, string, number][] = [ [&quot;å°æ»¡&quot;, &quot;å¥³&quot;, 18], [&quot;å°æ»¡&quot;, &quot;å¥³&quot;, 18], [&quot;å°æ»¡&quot;, &quot;å¥³&quot;, 18],]; â” è¦è·å–å…ƒç»„ä¸­æŸä¸€ä¸ªçš„ç±»å‹ 1type first = (typeof arr)[0]; â” è¦è·å–å®ƒçš„é•¿åº¦ 1type first = (typeof arr)[&quot;length&quot;]; æšä¸¾1234567enum Color { red, green, blue,}console.log(Color.red); // 0 ,åé¢çš„æ˜¯ 1ã€2 ç»™å®ƒæŒ‡å®šå€¼ 1234567enum Color { red = 1, green, blue,}console.log(Color.red); // 1 ,åé¢çš„æ˜¯ 2ã€3 æ™®é€šæšä¸¾å’Œä½¿ç”¨constå®šä¹‰çš„æšä¸¾ 123456789enum Test { red = 1, green,}const enum Test { red = 1, green,} ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªå¯¹è±¡ 12345var Test;(function (Test) { Test[(Test[&quot;red&quot;] = 1)] = &quot;red&quot;; Test[(Test[&quot;green&quot;] = 2)] = &quot;green&quot;;})(Test || (Test = {})); åŠ äº†constçš„ï¼Œä¼šç›´æ¥ç¼–è¯‘ç§°ä¸€ä¸ªå¸¸é‡ ?? ä½†æ˜¯æˆ‘çš„ç¼–è¯‘å‡ºä¸€ä¸ªç©ºç™½æ–‡æ¡£ã€‚typescript 5.1.6 ğŸ‘‰ åå‘æ˜ å°„ é€šè¿‡ value è·å¾— keyï¼Œæ­£å‘åä¹‹ 123456789enum Types { success,}let success: number = Types.success;console.log(success); // 0let key = Types[success]; // success neverã€symbolneveræ°¸è¿œæ— æ³•åˆ°è¾¾çš„ç±»å‹ ğŸ™ƒ 1type A = string &amp; number; type Aå°±æ˜¯ä¸€ä¸ªneverç±»å‹ å¦‚æœåœ¨è”åˆç±»å‹ä¸­ä½¿ç”¨åˆ°neverï¼Œæ˜¯ä¼šç›´æ¥è¢«å¿½ç•¥æ‰çš„ å¸¸ç”¨çš„åœºæ™¯ï¼šå…œåº•é€»è¾‘ï¼Œç›´æ¥ä»£ç æŠ¥é”™ï¼Œæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ 123456789101112131415type A = &quot;å”±&quot; | &quot;è·³&quot; | &quot;rap&quot;;function kun(value: A) { switch (value) { case &quot;å”±&quot;: break; case &quot;è·³&quot;: break; case &quot;rap&quot;: break; default: const error: never = value; break; }} é»˜è®¤å€¼å¾—æ—¶å€™ï¼Œvalueä¼šæ˜¯neverç±»å‹ è¿™æ ·çš„è¯ä»£ç æ²¡æœ‰é—®é¢˜ã€‚ç„¶åä»¥åè¦æ”¹çš„æ—¶å€™ï¼Œçªç„¶æƒ³åœ¨Aä¸­å†åŠ ä¸Šç±»å‹'ç¯®çƒ'ï¼Œè¿™æ ·ä»£ç å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™æ—¶å€™defaultå°±ä¼šæ˜¯ä¸€ä¸ªstringç¯®çƒã€‚stringæ— æ³•èµ‹å€¼ç»™never è¿™æ ·çš„è¯é˜²æ­¢ä»£ç å¤šäº†ï¼Œéƒ½ä¸çŸ¥é“é”™è¯¯åœ¨å“ª symbol å¯é¿å…å¯¹è±¡ä¸­é‡å¤å‡ºç°çš„key for inã€Object.keys ä¸èƒ½è¯»å–åˆ° symbol æ¯ä¸€ä¸ªéƒ½æ˜¯å”¯ä¸€çš„ 1234let a1: symbol = Symbol(1);let a2: symbol = Symbol(1);console.log(a1 == a2); // false ğŸ˜… å°±æ˜¯æƒ³è¦å¾—åˆ°ä¸¤ä¸ªç›¸ç­‰çš„ï¼Ÿï¼Ÿï¼Ÿ 1console.log(Symbol.for(&quot;xiaoman&quot;) == Symbol.for(&quot;xiaoman&quot;)); ä½¿ç”¨.forä¼šåœ¨å…¨å±€çš„symbolä¸­æ‰¾æœ‰æ²¡æœ‰æ³¨å†Œè¿‡è¿™ä¸ªkey æœ‰çš„è¯ç›´æ¥æ‹¿æ¥ç”¨ æ²¡æœ‰çš„è¯ï¼Œå…ˆåˆ›å»ºä¸€ä¸ª Object.getOwnPropertyNamesï¼šè·å–å¯¹è±¡ä¸­æ™®é€šçš„å±æ€§å Object.getOwnPropertySymbolsï¼šè·å–å¯¹è±¡ä¸­ symbol ç±»å‹çš„å±æ€§ Reflect.ownKeysï¼šä¸Šé¢ä¸¤ä¸ªéƒ½å¯åŒæ—¶è·å– é…ç½®ã€å£°æ˜å‘½åç©ºé—´ts å’Œ es6 ä¸­ï¼ŒåŒ…å«é¡¶çº§importæˆ–è€…exportçš„æ–‡ä»¶ä¼šè¢«å½“æˆä¸€ä¸ªæ¨¡å—ï¼Œåä¹‹æ–‡ä»¶é‡Œé¢çš„å†…å®¹è¢«è§†ä¸ºå…¨å±€å¯è§ è¿™æ ·çš„è¯ï¼Œåœ¨ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­å£°æ˜ç›¸åŒçš„å˜é‡ï¼Œä¼šæŠ¥é”™è¯´å˜é‡å·²ç»å­˜åœ¨ ğŸ“„index.ts 1const a = 1; ğŸ“„index2.ts 1const a = 1; è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶å˜æˆä¸€ä¸ªæ¨¡å— 1export const a = 1; é™¤äº†è¿™ä¸ªæ–¹æ³•ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ ğŸ‘‰å‘½åç©ºé—´ ğŸ“„index.ts 123namespace A { export const a = 1;} ğŸ“„index2.ts 123namespace B { export const a = 1;} ä½¿ç”¨çš„æ—¶å€™ï¼Œå’Œå¯¹è±¡ä¸€æ · 1234567console.log(A.a);console.log(B.a);namespace B { export const a = 1; export namespace C {}} å‘½åç©ºé—´è¿˜å¯ä»¥åµŒå¥—ï¼Œåœ¨é‡Œé¢export namespace æœ€å¤–å±‚å¯¼å‡ºçš„å‘½åç©ºé—´ï¼Œé€šè¿‡importæ¥å¯¼å…¥ï¼Œimport {xx} from './index.ts' è¿˜å¯ä»¥è¿™æ ·å¯¼å…¥import x = B.C é‡åçš„å‘½åç©ºé—´ä¼šåˆæˆä¸€ä¸ª ä¸‰æ–œçº¿æŒ‡ä»¤ å¸¸è§çš„æ˜¯ç”¨åˆ°å¼•å…¥ä¾èµ– 1/// &lt;reference path=&quot;index2.ts&quot; /&gt; åœ¨ç¼–è¯‘çš„æ—¶å€™å¼€å¯removeCommoentçš„é€‰é¡¹ï¼Œç¼–è¯‘åçš„æ–‡ä»¶å°±ä¼šç§»é™¤æ‰è¿™ä¸ªå¼•ç”¨å£°æ˜çš„æ³¨é‡Š å£°æ˜æ–‡ä»¶xx.d.tsæ–‡ä»¶ æœ‰äº›åº“å®‰è£…çš„æ—¶å€™æ²¡æœ‰å£°æ˜æ–‡ä»¶ï¼Œå¯ä»¥å°è¯•å®‰è£…ä¸€ä¸‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯çœŸçš„æ²¡æœ‰å£°æ˜æ–‡ä»¶ 1npm i --save-dev @types/xxx @typeså¼€å¤´æ˜¯ä¸€ä¸ªè§„èŒƒæ¥çš„ æ²¡æœ‰çš„è¯ï¼Œè‡ªå·±æ‰‹å†™ä¸€ä¸‹å’¯ã€‚è¦ä¸ºè°å†™å£°æ˜æ–‡ä»¶ï¼Œå°±ä»¥è¿™ä¸ªåŒ…çš„åå­—ä¸ºå£°æ˜æ–‡ä»¶çš„åå­—ï¼Œæ¯”å¦‚express æ²¡æœ‰å£°æ˜æ–‡ä»¶ï¼Œé‚£å°±åº”è¯¥æ˜¯express.d.ts 123456declare module &quot;express&quot; { interface Router {} interface App { use(): void; }} 12declare const a: number;declare function qa(param: any); å¦‚æœæ–‡ä»¶é‡Œé¢æ²¡æœ‰importæˆ–è€…exportçš„è¯ï¼Œä¹Ÿéœ€è¦æŒ‡å®šä¸€ä¸‹export{}æ¥ä½¿å¾— ts èƒ½æŠŠå½“å‰æ–‡ä»¶è¯†åˆ«ä¸ºæ¨¡å— æ³›å‹åŸºç¡€åœ¨å‡½æ•°ä¸­ä½¿ç”¨ ä»£ç é€»è¾‘ä¸€æ ·ï¼Œä½†æƒ³è¿”å›ä¸åŒçš„ç±»å‹ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨æ³›å‹ï¼Œé‚£åªèƒ½èµ‹å€¼ä¸¤ä»½ä»£ç ï¼Œä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥è¦ä½¿ç”¨åŠ¨æ€ç±»å‹ 1234567function func1(a:number, b:number)Array&lt;number&gt; { return [a, b]}function func1(a:string, b:string)Array&lt;string&gt; { return [a, b]} ä½¿ç”¨æ³›å‹ 1234567891011function func&lt;T&gt;(a: T, b: T): Array&lt;T&gt; { return [a, b];}// numberfunc(1, 2);func&lt;number&gt;(1, 2); // ğŸ‡ å®Œæ•´çš„è°ƒç”¨å½¢æ€åº”// éƒ½è¡Œfunc(false, false); ä¸ç”¨å®Œæ•´çš„è°ƒç”¨å½¢æ€ï¼Œå› ä¸ºå¯ä»¥ç±»å‹æ¨æ–­ åœ¨typeä¸­ä½¿ç”¨ 123type A&lt;T&gt; = string | number | T;let a: A&lt;boolean&gt; = true; åœ¨interfaceä¸­ä½¿ç”¨ 1234567interface Obj&lt;T&gt; { name: T;}let obj: Obj&lt;string&gt; = { name: &quot;zs&quot;,}; ä½¿ç”¨å¤šä¸ªæ³›å‹ 12345function func&lt;T, K&gt;(a: T, b: K): Array&lt;T | K&gt; { return [a, b];}func(1, false); æ³›å‹ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼šå‡½æ•°ä¸ä¼ å€¼ï¼Œæ³›å‹ä½¿ç”¨é»˜è®¤æ³›å‹ 12345function func&lt;T = number, K = string&gt;(a: T, b: K): Array&lt;T | K&gt; { return [a, b];}func(); å®é™…åº”ç”¨å¯¹æ¥ä¸€ä¸‹è¯·æ±‚æ¥å£çš„æ•°æ® 12345678910111213141516171819202122232425const axios = { get&lt;T&gt;(url: string): Promise&lt;T&gt; { return new Promise((resolve, reject) =&gt; { let xhr: XMLHttpRequest = new XMLHttpRequest(); xhr.open(&quot;GET&quot;, url); xhr.onreadystatechange = () =&gt; { // 0~4, 4 ä»£è¡¨ complete if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) { resolve(JSON.parse(xhr.responseText)); } }; // å¿…é¡»æ»´ xhr.send(null); }); },};interface Data { message: string; code: number;}axios.get&lt;Data&gt;(&quot;./data.json&quot;).then((res) =&gt; { console.log(res);}); ä¼ å…¥Dataï¼Œè¿”å›Promise&lt;Data&gt;ï¼Œè¿™æ ·çš„è¯æœ‰çº¦æŸï¼Œè€Œä¸”.then()ä¹Ÿæœ‰æç¤º æ³›å‹çº¦æŸæ³›å‹æœ‰æ—¶å€™å¤ªè¿‡çµæ´» 12345function add&lt;T&gt;(a: T, b: T) { return a + b; // âŒ æŠ¥é”™ï¼Œä½†æ˜¯è¿™ç¡®å®æ­£ç¡®çš„è¡Œä¸º}add(undefined, undefined); // è¿™ä¸¤ä¸ªè‚¯å®šæ˜¯ä¸èƒ½ç›¸åŠ çš„ åŠ ä¸Šçº¦æŸ 123function add&lt;T extends number&gt;(a: T, b: T) { return a + b;} 123456789101112interface Len { length: number;}function fn&lt;T extends Len&gt;(a: T) { a.length;}fn(&quot;111&quot;); // âœ…fn([1, 2, 3]); // âœ…fn(123); // âŒfn(false); // âŒ 1234567891011let obj = { name: &quot;xm&quot;, age: 18,};// obj çº¦æŸä¸º object ç±»å‹ï¼Œkey çº¦æŸä¸º obj ä¸­çš„æŸä¸€ä¸ª key å€¼function ob&lt;T extends object, K extends keyof T&gt;(obj: T, key: K) { return obj[key];}ob(obj, &quot;name&quot;); keyofæ˜¯å°†å¯¹è±¡çš„ç±»å‹çš„key ä½œä¸ºä¸€ä¸ªè”åˆç±»å‹ æ³¨æ„ä¸æ˜¯ç›´æ¥ä½œç”¨åœ¨å¯¹è±¡èº«ä¸Šï¼Œå› ä¸ºå¯¹è±¡æ˜¯å¯¹å€¼ çš„å¼•ç”¨ï¼Œè€Œkeyofçš„ä½œç”¨å¯¹è±¡æ˜¯ç±»å‹ å¯ä»¥è¿™æ ·ä½¿ç”¨ 1type Key = keyof typeof obj; ğŸ™ƒkeyofçš„é«˜çº§ç”¨æ³• 1234567891011121314interface Data { name: string; age: number; gender: string;}// è¦ä½¿ Data ä¸­çš„æ¯ä¸€ä¸ªéƒ½å˜æˆå¯é€‰ï¼Œé™¤äº†ç»™æ¯ä¸ªåŠ ä¸Š ? ï¼Œè¿˜å¯ä»¥è¿™æ ·// ç±»ä¼¼äº for(let key in obj)type Options&lt;T extends object&gt; = { [Key in keyof T]?: T[Key]; // readonly [Key in keyof T]: T[Key]};type B = Options&lt;Data&gt;; è¿™æ—¶å€™type Bä¼šæ˜¯ 1234567type B = { message?: string | undefined; code?: number | undefined; name?: string | undefined; age?: number | undefined; gender?: string | undefined;}; å…¶å®ä½¿ç”¨Partialä¹Ÿå¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœ 1type C = Partial&lt;Data&gt;; readonlyçš„è¯ï¼Œå°±ä½¿ç”¨Readonly è£…é¥°å™¨ éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€ experimentalDecoratorså’ŒemitDecoratorMetadata è£…é¥°å™¨æœ‰ï¼š ç±»è£…é¥°å™¨ å±æ€§è£…é¥°å™¨ å‚æ•°è£…é¥°å™¨ æ–¹æ³•è£…é¥°å™¨ è£…é¥°å™¨å·¥å‚ ç±»è£…é¥°å™¨ï¼Œåœ¨ä¸ç ´ååŸæœ‰å†…å®¹çš„æƒ…å†µä¸‹ï¼ˆæˆ–è€…è¯´ä¸çŸ¥é“åŸæ¥æœ‰ä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼‰å¢åŠ å†…å®¹ 12345678910111213const Base: ClassDecorator = (target) =&gt; { target.prototype.xiaoman = &quot;å°æ»¡&quot;; target.prototype.fn = () =&gt; { console.log(&quot;æˆ‘æ˜¯æ†¨æ†¨&quot;); };};@Baseclass Http { //...}const http = new Http() as any;http.fn(); targetæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° è¿˜æœ‰å¦ä¸€ç§å†™æ³•æ˜¯ä¸ç”¨@Base 12345class Http { //...}const http = new Http() as any;Base(Http); â”â” å¦‚æœè¦å‘@Baseä¼ é€’å‚æ•°å‘¢ targetæ˜¯é»˜è®¤å­˜åœ¨çš„ï¼Œå¥½åƒäº‹ä»¶ç›‘å¬çš„äº‹ä»¶å¯¹è±¡ä¸€æ · å¯ä»¥ä½¿ç”¨å‡½æ•°æŸ¯é‡ŒåŒ– äº‹å…ˆå‚æ•°ä¼ é€’ å°±æ˜¯å†å¥—ä¸€å±‚å‡½æ•° å¤–é¢ä¸€å±‚å‡½æ•°æ¥æ”¶@Baseä¼ è¿‡æ¥çš„å‚æ•° é‡Œä¸€å±‚å‡½æ•°æ¥æ”¶é»˜è®¤å­˜åœ¨çš„å‚æ•° 1234567891011121314const Base = () =&gt; { const fn: ClassDecorator = (target) =&gt; { target.prototype.xiaoman = &quot;å°æ»¡&quot;; target.prototype.fn = () =&gt; { console.log(&quot;æˆ‘æ˜¯æ†¨æ†¨&quot;); }; }; return fn;};@Base(&quot;xb&quot;)class Http { //...} è¿™ä¸€æ‹›å«åšï¼šè£…é¥°å™¨å·¥å‚ã€å‡½æ•°æŸ¯é‡ŒåŒ–ã€é—­åŒ… å‡½æ•°è£…é¥°å™¨ 12345678910111213141516const Get = (url: string) =&gt; { const fn: MethodDecorator = (target, key, descriptor: PropertyDescriptor) =&gt; { axios.get(url).then((res) =&gt; { descriptor.value(res.data); }); }; return fn;};@Base(&quot;xb&quot;)class Http { @Get(&quot;https://xxxx.com/&quot;) getList(data: any) { console.log(data); }} æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œè£…é¥°å™¨è‡ªå·±çš„ å•¥ä¹Ÿä¸ç”¨åšï¼Œç›´æ¥è°ƒç”¨@Get()ä¼ é€’ä¸ªåœ°å€è¿‡å»å°±è¡Œäº† ç±»å‹å…¼å®¹é¸­å­ç±»å‹ï¼šä¸¤ä¸ªç±»å‹æœ‰å…±é€šçš„åœ°æ–¹ åå˜ï¼šå­ç±»å‹å¯ä»¥å®Œå…¨è¦†ç›–æ‰ä¸»ç±»å‹ï¼ˆå­ç±»å‹å¯ä»¥å¤šå†…å®¹ï¼Œä½†æ˜¯ä¸èƒ½å°‘å†…å®¹ï¼‰ 1234567891011121314151617181920212223242526// ä¸»ç±»å‹interface A { name: string; age: number;}// å­ç±»å‹interface B { name: string; age: number; sex: string;}let a: A = { name: &quot;xb&quot;, age: 18,};let b: B = { name: &quot;xh&quot;, age: 19, sex: &quot;man&quot;,};// åå˜ ï¼ˆå¯ä»¥èµ‹å€¼ï¼‰a = b; é€†å˜ï¼šä¸€èˆ¬åœ¨å‡½æ•°ä¸Šå‡ºç°ï¼ˆå’Œåå˜æ˜¯åè¿‡æ¥çš„ï¼‰ï¼Œç±»ä¼¼äºb = a 12345let fna = (params: A) =&gt; {};let fnb = (params: B) =&gt; {};fna = fnb; // âŒfnb = fna; // âœ… ï¼ˆåŒå‘åå˜ï¼‰é…ç½®æ–‡ä»¶å¼€å¯strictFunctionTypesè®¾ä¸ºfalseï¼Œç¬¬ä¸€ä¸ªèµ‹å€¼å¯ä»¥æˆç«‹ ç¬¬äºŒä¸ªä¹‹æ‰€ä»¥æˆç«‹ï¼Œå› ä¸ºèµ‹å€¼å®Œäº†åfnbå°±æ˜¯fna utilityRecord&lt;Keys, Type&gt; ç»„å»ºä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œè¿™ä¸ªå¯¹è±¡ç±»å‹çš„ key æ˜¯ ä¼ å…¥çš„ Keys ï¼Œå¯¹è±¡çš„å€¼æ˜¯ä¼ å…¥çš„ Type 1234567891011121314interface CatInfo { age: number; breed: string;}type CatName = &quot;miffy&quot; | &quot;boris&quot; | &quot;mordred&quot;;const cats: Record&lt;CatName, CatInfo&gt; = { miffy: { age: 10, breed: &quot;Persian&quot; }, boris: { age: 5, breed: &quot;Maine Coon&quot; }, mordred: { age: 16, breed: &quot;British Shorthair&quot; },};cats.boris; æ•´ç†æ¥æºï¼šğŸ“„ æˆ‘çš„ç¬”è®°ã€ğŸ“º bilibiliå°æ»¡zs","link":"/2023/08/12/Typescript-%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C-2-0/"},{"title":"Vueæ ·å¼ç¯‡","text":"ğŸ“¦ Vue3 style å…¨ç§°v-bind:styleï¼Œç®€å†™:style ğŸ˜ƒ å¦‚æœæ ·å¼éœ€è¦æµè§ˆå™¨å‰ç¼€ï¼ŒVue ä¼šè‡ªåŠ¨åŠ ä¸Š ä¹Ÿå¯ä»¥è‡ªå·±ä¼ é€’ 1&lt;div :style=&quot;{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }&quot;&gt;&lt;/div&gt; å¦‚æœæµè§ˆå™¨ä¸éœ€è¦å‰ç¼€ï¼Œç»“æœå°±åªæœ‰display: flex ä¼ é€’å¯¹è±¡ å¯ç”¨ camelCase æˆ–è€… kebab-cased ä½¿ç”¨:style=&quot;{}&quot;æˆ–è€…æ˜¯:style=&quot;[]&quot;ç»‘å®šçš„æ ·å¼ è®°å¾—å€¼ä¹Ÿéœ€è¦ç”¨ &quot;&quot;åŒ…ä½ï¼ŒReact ä¸­å°±ä¸ç”¨ã€‚å¦‚æœéœ€è¦ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼ŒåŒå¼•å·æ¢æˆ**`** å¸¸è§ä½¿ç”¨ï¼š 123456789101112const activeColor = ref(&quot;red&quot;);const fontSize = ref(30);const styleObject = reactive({ color: &quot;red&quot;, fontSize: &quot;13px&quot;,});const isBig = ref(false);const bigActive = computed(() =&gt; { isBig ? { fontSize: &quot;18px&quot; } : { fontSize: &quot;14px&quot; };}); 1234567&lt;div :style=&quot;{ color: activeColor, fontSize: fontSize + 'px' }&quot;&gt;&lt;/div&gt;&lt;div :style=&quot;{ 'font-size': fontSize + 'px' }&quot;&gt;&lt;/div&gt;&lt;div :style=&quot;styleObject&quot;&gt;&lt;/div&gt;&lt;div :style=&quot;isBig&quot;&gt;&lt;/div&gt; ä¼ é€’æ•°ç»„ åœ¨ JS ä¸­å†™å¥½çš„æ ·å¼å¯¹è±¡ä¼ é€’åˆ°è¡Œå†…çš„æ•°ç»„ä¸­ 1&lt;div :style=&quot;[baseStyles, overridingStyles]&quot;&gt;&lt;/div&gt; åœ¨ç»„ä»¶ä¸Šä½¿ç”¨styleï¼Œç»„ä»¶å†…çš„æ ¹å…ƒç´ ä¼šç»§æ‰¿ç»„ä»¶ä¸Šçš„æ ·å¼ã€‚ğŸ‘‰class é€ä¼  class å…¨ç§°v-bind:classï¼Œç®€å†™:class è®°å¾—å€¼ä¹Ÿéœ€è¦ç”¨ &quot;&quot;åŒ…ä½ classå’Œ:classå¯åŒæ—¶å­˜åœ¨ï¼Œæ¸²æŸ“ååˆå¹¶ 1&lt;div class=&quot;main-pane&quot; :class=&quot;{ active: isActive }&quot;&gt;&lt;/div&gt; æ ·å¼ç±»activeæ˜¯å¦å­˜åœ¨ï¼Œå–å†³äºisActiveæ˜¯å¦ä¸º true å’Œstyleä¸€æ ·ï¼Œæ”¯æŒç»‘å®šå¯¹è±¡æˆ–è€…è®¡ç®—å±æ€§ï¼Œä¹Ÿæ”¯æŒæ•°ç»„ ç»‘å®šæ•°ç»„çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥åœ¨æ•°ç»„é‡Œé¢åµŒå¥—å¯¹è±¡ 1&lt;div :class=&quot;[{ active: isActive }, errorClass]&quot;&gt;&lt;/div&gt; ç»„ä»¶ä¸Šçš„ classå¯¹äºå•æ ¹ç»„ä»¶ï¼Œç»„ä»¶ä¸Šçš„classä¼šå’Œç»„ä»¶å†…æ ¹å…ƒç´ çš„åˆå¹¶ 12&lt;!-- å­ç»„ä»¶æ¨¡æ¿ --&gt;&lt;p class=&quot;foo bar&quot;&gt;Hi!&lt;/p&gt; 12&lt;!-- åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ --&gt;&lt;MyComponent class=&quot;baz boo&quot; /&gt; æ¸²æŸ“ç»“æœ 1&lt;p class=&quot;foo bar baz boo&quot;&gt;Hi!&lt;/p&gt; å¯¹äºå¤šæ ¹ç»„ä»¶ï¼Œåœ¨ç»„ä»¶å†…éƒ¨éœ€è¦ä½¿ç”¨$attr.classæ¥æŒ‡å®šå“ªä¸ªæ ¹å…ƒç´ æ¥æ¥æ”¶ 123&lt;!-- MyComponent æ¨¡æ¿ä½¿ç”¨ $attrs æ—¶ --&gt;&lt;p :class=&quot;$attrs.class&quot;&gt;Hi!&lt;/p&gt;&lt;span&gt;This is a child component&lt;/span&gt; 1&lt;MyComponent class=&quot;baz&quot; /&gt; è¦åœ¨ JS ä¸­è·å–åˆ°ï¼Œå¯ä»¥é€šè¿‡useAttrs() åœ¨setupä¸­ 12345&lt;script setup&gt;import { useAttrs } from &quot;vue&quot;;const attrs = useAttrs();&lt;/script&gt; ä¸ç”¨setupçš„è¯ 123456export default { setup(props, ctx) { // é€ä¼  attribute è¢«æš´éœ²ä¸º ctx.attrs console.log(ctx.attrs); },}; ä¸èƒ½ç”¨ç›‘å¬å™¨æ¥ç›‘å¬ attrs çš„å˜åŒ– &lt;style&gt;æ ‡ç­¾css é¢„å¤„ç†å™¨&lt;style lang='xx'&gt;&lt;/style&gt;ï¼šxxä¸€èˆ¬ä¼šæœ‰ less, sass(ä½¿ç”¨çš„æ—¶å€™ä¼ scss)ã€‚ 12345&lt;style lang=&quot;scss&quot;&gt; .example { color: red; }&lt;/style&gt; æ ·å¼ä½œç”¨åŸŸ&lt;style scoped&gt;&lt;/style&gt;ï¼šä½¿å¾—é‡Œé¢çš„æ ·å¼ä»…åœ¨å½“å‰ç»„ä»¶å¯ç”¨ åœ¨åŒä¸€ç»„ä»¶ä¸­ï¼Œå¯å’Œä»£è¡¨å…¨å±€çš„&lt;style&gt;&lt;/style&gt;åŒæ—¶å­˜åœ¨ è°¨æ…ä½¿ç”¨åä»£é€‰æ‹©å™¨ 123456789&lt;style scoped&gt;.example { color: red;}&lt;/style&gt;&lt;template&gt; &lt;div class=&quot;example&quot;&gt;hi&lt;/div&gt;&lt;/template&gt; è½¬æ¢ä¸ºï¼š 123456789&lt;style&gt; .example[data-v-f3f3eg9] { color: red; }&lt;/style&gt;&lt;template&gt; &lt;div class=&quot;example&quot; data-v-f3f3eg9&gt;hi&lt;/div&gt;&lt;/template&gt; data-v-f3f3eg9 åé¢çš„å“ˆå¸Œå€¼æ ¹æ®æ–‡ä»¶çš„è·¯å¾„ç”Ÿæˆ ä½¿ç”¨äº†ä½œç”¨åŸŸä¹‹åï¼Œçˆ¶ç»„ä»¶æ ·å¼ä¸ä¼šå½±å“å­ç»„ä»¶ã€‚ä¸è¿‡ä¸ºäº†å¸ƒå±€è€ƒè™‘ï¼Œå­ç»„ä»¶çš„æ ¹èŠ‚ç‚¹ä¼šå—åˆ°å½±å“ æ·±åº¦é€‰æ‹©å™¨ï¼š:deep() åœ¨scopedä½œç”¨åŸŸé‡Œé¢ï¼Œè¦é€‰æ‹©å­ç»„ä»¶é‡Œé¢çš„å†…å®¹ï¼Œä½¿ç”¨ä¼ªç±»:deep() 12345678910&lt;style scoped&gt;.a :deep(.b) { /* ... */}/* å°†ä¼šç¼–è¯‘ä¸º */.a[data-v-f3f3eg9] .b { /* ... */}&lt;/style&gt; æ‹¬å·é‡Œé¢çš„å†…å®¹ä¸éœ€è¦ç”¨å¼•å·åŒ…èµ·æ¥ æ’æ§½é€‰æ‹©å™¨ï¼š:slotted é»˜è®¤æƒ…å†µä¸‹ï¼Œscopedä¸ä¼šå½±å“åˆ°&lt;slot/&gt;æ¸²æŸ“å‡ºæ¥çš„å†…å®¹ï¼Œå› ä¸ºå®ƒä»¬è¢«è®¤ä¸ºæ˜¯çˆ¶ç»„ä»¶æ‰€æŒæœ‰å¹¶ä¼ é€’è¿›æ¥çš„ã€‚ è¦æŒ‡å®šæ’æ§½çš„é¢å†…å®¹ 12345&lt;style scoped&gt;:slotted(div) { color: red;}&lt;/style&gt; å…¨å±€é€‰æ‹©å™¨ï¼š:global å°±æ˜¯è®©å½“å‰æŒ‡å®šçš„é€‰æ‹©å™¨é…ç½®çš„æ ·å¼å…¨å±€èŒƒå›´å†…ç”Ÿæ•ˆ 12345&lt;style scoped&gt;:global(.red) { color: red;}&lt;/style&gt; CSS Modules&lt;style module=&quot;xxx&quot;&gt;è¢«ç¼–è¯‘æˆ CSS Module åœ¨ CSS Module é‡Œçš„å†…å®¹ä¼šå˜æˆå¯¹è±¡ ç›´æ¥moduleï¼Œä½¿ç”¨é»˜è®¤åç§°$style è‡ªå®šä¹‰åç§°module=&quot;classes&quot; å¯åœ¨&lt;template&gt;å’Œ&lt;script setup&gt;ä¸­ä½¿ç”¨ åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ 123456789&lt;template&gt; &lt;p :class=&quot;$style.red&quot;&gt;This should be red&lt;/p&gt;&lt;/template&gt;&lt;style module&gt;.red { color: red;}&lt;/style&gt; ç»‘å®šçš„ classä¼šè¿›è¡Œå“ˆå¸ŒåŒ– åœ¨ setup ä¸­ä½¿ç”¨ 12345678import { useCssModule } from &quot;vue&quot;;// åœ¨ setup() ä½œç”¨åŸŸä¸­...// é»˜è®¤æƒ…å†µä¸‹, è¿”å› &lt;style module&gt; çš„ classuseCssModule();// å…·åæƒ…å†µä¸‹, è¿”å› &lt;style module=&quot;classes&quot;&gt; çš„ classuseCssModule(&quot;classes&quot;); CSS ä¸­çš„ v-bindåœ¨&lt;style&gt;ä¸­ç”¨æ¥ç»‘å®š&lt;script&gt;ä¸­çš„å€¼ 12345678910111213141516&lt;script setup&gt;const theme = { color: &quot;red&quot;,};&lt;/script&gt;&lt;template&gt; &lt;p&gt;hello&lt;/p&gt;&lt;/template&gt;&lt;style scoped&gt;p { // æ˜¯è¡¨è¾¾å¼ï¼Œå°±éœ€è¦ç”¨å¼•å·åŒ…èµ·æ¥ color: v-bind(&quot;theme.color&quot;);}&lt;/style&gt; åŠ¨ç”»Vue æä¾›ç»„ä»¶ &lt;Transition&gt; å’Œ &lt;TransitionGroup&gt; æ¥å¤„ç†å…ƒç´ çš„ è¿›å…¥ ç¦»å¼€ åˆ—è¡¨é¡ºåºå˜åŒ– çš„è¿‡æ¸¡æ•ˆæœ &lt;Transition&gt;ï¼Œç»„ä»¶æˆ–å…ƒç´ è¿›å…¥æˆ–ç¦»å¼€DOM æ—¶åº”ç”¨åŠ¨ç”» &lt;TransitionGroup&gt;ï¼Œåœ¨ä¸€ä¸ªv-foråˆ—è¡¨çš„å…ƒç´ æˆ–ç»„ä»¶è¢«æ’å…¥ï¼Œç§»åŠ¨ï¼Œåˆ é™¤æ—¶åº”ç”¨åŠ¨ç”» &lt;Transition&gt;ç»„ä»¶ ä»…æ”¯æŒå•ä¸ªå…ƒç´ æˆ–è€…ä¸€ä¸ªå•æ ¹ç»„ä»¶ åŠ¨ç”»é€šè¿‡é»˜è®¤æ’æ§½ä¼ é€’ç»™å®ƒåŒ…è£¹çš„å…ƒç´ æˆ–è€…ç»„ä»¶ä¸Šã€‚è§¦å‘æ¡ä»¶ï¼š v-if v-show &lt;component&gt;åˆ‡æ¢çš„æ—¶å€™ æ”¹å˜ç‰¹æ®Šçš„keyå±æ€§ æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ï¼š Vue ä¼šè‡ªåŠ¨æ£€æµ‹ç›®æ ‡å…ƒç´ æ˜¯å¦åº”ç”¨äº† CSS è¿‡æ¸¡æˆ–åŠ¨ç”»ã€‚åˆ™ä¸€äº› CSSè¿‡æ¸¡classï¼ˆv-enteré‚£äº›ï¼‰ä¼šåœ¨é€‚å½“çš„æ—¶æœºè¢«æ·»åŠ å’Œç§»é™¤ã€‚ å¦‚æœæœ‰ä½œä¸ºç›‘å¬å™¨çš„ JavaScripté’©å­ï¼Œè¿™äº›é’©å­å‡½æ•°ä¼šåœ¨é€‚å½“æ—¶æœºè¢«è°ƒç”¨ã€‚ ä¸Šé¢ä¸¤ç‚¹éƒ½æ²¡ï¼Œé‚£ä¹ˆ DOM çš„æ’å…¥ã€åˆ é™¤æ“ä½œå°†åœ¨æµè§ˆå™¨çš„ä¸‹ä¸€ä¸ªåŠ¨ç”»å¸§åæ‰§è¡Œã€‚ ğŸš— å¯ç”¨çš„å±æ€§å’Œäº‹ä»¶ å±æ€§ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950interface TransitionProps { /** * ç”¨äºè‡ªåŠ¨ç”Ÿæˆè¿‡æ¸¡ CSS class åã€‚ * ä¾‹å¦‚ `name: 'fade'` å°†è‡ªåŠ¨æ‰©å±•ä¸º `.fade-enter`ã€ * `.fade-enter-active` ç­‰ã€‚ */ name?: string; /** * æ˜¯å¦åº”ç”¨ CSS è¿‡æ¸¡ classã€‚ * é»˜è®¤ï¼štrue */ css?: boolean; /** * æŒ‡å®šè¦ç­‰å¾…çš„è¿‡æ¸¡äº‹ä»¶ç±»å‹ * æ¥ç¡®å®šè¿‡æ¸¡ç»“æŸçš„æ—¶é—´ã€‚ * é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ£€æµ‹ * æŒç»­æ—¶é—´è¾ƒé•¿çš„ç±»å‹ã€‚ */ type?: &quot;transition&quot; | &quot;animation&quot;; /** * æ˜¾å¼æŒ‡å®šè¿‡æ¸¡çš„æŒç»­æ—¶é—´ã€‚ * é»˜è®¤æƒ…å†µä¸‹æ˜¯ç­‰å¾…è¿‡æ¸¡æ•ˆæœçš„æ ¹å…ƒç´ çš„ç¬¬ä¸€ä¸ª `transitionend` * æˆ–`animationend`äº‹ä»¶ã€‚ */ duration?: number | { enter: number; leave: number }; /** * æ§åˆ¶ç¦»å¼€/è¿›å…¥è¿‡æ¸¡çš„æ—¶åºã€‚ * é»˜è®¤æƒ…å†µä¸‹æ˜¯åŒæ—¶çš„ã€‚ */ mode?: &quot;in-out&quot; | &quot;out-in&quot; | &quot;default&quot;; /** * æ˜¯å¦å¯¹åˆå§‹æ¸²æŸ“ä½¿ç”¨è¿‡æ¸¡ã€‚ * é»˜è®¤ï¼šfalse */ appear?: boolean; /** * ç”¨äºè‡ªå®šä¹‰è¿‡æ¸¡ class çš„ propã€‚ * åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çŸ­æ¨ªçº¿å‘½åï¼Œä¾‹å¦‚ï¼šenter-from-class=&quot;xxx&quot; */ enterFromClass?: string; enterActiveClass?: string; enterToClass?: string; appearFromClass?: string; appearActiveClass?: string; appearToClass?: string; leaveFromClass?: string; leaveActiveClass?: string; leaveToClass?: string;} äº‹ä»¶ @before-enter @before-leave @enter @leave @appear @after-enter @after-leave @after-appear @enter-cancelled @leave-cancelled (v-show only) @appear-cancelled åŸºäº CSS çš„è¿‡æ¸¡æ•ˆæœCSS è¿‡æ¸¡ classå›¾ç‰‡æ¥è‡ª Vue - Transition v-enter-fromï¼šè¿›å…¥åŠ¨ç”»çš„èµ·å§‹çŠ¶æ€ã€‚åœ¨å…ƒç´ æ’å…¥ä¹‹å‰æ·»åŠ ï¼Œåœ¨å…ƒç´ æ’å…¥å®Œæˆåçš„ä¸‹ä¸€å¸§ç§»é™¤ã€‚ v-enter-activeï¼šè¿›å…¥åŠ¨ç”»çš„ç”Ÿæ•ˆçŠ¶æ€ã€‚åº”ç”¨äºæ•´ä¸ªè¿›å…¥åŠ¨ç”»é˜¶æ®µã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰æ·»åŠ ï¼Œåœ¨è¿‡æ¸¡æˆ–åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ª class å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿›å…¥åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€å»¶è¿Ÿä¸é€Ÿåº¦æ›²çº¿ç±»å‹ã€‚ v-enter-toï¼šè¿›å…¥åŠ¨ç”»çš„ç»“æŸçŠ¶æ€ã€‚åœ¨å…ƒç´ æ’å…¥å®Œæˆåçš„ä¸‹ä¸€å¸§è¢«æ·»åŠ  (ä¹Ÿå°±æ˜¯ v-enter-from è¢«ç§»é™¤çš„åŒæ—¶)ï¼Œåœ¨è¿‡æ¸¡æˆ–åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚ v-leave-fromï¼šç¦»å¼€åŠ¨ç”»çš„èµ·å§‹çŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡æ•ˆæœè¢«è§¦å‘æ—¶ç«‹å³æ·»åŠ ï¼Œåœ¨ä¸€å¸§åè¢«ç§»é™¤ã€‚ v-leave-activeï¼šç¦»å¼€åŠ¨ç”»çš„ç”Ÿæ•ˆçŠ¶æ€ã€‚åº”ç”¨äºæ•´ä¸ªç¦»å¼€åŠ¨ç”»é˜¶æ®µã€‚åœ¨ç¦»å¼€è¿‡æ¸¡æ•ˆæœè¢«è§¦å‘æ—¶ç«‹å³æ·»åŠ ï¼Œåœ¨è¿‡æ¸¡æˆ–åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ª class å¯ä»¥è¢«ç”¨æ¥å®šä¹‰ç¦»å¼€åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€å»¶è¿Ÿä¸é€Ÿåº¦æ›²çº¿ç±»å‹ã€‚ v-leave-toï¼šç¦»å¼€åŠ¨ç”»çš„ç»“æŸçŠ¶æ€ã€‚åœ¨ä¸€ä¸ªç¦»å¼€åŠ¨ç”»è¢«è§¦å‘åçš„ä¸‹ä¸€å¸§è¢«æ·»åŠ  (ä¹Ÿå°±æ˜¯ v-leave-from è¢«ç§»é™¤çš„åŒæ—¶)ï¼Œåœ¨è¿‡æ¸¡æˆ–åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚ ä½¿ç”¨nameå±æ€§å£°æ˜ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœåæ¥ä»£æ›¿å‰ç¼€v: 123&lt;Transition name=&quot;fade&quot;&gt; ...&lt;/Transition&gt; nameå¯åŠ¨æ€ç»‘å®š æ­é… css è‡ªå·±çš„ tansition å±æ€§ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨ css çš„animationï¼Œä¸€èˆ¬éƒ½åœ¨*-enter-activeå’Œ*-leaveä¸­ä½¿ç”¨ åŒæ—¶ä½¿ç”¨transitionå’Œanimationï¼Œéœ€è¦åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨typeå±æ€§ä¼ å…¥ä¸¤è€…ä¹‹ä¸€ï¼Œä»¥å‘Šè¯‰ Vue éœ€è¦å…³æ³¨å“ªç§åŠ¨ç”»ç±»å‹ 12345678910111213141516171819202122232425/* è¿›å…¥å’Œç¦»å¼€åŠ¨ç”»å¯ä»¥ä½¿ç”¨ä¸åŒ æŒç»­æ—¶é—´å’Œé€Ÿåº¦æ›²çº¿ã€‚*/.fade-enter-active { transition: all 0.3s ease-out; /** æˆ–è€… */ animation: bounce-in 0.5s;}.fade-leave-active { transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1); /** æˆ–è€… */ animation: bounce-in 0.5s reverse;}.fade-enter-from,.fade-leave-to { transform: translateX(20px); opacity: 0;}@keyframes bounce-in { /** */} ğŸ‡ åŠ¨ç”»æ•ˆæœä¼šç›´æ¥åº”ç”¨åœ¨å­å…ƒç´ ä¸Šï¼Œæ­¤å¤–è¿˜å¯ä»¥é€‰æ‹©æŒ‡å®šæ›´æ·±å±‚æ¬¡çš„å­å…ƒç´ æ¥è§¦å‘åŠ¨ç”»æ•ˆæœ 1234567&lt;Transition name=&quot;nested&quot;&gt; &lt;div v-if=&quot;show&quot; class=&quot;outer&quot;&gt; &lt;div class=&quot;inner&quot;&gt; Hello &lt;/div&gt; &lt;/div&gt;&lt;/Transition&gt; 123456789101112/* åº”ç”¨äºåµŒå¥—å…ƒç´ çš„è§„åˆ™ */.nested-enter-active .inner,.nested-leave-active .inner { transition: all 0.3s ease-in-out;}.nested-enter-from .inner,.nested-leave-to .inner { transform: translateX(30px); opacity: 0;}/* ... çœç•¥äº†å…¶ä»–å¿…è¦çš„ CSS */ è¿˜å¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥ï¼Œæ·»åŠ ä¸€ä¸ªè¿‡æ¸¡å»¶è¿Ÿï¼Œä»¥è·å¾—äº¤é”™æ•ˆæœ 1234/* å»¶è¿ŸåµŒå¥—å…ƒç´ çš„è¿›å…¥ä»¥è·å¾—äº¤é”™æ•ˆæœ */.nested-enter-active .inner { transition-delay: 0.25s;} é€šè¿‡å‘æ ‡ç­¾ä¼ é€’durationæ¥æŒ‡å®šè¿‡æ¸¡çš„æŒç»­æ—¶é—´ï¼Œä»¥ç¡®ä¿è¿™ä¸ªå»¶è¿Ÿä¼šåœ¨è¿™ä¸ªåŠ¨ç”»å‘¨æœŸä¸­ç”Ÿæ•ˆï¼ˆå¦‚æœåœ¨transitionendå’Œanimationendæ—¶é—´ç»“æŸäº†ï¼Œå»¶è¿Ÿéƒ½æ²¡åˆ°æ¥ï¼‰ 123&lt;Transition :duration=&quot;550&quot;&gt;...&lt;/Transition&gt;&lt;!-- ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ¥åˆ†åˆ«æŒ‡å®šè¿›å…¥å’Œç¦»å¼€ --&gt;&lt;Transition :duration=&quot;{ enter: 500, leave: 800 }&quot;&gt;...&lt;/Transition&gt; è‡ªå®šä¹‰è¿‡æ¸¡ classå‘ &lt;Transition&gt; ä¼ é€’ä»¥ä¸‹çš„ props æ¥æŒ‡å®šè‡ªå®šä¹‰çš„è¿‡æ¸¡ classï¼š enter-from-class enter-active-class enter-to-class leave-from-class leave-active-class leave-to-class åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹ CSS åŠ¨ç”»åº“çš„æ—¶å€™éå¸¸æœ‰ç”¨ 12345678&lt;!-- å‡è®¾ä½ å·²ç»åœ¨é¡µé¢ä¸­å¼•å…¥äº† Animate.css --&gt;&lt;Transition name=&quot;custom-classes&quot; enter-active-class=&quot;animate__animated animate__tada&quot; leave-active-class=&quot;animate__animated animate__bounceOutRight&quot;&gt; &lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;&lt;/Transition&gt; JavaScript é’©å­ä¹Ÿå¯ä¸å¬è¿‡ç›‘å¬&lt;Transition&gt;ç»„ä»¶ä¸Šçš„äº‹ä»¶æ¥å®ç°åŠ¨ç”» 123456789101112&lt;Transition @before-enter=&quot;onBeforeEnter&quot; @enter=&quot;onEnter&quot; @after-enter=&quot;onAfterEnter&quot; @enter-cancelled=&quot;onEnterCancelled&quot; @before-leave=&quot;onBeforeLeave&quot; @leave=&quot;onLeave&quot; @after-leave=&quot;onAfterLeave&quot; @leave-cancelled=&quot;onLeaveCancelled&quot;&gt; &lt;!-- ... --&gt;&lt;/Transition&gt; 123456789101112131415161718192021222324252627282930313233343536// åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM ä¹‹å‰è¢«è°ƒç”¨// ç”¨è¿™ä¸ªæ¥è®¾ç½®å…ƒç´ çš„ &quot;enter-from&quot; çŠ¶æ€function onBeforeEnter(el) {}// åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM ä¹‹åçš„ä¸‹ä¸€å¸§è¢«è°ƒç”¨// ç”¨è¿™ä¸ªæ¥å¼€å§‹è¿›å…¥åŠ¨ç”»function onEnter(el, done) { // è°ƒç”¨å›è°ƒå‡½æ•° done è¡¨ç¤ºè¿‡æ¸¡ç»“æŸ // å¦‚æœä¸ CSS ç»“åˆä½¿ç”¨ï¼Œåˆ™è¿™ä¸ªå›è°ƒæ˜¯å¯é€‰å‚æ•° done();}// å½“è¿›å…¥è¿‡æ¸¡å®Œæˆæ—¶è°ƒç”¨ã€‚function onAfterEnter(el) {}// å½“è¿›å…¥è¿‡æ¸¡åœ¨å®Œæˆä¹‹å‰è¢«å–æ¶ˆæ—¶è°ƒç”¨function onEnterCancelled(el) {}// åœ¨ leave é’©å­ä¹‹å‰è°ƒç”¨// å¤§å¤šæ•°æ—¶å€™ï¼Œä½ åº”è¯¥åªä¼šç”¨åˆ° leave é’©å­function onBeforeLeave(el) {}// åœ¨ç¦»å¼€è¿‡æ¸¡å¼€å§‹æ—¶è°ƒç”¨// ç”¨è¿™ä¸ªæ¥å¼€å§‹ç¦»å¼€åŠ¨ç”»function onLeave(el, done) { // è°ƒç”¨å›è°ƒå‡½æ•° done è¡¨ç¤ºè¿‡æ¸¡ç»“æŸ // å¦‚æœä¸ CSS ç»“åˆä½¿ç”¨ï¼Œåˆ™è¿™ä¸ªå›è°ƒæ˜¯å¯é€‰å‚æ•° done();}// åœ¨ç¦»å¼€è¿‡æ¸¡å®Œæˆã€// ä¸”å…ƒç´ å·²ä» DOM ä¸­ç§»é™¤æ—¶è°ƒç”¨function onAfterLeave(el) {}// ä»…åœ¨ v-show è¿‡æ¸¡ä¸­å¯ç”¨function onLeaveCancelled(el) {} ä½¿ç”¨ä»…ç”± JavaScript æ‰§è¡Œçš„åŠ¨ç”»æ—¶ï¼Œå¯æ·»åŠ ä¸€ä¸ª :css=&quot;false&quot;ï¼Œå‘Šè¯‰ Vue å¯è·³è¿‡å¯¹ CSS è¿‡æ¸¡çš„è‡ªåŠ¨æ£€æµ‹ã€‚ä½¿ç”¨ä¹‹åï¼š @enterå’Œ@leaveå›è°ƒå‡½æ•°doneæ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™é’©å­ä¼šè¢«åŒæ­¥è°ƒç”¨ï¼Œè¿‡æ¸¡å°†ç«‹å³å®Œæˆ å¯å¤ç”¨ğŸ˜ƒ å¯ä»¥å‘æ ‡ç­¾é‡Œé¢ä¼ é€’&lt;slot&gt;æ¥å°è£…æˆå¯å¤ç”¨çš„è¿‡æ¸¡ç»„ä»¶ 1234567891011121314151617181920&lt;!-- MyTransition.vue --&gt;&lt;script&gt;// JavaScript é’©å­é€»è¾‘...&lt;/script&gt;&lt;template&gt; &lt;!-- åŒ…è£…å†…ç½®çš„ Transition ç»„ä»¶ --&gt; &lt;Transition name=&quot;my-transition&quot; @enter=&quot;onEnter&quot; @leave=&quot;onLeave&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;!-- å‘å†…ä¼ é€’æ’æ§½å†…å®¹ --&gt; &lt;/Transition&gt;&lt;/template&gt;&lt;style&gt;/* å¿…è¦çš„ CSS... æ³¨æ„ï¼šé¿å…åœ¨è¿™é‡Œä½¿ç”¨ &lt;style scoped&gt; å› ä¸ºé‚£ä¸ä¼šåº”ç”¨åˆ°æ’æ§½å†…å®¹ä¸Š*/&lt;/style&gt; 123&lt;MyTransition&gt; &lt;div v-if=&quot;show&quot;&gt;Hello&lt;/div&gt;&lt;/MyTransition&gt; å…¶ä»–è¿‡æ¸¡æ•ˆæœå‡ºç°æ—¶è¿‡æ¸¡ åˆæ¬¡æ¸²æŸ“æ—¶åº”ç”¨ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœ 123&lt;Transition appear&gt; ...&lt;/Transition&gt; å…ƒç´ é—´è¿‡æ¸¡ ä½¿ç”¨ v-if / v-else / v-else-ifåœ¨å‡ ä¸ªç»„ä»¶ä¹‹é—´åˆ‡æ¢ 12345&lt;Transition&gt; &lt;button v-if=&quot;docState === 'saved'&quot;&gt;Edit&lt;/button&gt; &lt;button v-else-if=&quot;docState === 'edited'&quot;&gt;Save&lt;/button&gt; &lt;button v-else-if=&quot;docState === 'editing'&quot;&gt;Cancel&lt;/button&gt;&lt;/Transition&gt; è¿‡æ¸¡æ¨¡å¼ æƒ³å…ˆæ‰§è¡Œç¦»å¼€åŠ¨ç”»ï¼Œç­‰å®ƒå®Œæˆä¹‹ååœ¨æ‰§è¡Œå…ƒç´ çš„è¿›å…¥åŠ¨ç”» 123&lt;Transition mode=&quot;out-in&quot;&gt; ...&lt;/Transition&gt; ä¹Ÿæ”¯æŒin-outï¼Œä½†æ˜¯ä¸å¸¸ç”¨ ç»„ä»¶ä¹‹é—´è¿‡æ¸¡ 123&lt;Transition name=&quot;fade&quot; mode=&quot;out-in&quot;&gt; &lt;component :is=&quot;activeComponent&quot;&gt;&lt;/component&gt;&lt;/Transition&gt; æ€§èƒ½è€ƒè™‘å¤šæ•°ä½¿ç”¨transformå’Œopacity å› ä¸ºä¸ä¼šå½±å“åˆ° DOM ç»“æ„ å¤šæ•°ç°ä»£æµè§ˆå™¨çš„transformåŠ¨ç”»ä¼šä½¿ç”¨ GPU è¿›è¡Œç¡¬ä»¶åŠ é€Ÿ ç›¸æ¯”ä¹‹ä¸‹heightã€marginè¿™äº›ä¼šè§¦å‘ CSS å¸ƒå±€å˜åŠ¨ï¼Œè®¡ç®—æ¶ˆè€—å°±é«˜äº†ã€‚ğŸŒ æŸ¥çœ‹æ›´å¤š &lt;TransitionGroup&gt;ç»„ä»¶å’Œ&lt;Transition&gt;åŸºæœ¬ç›¸åŒçš„å±æ€§ã€CSS è¿‡æ¸¡ classã€JavaScript é’©å­ åŒºåˆ«ï¼š é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šç”Ÿæˆå®¹å™¨å…ƒç´ ï¼›é€šè¿‡tagæŒ‡å®šä¸€ä¸ªå…ƒç´ ä½œä¸ºå®¹å™¨å…ƒç´ æ¥æ¸²æŸ“ï¼ˆå¤–å±‚è‡ªåŠ¨ç”Ÿæˆçš„åŒ…è£¹å±‚ï¼‰ _è¿‡æ¸¡æ¨¡å¼_ï¼ˆmodeï¼‰ä¸å¯ç”¨ åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ éœ€è¦æœ‰å”¯ä¸€key CSS è¿‡æ¸¡ class ä¼šè¢«åº”ç”¨åœ¨åˆ—è¡¨ä¸Šè€Œä¸æ˜¯å®¹å™¨å…ƒç´ ä¸Š åœ¨DOM æ¨¡æ¿ï¼ˆhtml æ–‡ä»¶æˆ–è€… JS ç‰‡æ®µï¼‰ä¸­ä½¿ç”¨æ—¶ï¼Œéœ€è¦ä½¿ç”¨&lt;transition-group&gt; 12345&lt;TransitionGroup name=&quot;list&quot; tag=&quot;ul&quot;&gt; &lt;li v-for=&quot;item in items&quot; :key=&quot;item&quot;&gt; {{ item }} &lt;/li&gt;&lt;/TransitionGroup&gt; 1234567891011121314151617.list-move, /* å¯¹ç§»åŠ¨ä¸­çš„å…ƒç´ åº”ç”¨çš„è¿‡æ¸¡ */.list-enter-active,.list-leave-active { transition: all 0.5s ease;}.list-enter-from,.list-leave-to { opacity: 0; transform: translateX(30px);}/* ç¡®ä¿å°†ç¦»å¼€çš„å…ƒç´ ä»å¸ƒå±€æµä¸­åˆ é™¤ ä»¥ä¾¿èƒ½å¤Ÿæ­£ç¡®åœ°è®¡ç®—ç§»åŠ¨çš„åŠ¨ç”»ã€‚ */.list-leave-active { position: absolute;} äº‹ä»¶å’Œ&lt;Transition&gt;ä¸€æ · å±æ€§å¯¹æ¯”&lt;Transition&gt;å°‘äº†modeï¼Œå…¶ä»–ä¸€æ ·ï¼Œå¹¶ä¸”å¤šäº†ä¸¤ä¸ªï¼š 1234567891011interface TransitionGroupProps extends Omit&lt;TransitionProps, &quot;mode&quot;&gt; { /** * å¦‚æœæœªå®šä¹‰ï¼Œåˆ™æ¸²æŸ“ä¸ºç‰‡æ®µ (fragment)ã€‚ */ tag?: string; /** * ç”¨äºè‡ªå®šä¹‰è¿‡æ¸¡æœŸé—´è¢«åº”ç”¨çš„ CSS classã€‚ * åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ kebab-caseï¼Œä¾‹å¦‚ move-class=&quot;xxx&quot; */ moveClass?: string;} æ¸è¿›å»¶è¿Ÿåˆ—è¡¨åŠ¨ç”» é€šè¿‡è¯»å–å…ƒç´ çš„ data attribute æŠŠæ¯ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ¸²æŸ“ä¸ºè¯¥å…ƒç´ ä¸Šçš„ä¸€ä¸ª data attribute 123456789101112131415&lt;TransitionGroup tag=&quot;ul&quot; :css=&quot;false&quot; @before-enter=&quot;onBeforeEnter&quot; @enter=&quot;onEnter&quot; @leave=&quot;onLeave&quot;&gt; &lt;li v-for=&quot;(item, index) in computedList&quot; :key=&quot;item.msg&quot; :data-index=&quot;index&quot; &gt; {{ item.msg }} &lt;/li&gt;&lt;/TransitionGroup&gt; åœ¨ JavaScript é’©å­ä¸­ï¼ŒåŸºäºå½“å‰å…ƒç´ çš„ data attribute å¯¹å…ƒç´ çš„è¿›åœºåŠ¨ç”»æ·»åŠ ä¸€ä¸ªå»¶è¿Ÿ 12345678function onEnter(el, done) { gsap.to(el, { opacity: 1, height: &quot;1.6em&quot;, delay: el.dataset.index * 0.15, onComplete: done, });}","link":"/2023/09/19/Vue%E6%A0%B7%E5%BC%8F%E7%AF%87/"},{"title":"Vue Propsç¯‡","text":"ğŸŒ¤ï¸ Vue3 ç›¸æ¯”äºç»„ä»¶å†…çš„çŠ¶æ€ ref å’Œ reactiveï¼Œprops ç”¨æ¥åœ¨ç»„ä»¶ä¹‹é—´ä¼ å€¼ï¼ˆçˆ¶ç»„ä»¶ -&gt; å­ç»„ä»¶ï¼‰ å£°æ˜â—â— defineProps()å®ä¸­çš„å‚æ•°ä¸å¯è®¿é—®&lt;script setup&gt;ä¸­å®šä¹‰çš„å…¶ä»–å˜é‡ï¼Œå› ä¸ºåœ¨ç¼–è¯‘æ—¶æ•´ä¸ªè¡¨è¾¾å¼éƒ½ä¼šè¢«ç§»åˆ°å¤–éƒ¨çš„å‡½æ•°ä¸­ã€‚ æ™®é€šğŸ‡ åœ¨å•æ–‡ä»¶ç»„ä»¶çš„&lt;script setup&gt;ä¸­ 1234567891011121314&lt;script setup&gt;// å•çº¯çš„å£°æ˜const props = defineProps([&quot;foo&quot;]);console.log(props.foo);// å£°æ˜æ—¶æŒ‡å®šå¯¹åº”ç±»å‹çš„ æ„é€ å‡½æ•°const props2 = defineProps({ title: { type: String, required: true }, likes: Number,});props2.title; // stringprops2.likes; // number | undefined&lt;/script&gt; å¦‚æœåªåœ¨æ¨¡æ¿ï¼ˆ&lt;template&gt;ï¼‰ä¸­ä½¿ç”¨ï¼Œå¯ä¸ç”¨å£°æ˜å˜é‡propsï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨foo å¤§å†™Stringå’Œå°å†™stringä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼›å¤§å†™æ˜¯ JavaScript ä¸­çš„æ„é€ å‡½æ•°ï¼Œå°å†™ç”¨åœ¨ TypeScriptï¼Œæ˜¯å­—ç¬¦ä¸²ç±»å‹ ğŸ‡ å¦‚æœæ²¡æœ‰ä½¿ç”¨&lt;script setup&gt; 1234567export default { props: [&quot;foo&quot;], setup(props) { // setup() æ¥æ”¶ props ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•° console.log(props.foo); },}; ğŸ‡ æˆ–è€…åœ¨JSXè¯­æ³•ä¸­ 12345678import { defineComponent } from &quot;vue&quot;;export default defineComponent({ props: { msg: { type: String, required: true } }, setup(props: { msg: string }) { return () =&gt; &lt;span class={&quot;error-tips&quot;}&gt;{props.msg}&lt;/span&gt;; },}); TS ä¸­ğŸª„ ä¸Šé¢ä½¿ç”¨æ„é€ å‡½æ•°å£°æ˜ props çš„å«åšè¿è¡Œæ—¶å£°æ˜ï¼Œæ¥ä¸‹æ¥ç”¨ä½œæ³›å‹ä¼ é€’ç»™&lt;&gt;çš„æ–¹å¼å«åšåŸºäºç±»å‹çš„å£°æ˜ ä¸¤ç§æ–¹å¼ä¸èƒ½åŒæ—¶ä½¿ç”¨ å°±åƒåˆ›å»ºæ¥å£å¯¹è±¡ä¸€æ · 123456&lt;script setup lang=&quot;ts&quot;&gt;defineProps&lt;{ title: string; likes?: number;}&gt;();&lt;/script&gt; å¯ä»¥ç›´æ¥æå–æˆinterface 123456interface Props { title: string; likes?: number;}definedProps&lt;Props&gt;(); ğŸ‡ å¤šè¡Œä¹¦å†™æ—¶;å¯çœç•¥ã€‚ç”±äºé™åˆ¶ï¼Œå½“å‰æ¡ä»¶ç±»å‹ä»…å¯æŒ‡å®šå•ä¸ªå±æ€§ï¼Œä¸èƒ½æŒ‡å®šæ•´ä¸ª props å¯¹è±¡ æ ¡éªŒæ™®é€šæ¨¡å¼ä¸­ï¼Œæ£€éªŒä¸æ˜¯å¿…é¡»çš„ï¼Œä¸è¿›è¡Œæ ¡éªŒçš„è¯ç›´æ¥ä¼ é€’å­—ç¬¦ä¸²æ•°ç»„å°±è¡Œï¼š 1defineProps([&quot;name&quot;, &quot;age&quot;, &quot;isShow&quot;]); æ™®é€š typeæŒ‡å®špropsç±»å‹ requiredä¸ºtrueæŒ‡å®šä¸ºå¿…ä¼  propsï¼Œfalseä»£è¡¨é»˜è®¤å¯é€‰ defaultæŒ‡å®šé»˜è®¤å€¼ ä½¿ç”¨typeæŒ‡å®šç±»å‹ï¼Œè¿™äº›ç±»å‹æ—¶åŸç”Ÿ JavaScript çš„æ„é€ å‡½æ•°ï¼š ğŸŒ¸ ğŸŒº ğŸµï¸ ğŸª· String Number Boolean Array Object Date Function Symbol `` é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç±»æˆ–è€…æ„é€ å‡½æ•°æ¥ç”¨ä½œ props çš„ç±»å‹ï¼ŒVue ä¼šé€šè¿‡instanceofæ¥æ£€æŸ¥ï¼š 12345678910class Person { constructor(firstName, lastName) { this.firstName = firstName; this.lastName = lastName; }}defineProps({ author: Person,}); Vue æ ¡éªŒçš„æ—¶å€™ä¼šä½¿ç”¨åˆ°instanceof Person æ ¡éªŒé€‰é¡¹å‚è€ƒï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243defineProps({ // åŸºç¡€ç±»å‹æ£€æŸ¥ // ï¼ˆç»™å‡º `null` å’Œ `undefined` å€¼åˆ™ä¼šè·³è¿‡ä»»ä½•ç±»å‹æ£€æŸ¥ï¼‰ propA: Number, // å¤šç§å¯èƒ½çš„ç±»å‹ propB: [String, Number], // å¿…ä¼ ï¼Œä¸”ä¸º String ç±»å‹ propC: { type: String, required: true, }, // Number ç±»å‹çš„é»˜è®¤å€¼ propD: { type: Number, default: 100, }, // å¯¹è±¡ç±»å‹çš„é»˜è®¤å€¼ propE: { type: Object, // å¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤å€¼ // å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›ã€‚ // è¯¥å‡½æ•°æ¥æ”¶ç»„ä»¶æ‰€æ¥æ”¶åˆ°çš„åŸå§‹ prop ä½œä¸ºå‚æ•°ã€‚ default(rawProps) { return { message: &quot;hello&quot; }; }, }, // è‡ªå®šä¹‰ç±»å‹æ ¡éªŒå‡½æ•° propF: { validator(value) { // The value must match one of these strings return [&quot;success&quot;, &quot;warning&quot;, &quot;danger&quot;].includes(value); }, }, // å‡½æ•°ç±»å‹çš„é»˜è®¤å€¼ propG: { type: Function, // ä¸åƒå¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ª // å·¥å‚å‡½æ•°ã€‚è¿™ä¼šæ˜¯ä¸€ä¸ªç”¨æ¥ä½œä¸ºé»˜è®¤å€¼çš„å‡½æ•° default() { return &quot;Default function&quot;; }, },}); TSä½¿ç”¨åˆ°äº† TypeScript å°±è¯´æ˜æ˜¯åœ¨æ ¡éªŒäº†ï¼š 1234defineProps&lt;{ foo: string; // å­—ç¬¦ä¸²ç±»å‹ bar?: number; // å¯é€‰}&gt;(); é»˜è®¤å€¼ï¼šéœ€è¦ä½¿ç”¨withDefaultsç¼–è¯‘å® 123456789export interface Props { msg?: string; labels?: string[];}const props = withDefaults(defineProps&lt;Props&gt;(), { msg: &quot;hello&quot;, labels: () =&gt; [&quot;one&quot;, &quot;two&quot;],}); åœ¨é&lt;script setup&gt;çš„æƒ…å†µä¸‹1234567891011import { defineComponent } from &quot;vue&quot;;export default defineComponent({ props: { message: String, }, // setupçš„propså‚æ•°ä¼šä»ä¸Šé¢æ¨æ–­ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä¸ç”¨æŒ‡å®šç±»å‹ setup(props) { props.message; // &lt;-- ç±»å‹ï¼šstring },}); å¤æ‚çš„ props ç±»å‹ğŸ¤” åˆšæ¥è§¦çš„æ—¶å€™è¿˜æŒºå®¹æ˜“æ··æ·† ç®€å•çš„æƒ…å†µï¼š 123456789&lt;script setup lang=&quot;ts&quot;&gt;interface Book { title: string; author: string; year: number;}const props = defineProps&lt;Book&gt;();&lt;/script&gt; props å°†ä¼šæœ‰ title,author,year å¤æ‚çš„æƒ…å†µï¼Œå®åˆ™æ˜¯å†åµŒå¥—ï¼š 1234567891011&lt;script setup lang=&quot;ts&quot;&gt;interface Book { title: string; author: string; year: number;}const props = defineProps&lt;{ book: Book;}&gt;();&lt;/script&gt; ç°åœ¨æ˜¯ props åªæœ‰ book ä¸€ä¸ªï¼Œç„¶å book ä¸‹é¢æ‰æœ‰è¿™ä¸‰ä¸ªå±æ€§ å³æ™®é€šåˆ TSæƒ³ç”¨ä¸€å®šçš„ TypeScript ç±»å‹æ£€æŸ¥ï¼Œä½†æ˜¯åˆä¸æƒ³ä¼ é€’èŒƒå¼ï¼ˆ&lt;T&gt;ï¼‰ï¼Œä¼šè¿™æ ·ä½¿ç”¨ã€‚é€šå¸¸åœ¨åœ¨Options APIä¸­å‡ºç° éœ€è¦å¯¼å…¥å·¥å…·ç±»å‹PropType 12345import type { PropType } from &quot;vue&quot;;const props = defineProps({ book: Object as PropType&lt;Book&gt;,}); ä½¿ç”¨ğŸ‡ åœ¨&lt;script&gt;ä¸­ä½¿ç”¨çš„æ—¶å€™æ¨è camelCase çš„å‘½åæ–¹å¼ï¼›åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çš„æ—¶å€™æ¨è kebab-case çš„å½¢å¼ ä¼ é€’ propsï¼ˆçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼‰ï¼š åŠ¨æ€ç»‘å®šå€¼éœ€è¦åœ¨å±æ€§å‰åŠ ä¸Šv-bindæˆ–è€…ç®€å†™: ä¸åŠ ä¸Šçš„éƒ½è®¤ä½œæ˜¯ä¼ é€’å­—ç¬¦ä¸² çˆ¶ç»„ä»¶ï¼š&lt;Page&gt; 123456789101112&lt;template&gt; &lt;div&gt; &lt;!-- å¦‚æœ likes åœ¨è¿™ç›´æ¥ä¼ é€’æ•°å­—ï¼Œå¹¶ä¸”æƒ³å¾—åˆ°numberç±»å‹ --&gt; &lt;!-- å¯ä»¥åŠ¨æ€ç»‘å®š v-bind=&quot;100&quot; --&gt; &lt;MyTitle title=&quot;é™å¤œæ€&quot; :likes=&quot;likes&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;import { ref } from &quot;vue&quot;;const likes = ref(100);&lt;/script&gt; å­ç»„ä»¶ï¼š&lt;MyTitle&gt; 12345678910&lt;template&gt; &lt;h1&gt;{{ title }}&lt;/h1&gt; &lt;p&gt;{{ likes }}&lt;/p&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt;defineProps&lt;{ title: string; likes?: number;}&gt;;&lt;/script&gt; å•å‘æ•°æ®æµæ‰€æœ‰çš„ props éƒ½éµå¾ªå•å‘ç»‘å®šåŸåˆ™ å› çˆ¶ç»„ä»¶å˜åŒ–è€Œå˜åŒ–ï¼Œæ›´æ–°éšä¹‹ä¼ å‘å­ç»„ä»¶ï¼Œæ‰€ä»¥å­ç»„ä»¶ä¸­çš„ props æ˜¯æœ€æ–°çš„ å­ç»„ä»¶ä¸­ä¸è¦ä¿®æ”¹ propsã€‚è¦æƒ³è·å¾—è¡ç”Ÿå€¼ å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ å¯ä»¥åˆ›å»ºæ–°çš„å˜é‡æ¥æ”¶ å½“ props æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„æ—¶ï¼Œå¯ä»¥æ”¹å˜å†…éƒ¨çš„å€¼ï¼Œä½†æ˜¯ä¸æ¨è Boolean ç±»å‹è½¬æ¢æ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ—¶æ›´åŠ ç®€æ´ï¼Œé¿å…ç±»ä¼¼:disabled='true'çš„å‡ºç°ï¼Œä½¿ç”¨ç®€å•çš„disabledè¡¨ç¤ºå³å¯ åœ¨&lt;MyComponent&gt;ä¸­ï¼š 123definedProps({ disabled: Boolean,}); ä½¿ç”¨æ—¶ï¼š 12345&lt;!-- ç­‰åŒäºä¼ å…¥ :disabled=&quot;true&quot; --&gt;&lt;MyComponent disabled /&gt;&lt;!-- ç­‰åŒäºä¼ å…¥ :disabled=&quot;false&quot; --&gt;&lt;MyComponent /&gt; å½“ props æœ‰å¤šç§ç±»å‹çš„æ—¶å€™ï¼Œè¿™ç§è½¬æ¢ä¾ç„¶é€‚ç”¨ã€‚ä¸è¿‡ä¸Stringæ­é…æ—¶æœ‰ä¾‹å¤–ã€‚åœ¨æ’åˆ—æ—¶Booleanéœ€è¦æ’åœ¨Stringçš„å‰é¢ 12345678910111213141516171819// disabled å°†è¢«è½¬æ¢ä¸º truedefineProps({ disabled: [Boolean, Number],});// disabled å°†è¢«è½¬æ¢ä¸º truedefineProps({ disabled: [Boolean, String],});// disabled å°†è¢«è½¬æ¢ä¸º truedefineProps({ disabled: [Number, Boolean],});// disabled å°†è¢«è§£æä¸ºç©ºå­—ç¬¦ä¸² (disabled=&quot;&quot;)defineProps({ disabled: [String, Boolean],}); æ³›å‹ä½¿ç”¨genericå±æ€§ï¼Œå±æ€§å€¼å’Œå’Œåœ¨ TypeScript ä¸­çš„&lt;T&gt;ä¸€æ · 123456&lt;script setup lang=&quot;ts&quot; generic=&quot;T&quot;&gt;defineProps&lt;{ items: T[]; selected: T;}&gt;();&lt;/script&gt; åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨extendsè¿›è¡Œæ³›å‹çº¦æŸ 1234567&lt;script setup lang=&quot;ts&quot; generic=&quot;T extends string | number, U extends Item&quot;&gt;import type { Item } from &quot;./types&quot;;defineProps&lt;{ id: T; list: U[];}&gt;();&lt;/script&gt; provide å’Œ injectä¸å±€é™äºç›¸é‚»çš„çˆ¶å­ç»„ä»¶ä¼ å€¼ï¼Œå¯ä»¥æ›´æ·±å±‚æ¬¡ä¼ é€’ï¼ˆReact ä¸­çš„contextï¼‰ provide()æä¾›æ•°æ®12345678910&lt;script setup&gt;import { ref, provide } from &quot;vue&quot;;const msg = ref(&quot;hello&quot;);const setMsg = () =&gt; { msg.value = &quot;hi&quot;;};provide(/* æ³¨å…¥å */ &quot;message&quot;, /* å€¼ */ { msg, setMsg });&lt;/script&gt; ä¸€ä¸ªç»„ä»¶å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œä¼ é€’ä¸åŒçš„æ³¨å…¥å å¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ™®é€šå˜é‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨readonly()å°†å®ƒåŒ…ä½ åº”ç”¨å±‚ provideï¼Œå…¨å±€æä¾›æ•°æ®ã€‚ï¼ˆåœ¨ç¼–å†™æ’ä»¶çš„æ—¶å€™ä¼šç”¨åˆ°ï¼‰ 12345import { createApp } from &quot;vue&quot;;const app = createApp({});app.provide(/* æ³¨å…¥å */ &quot;message&quot;, /* å€¼ */ &quot;hello!&quot;); inject()è·å–æ•°æ®12345&lt;script setup&gt;import { inject } from &quot;vue&quot;;const { msg, setMsg } = inject(&quot;message&quot;, &quot;è¿™æ˜¯é»˜è®¤å€¼&quot;);&lt;/script&gt; å¦‚æœä¸Šæ¸¸ç»„ä»¶å¹¶æ²¡æœ‰æä¾›messageè¿™æ ·ä¸€ä¸ªæ•°æ®ï¼Œç»™injectä¼ é€’çš„ç¬¬äºŒä¸ªå‚æ•°å°†ä¼šæ˜¯ä½œä¸ºå½“å‰è¿”å›çš„é»˜è®¤å€¼ é»˜å†™æƒ…å†µä¸‹ä¸ºé¿å…äº§ç”Ÿå‰¯ä½œç”¨ï¼Œé»˜è®¤å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œè¿™æ—¶å€™ç¬¬ä¸‰ä¸ªå‚æ•°éœ€è¦è®¾ç½®ä¸ºtrue 1const value = inject(&quot;key&quot;, () =&gt; new ExpensiveClass(), true); ç›®å‰ TypeScript æ ‡æ³¨å¥½åƒä½œç”¨ä¸å¤§ çŠ¶æ€ç®¡ç† å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€ï¼› å¯é€šè¿‡ props æ¥è§£å†³ï¼Œä½†æ˜¯ç»„ä»¶åµŒå¥—æ·±äº†åå®¹æ˜“æ··ä¹± å¯é€šè¿‡provideå’Œinject ä¸åŒçš„è§†å›¾äº¤äº’å¯ä¿®æ”¹åŒä¸€çŠ¶æ€ é€šè¿‡æ¨¡æ¿è·å–å¯¹åº”ç»„ä»¶å®ä¾‹ï¼Œç„¶åè§¦å‘ç»„ä»¶å†…å¯¹åº”çš„äº‹ä»¶ çŠ¶æ€ç®¡ç†ä¸­æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯å°†å¯¹åº”çš„å…±äº«çŠ¶æ€æŠ½ç¦»å‡ºæ¥ å“åº”å¼ API åšçŠ¶æ€ç®¡ç†å°†å…±äº«çš„çŠ¶æ€å•ç‹¬æŠ½ç¦»å‡ºæ¥ 123456789// store.jsimport { reactive } from &quot;vue&quot;;export const store = reactive({ count: 0, increment() { this.count++; },}); 123456&lt;!-- ComponentA.vue --&gt;&lt;script setup&gt;import { store } from &quot;./store.js&quot;;&lt;/script&gt;&lt;template&gt;From A: {{ store.count }}&lt;/template&gt; 123456&lt;!-- ComponentB.vue --&gt;&lt;script setup&gt;import { store } from &quot;./store.js&quot;;&lt;/script&gt;&lt;template&gt;From B: {{ store.count }}&lt;/template&gt; æ¯å½“storeè¢«æ”¹åŠ¨æ—¶ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶éƒ½ä¼šè‡ªåŠ¨æ›´æ–°è‡ªå·±çš„è§†å›¾ ä¸å±€é™äºreactiveå…¶ä»–çš„å“åº”å¼ API åŒæ ·é€‚ç”¨ 1234567891011121314import { ref } from &quot;vue&quot;;// å…¨å±€çŠ¶æ€ï¼Œåˆ›å»ºåœ¨æ¨¡å—ä½œç”¨åŸŸä¸‹const globalCount = ref(1);export function useCount() { // å±€éƒ¨çŠ¶æ€ï¼Œæ¯ä¸ªç»„ä»¶éƒ½ä¼šåˆ›å»º const localCount = ref(1); return { globalCount, localCount, };} å…¶ä»– ä½¿ç”¨ Pinia SSR ???","link":"/2023/10/17/Vue-Props%E7%AF%87/"},{"title":"VueRouterå¿«é€Ÿæ‰‹å†Œ","text":"ğŸ«¡ğŸ™ƒ [ ] å…ˆçœ‹å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åç»„ç»‡å‡ºæ¥ç¬”è®°å’Œæ¡ˆä¾‹ä»£ç  å®‰è£…1npm install vue-router@4 åŸºç¡€ä¸¤ä¸ªæ ‡ç­¾router-linkè·³è½¬æ²¡ç”¨&lt;a&gt;æ ‡ç­¾ï¼Œç”¨&lt;router-link&gt;æ ‡ç­¾ï¼Œåœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ”¹å˜ URL æ ‡ç­¾å±æ€§ï¼š toï¼šæŒ‡å®šè·³è½¬çš„è·¯å¾„ï¼Œæœ€åç¼–è¯‘æˆ&lt;a&gt;æ ‡ç­¾çš„hrefå±æ€§ tagï¼šæŒ‡å®šæ¸²æŸ“æˆä»€ä¹ˆæ ‡ç­¾ï¼Œé»˜è®¤æ˜¯&lt;a&gt; replaceï¼šé»˜è®¤æ˜¯falseï¼Œç‚¹å‡»è·³è½¬åï¼Œä¼šå‘ history æ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œè®¾ç½®ä¸ºtrueï¼Œåˆ™ä¸ä¼šæ·»åŠ æ–°è®°å½•ï¼Œæ›¿æ¢å½“å‰çš„ history è®°å½• active-classï¼šæŒ‡å®šå½“å‰è·¯ç”±é«˜äº®çš„ç±»åï¼Œé»˜è®¤æ˜¯router-link-active é™¤äº†ä½¿ç”¨æ ‡ç­¾æ¥å¯¼èˆª(å£°æ˜å¼å¯¼èˆª)ï¼Œè¿˜å¯ä»¥ä½¿ç”¨router.pushæ–¹æ³•ï¼Œç¼–ç¨‹å¼å¯¼èˆª router-view è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨è¿™é‡Œ ä¸€ä¸ªé¡µé¢ä¸­å¯ä»¥æœ‰å¤šä¸ª&lt;router-view&gt;æ ‡ç­¾ï¼Œç”¨äºæ˜¾ç¤ºä¸åŒçš„å†…å®¹ åˆ›å»ºè·¯ç”± å®˜ç½‘æ¨èçš„æ˜¯é€šè¿‡åŠ¨æ€å¯¼å…¥ç»„ä»¶æ¥å®ç°åˆ›å»ºè·¯ç”±(è·¯ç”±æ‡’åŠ è½½) ğŸ“„router/index.ts: åˆ›å»ºè·¯ç”± 12345678910111213141516171819202122232425262728import { createRouter, createWebHistory, RouteRecordRaw } from &quot;vue-router&quot;;import Home from &quot;../views/Home.vue&quot;;import About from &quot;../views/About.vue&quot;;const routes: RouteRecordRaw[] = [ { path: &quot;/&quot;, name: &quot;Home&quot;, component: Home, }, { path: &quot;/about&quot;, name: &quot;About&quot;, component: About, }, { path: &quot;/profle&quot;, name: &quot;Profile&quot;, component: () =&gt; import(&quot;../views/Profile.vue&quot;), // åŠ¨æ€åŠ è½½ },];const router = createRouter({ history: createWebHistory(), routes,});export default router; ğŸ“„main.ts: å°†è·¯ç”±å½“æˆæ’ä»¶æŒ‚åœ¨åˆ° Vue å®ä¾‹ä¸­ 12345import { createApp } from &quot;vue&quot;;import App from &quot;./App.vue&quot;;import router from &quot;./router&quot;;createApp(App).use(router).mount(&quot;#app&quot;); ğŸ“„Home.vueï¼šä¸¤ä¸ªæ ‡ç­¾ï¼Œå®ç°è·¯ç”±è·³è½¬å’Œæ¸²æŸ“ 1234567&lt;template&gt; &lt;div&gt; &lt;h1&gt;Home&lt;/h1&gt; &lt;router-link to=&quot;/about&quot;&gt;About&lt;/router-link&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt; ğŸ“„About.vueï¼šåœ¨setupä¸­é€šè¿‡ hooks å®ç°è·³è½¬ã€è·å–è·¯ç”±å‚æ•° 12345678910111213141516171819202122&lt;template&gt; &lt;div&gt; &lt;h1&gt;About&lt;/h1&gt; &lt;router-link to=&quot;/&quot;&gt;Home&lt;/router-link&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup lang=&quot;ts&quot;&gt; import { useRouter, useRoute } from &quot;vue-router&quot;; const router = useRouter(); // options API ä¸­çš„ this.$router const route = useRoute(); // options API ä¸­çš„ this.$route function pushWithQuery(query) { router.push({ name: &quot;home&quot;, query: { ...route.query, ...query, }, }); }&lt;/script&gt; åœ¨æ¨¡æ¿ä¸­å¯ä»¥è®¿é—®åˆ° $router å’Œ $route å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ setup ä¸­ä¸èƒ½è®¿é—®ï¼Œéœ€è¦é€šè¿‡useRouterå’ŒuseRouteè·å– router å’Œ route çš„åŒºåˆ«ï¼šrouter æ˜¯è·¯ç”±å®ä¾‹ï¼Œroute æ˜¯å½“å‰è·¯ç”±å¯¹è±¡ åœ¨setupä¸­ä½¿ç”¨çš„æ—¶å€™ï¼ŒuseRouterå’ŒuseRouteå¿…é¡»æ˜¯é¡¶çº§è°ƒç”¨ï¼Œå¦‚æœåœ¨æ–¹æ³•é‡Œé¢è°ƒç”¨ï¼Œå¾—åˆ°çš„è¿”å›å€¼æ˜¯undefined router çš„ä¸€äº›æ–¹æ³•ï¼š router.pushï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”± router.replaceï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œä¸ä¼šåœ¨ history ä¸­æ·»åŠ æ–°è®°å½• router.goï¼šå‰è¿›æˆ–åé€€æŒ‡å®šæ­¥æ•° router.backï¼šåé€€ router.forwardï¼šå‰è¿› router.addRouteï¼šåŠ¨æ€æ·»åŠ è·¯ç”± router.removeRouteï¼šåŠ¨æ€åˆ é™¤è·¯ç”± router.getRoutesï¼šè·å–æ‰€æœ‰è·¯ç”±ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ router.hasRouteï¼šåˆ¤æ–­æ˜¯å¦æœ‰æŒ‡å®šè·¯ç”± route å¯¹è±¡æ˜¯å“åº”å¼çš„ï¼Œå¯ä»¥é€šè¿‡watchç›‘å¬å˜åŒ– 12345678910111213import { useRoute } from &quot;vue-router&quot;;import { ref, watch } from &quot;vue&quot;;const route = useRoute();const userData = ref();// å½“å‚æ•°æ›´æ”¹æ—¶è·å–ç”¨æˆ·ä¿¡æ¯watch( () =&gt; route.params.id, async (newId) =&gt; { userData.value = await fetchUser(newId); }); åŠ¨æ€è·¯ç”± router.addRouteåªæ³¨å†Œä¸€ä¸ªæ–°è·¯ç”±ï¼Œå¦‚æœæ–°å¢çš„è·¯ç”±ä¸å½“å‰ä½ç½®åŒ¹é…ï¼Œå°±å¾—æ‰‹åŠ¨é…ç½®router.pushæˆ–è€…router.replaceè·³è½¬ 123router.addRoute({ path: &quot;/about&quot;, component: About });// æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ this.$route æˆ– route = useRoute() ï¼ˆåœ¨ setup ä¸­ï¼‰router.replace(router.currentRoute.value.fullPath); å¦‚æœéœ€è¦ç­‰å¾…æ–°çš„è·¯ç”±æ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨ await router.replace() åœ¨å¯¼èˆªå®ˆå«ä¸­æ·»åŠ è·¯ç”±çš„æ—¶å€™ï¼Œä½¿ç”¨returnè¿”å›æ–°çš„è·¯ç”±ï¼Œè€Œä¸æ˜¯ä½¿ç”¨router.pushæˆ–è€…router.replace 1234567router.beforeEach((to) =&gt; { if (!hasNecessaryRoute(to)) { router.addRoute(generateRoute(to)); // è§¦å‘é‡å®šå‘ return to.fullPath; }}); hasNecessaryRoute() åœ¨æ·»åŠ æ–°çš„è·¯ç”±åè¿”å› falseï¼Œä»¥é¿å…æ— é™é‡å®šå‘ã€‚ æ·»åŠ åµŒå¥—è·¯ç”± 12router.addRoute({ name: &quot;admin&quot;, path: &quot;/admin&quot;, component: Admin });router.addRoute(&quot;admin&quot;, { path: &quot;settings&quot;, component: AdminSettings }); ğŸ—‘ï¸ åˆ é™¤è·¯ç”±æœ‰å‡ ä¸ªæ–¹å¼: ç›´æ¥ä½¿ç”¨router.addRouteï¼Œå¦‚æœæœ‰é‡åçš„ï¼Œå…ˆåˆ é™¤å†æ·»åŠ  123router.addRoute({ path: &quot;/about&quot;, name: &quot;about&quot;, component: About });// è¿™å°†ä¼šåˆ é™¤ä¹‹å‰å·²ç»æ·»åŠ çš„è·¯ç”±ï¼Œå› ä¸ºä»–ä»¬å…·æœ‰ç›¸åŒçš„åå­—ä¸”åå­—å¿…é¡»æ˜¯å”¯ä¸€çš„router.addRoute({ path: &quot;/other&quot;, name: &quot;about&quot;, component: Other }); é€šè¿‡router.addRoute()è¿”å›çš„å›è°ƒå‡½æ•°æ¥åˆ é™¤ 12const removeRoute = router.addRoute(routeRecord);removeRoute(); // åˆ é™¤è·¯ç”±å¦‚æœå­˜åœ¨çš„è¯ é€šè¿‡router.removeRouteæ¥æŒ‰åç§°åˆ é™¤ 123router.addRoute({ path: &quot;/about&quot;, name: &quot;about&quot;, component: About });// åˆ é™¤è·¯ç”±router.removeRoute(&quot;about&quot;); æ•°æ®è·å–è¿›å…¥è·¯ç”±ä¹‹åéœ€è¦ä»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œä¸€èˆ¬ä¸¤ç§æ–¹å¼ï¼š å¯¼èˆªå®Œæˆä¹‹åè·å–ï¼Œå…ˆå¯¼èˆªï¼Œç„¶ååœ¨ç»„ä»¶çš„å£°æ˜å‘¨æœŸå‡½æ•°ä¸­è·å–ã€‚è¿™æœŸé—´æ˜¾ç¤º æ­£åœ¨åŠ è½½ z ä¹‹ç±»çš„åŠ¨ç”»ï¼Œç„¶åä¹Ÿå¯ä»¥æ·»åŠ ä¸ªwatchä»¥ä¾¿å†æ¬¡è·å– å¯¼èˆªå®Œæˆä¹‹å‰è·å–ï¼Œåœ¨å¯¼èˆªå®ˆå«ä¸­è¿›è¡Œ ç¼–ç¨‹å¼å¯¼èˆªğŸŒ è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œä¼šå›åˆ°ä¹‹å‰çš„ URLã€‚ ç‚¹å‡»å¯¼èˆªæ ‡ç­¾ï¼Œå†…éƒ¨ä¼šè°ƒç”¨router.pushæ–¹æ³• pushæ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ 1234567891011121314// å­—ç¬¦ä¸²è·¯å¾„router.push(&quot;/users/eduardo&quot;);// å¸¦æœ‰è·¯å¾„çš„å¯¹è±¡router.push({ path: &quot;/users/eduardo&quot; });// å‘½åçš„è·¯ç”±ï¼Œå¹¶åŠ ä¸Šå‚æ•°ï¼Œè®©è·¯ç”±å»ºç«‹ urlrouter.push({ name: &quot;user&quot;, params: { username: &quot;eduardo&quot; } });// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œç»“æœæ˜¯ /register?plan=privaterouter.push({ path: &quot;/register&quot;, query: { plan: &quot;private&quot; } });// å¸¦ hashï¼Œç»“æœæ˜¯ /about#teamrouter.push({ path: &quot;/about&quot;, hash: &quot;#team&quot; }); åŠ¨æ€è·¯ç”±åŒ¹é… ç›®çš„æ˜¯ä¸ºäº†æ ¹æ®ä¸åŒçš„å‚æ•°ï¼Œæ¸²æŸ“ä¸åŒçš„å†…å®¹ åŠ¨æ€è·¯ç”±åŒ¹é…çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡useRouteè·å– useRouteè¿”å›çš„æ˜¯å“åº”å¼çš„å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡watchç›‘å¬å˜åŒ– ä¹Ÿå¯ä»¥é€šè¿‡$route.paramsè·å–ï¼Œ$routeä¸æ˜¯å“åº”å¼çš„ é™¤äº†paramsï¼Œè¿˜æœ‰queryã€hashç­‰ï¼Œparamså’Œqueryéƒ½æ˜¯å¯¹è±¡ï¼Œhashæ˜¯å­—ç¬¦ä¸² 123456789const User = { template: &quot;&lt;div&gt;User&lt;/div&gt;&quot;,};// è¿™äº›éƒ½ä¼šä¼ é€’ç»™ `createRouter`const routes = [ // åŠ¨æ€å­—æ®µä»¥å†’å·å¼€å§‹ { path: &quot;/users/:id&quot;, component: User },]; å¯ä»¥ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œå®ƒä»¬ä¼šæ˜ å°„åˆ° $route.params ä¸Šçš„ç›¸åº”å­—æ®µ åŒ¹é…æ¨¡å¼ åŒ¹é…è·¯å¾„ $route.params /users/:username /users/eduardo { username: â€˜eduardoâ€™ } /users/:username/posts/:postId /users/eduardo/posts/123 { username: â€˜eduardoâ€™, postId: â€˜123â€™ } è·¯ç”±å‚æ•°å˜åŒ–ï¼Œç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºç»„ä»¶çš„å¤ç”¨ï¼Œå¯ä»¥é€šè¿‡watchç›‘å¬å‚æ•°å˜åŒ–ï¼Œé‡æ–°è·å–æ•°æ®ä»è€Œæ›´æ–°ç»„ä»¶ã€‚æˆ–è€…ä½¿ç”¨å¯¼èˆªå®ˆå«ç›‘å¬å‚æ•°å˜åŒ– 1234567const User = { template: &quot;...&quot;, async beforeRouteUpdate(to, from) { // å¯¹è·¯ç”±å˜åŒ–åšå‡ºå“åº”... this.userData = await fetchUser(to.params.id); },}; ä½¿ç”¨æ­£åˆ™åŒ¹é…å¸¸è§„åŒ¹é…çš„æ—¶å€™ï¼Œå†…éƒ¨ä¼šä½¿ç”¨([^/]+)æ¥åŒ¹é…å‚æ•° è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯/ å¦‚æœæƒ³æ ¹æ®å‚æ•°çš„æ ¼å¼æ¥åŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ 123456const routes = [ // /:orderId -&gt; ä»…åŒ¹é…æ•°å­— { path: &quot;/:orderId(\\\\d+)&quot; }, // /:productName -&gt; åŒ¹é…å…¶ä»–ä»»ä½•å†…å®¹ { path: &quot;/:productName&quot; },]; \\déœ€è¦ä½¿ç”¨\\\\dæ¥è½¬ä¹‰ å¯é‡å¤çš„å‚æ•°å°†å‚æ•°æ ‡è®°ä¸ºå¯é‡å¤ï¼š é€šè¿‡+æ¥è¡¨ç¤ºå‚æ•°å¯ä»¥é‡å¤ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª å°±æ˜¯è¯´è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯/ é€šè¿‡*æ¥è¡¨ç¤ºå‚æ•°å¯ä»¥é‡å¤ï¼Œå¯ä»¥æ˜¯é›¶ä¸ªæˆ–å¤šä¸ª å°±æ˜¯è¯´å¯ä»¥æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯å¯é€‰çš„ é€šè¿‡?ä¹Ÿå¯ä»¥è¡¨ç¤ºå¯é€‰çš„ 12345678const routes = [ // /:chapters -&gt; åŒ¹é… /one, /one/two, /one/two/three, ç­‰ { path: &quot;/:chapters+&quot; }, // /:chapters -&gt; åŒ¹é… /, /one, /one/two, /one/two/three, ç­‰ { path: &quot;/:chapters*&quot; }, // å¯é€‰ { path: &quot;/:chapters?&quot; },]; åœ¨ä¼ é€’çš„æ—¶å€™ï¼Œå¯¹åº”çš„å‚æ•°éœ€è¦ä¼ é€’æ•°ç»„ 123456789// ç»™å®š { path: '/:chapters*', name: 'chapters' },router.resolve({ name: &quot;chapters&quot;, params: { chapters: [] } }).href;// äº§ç”Ÿ /router.resolve({ name: &quot;chapters&quot;, params: { chapters: [&quot;a&quot;, &quot;b&quot;] } }).href;// äº§ç”Ÿ /a/b// ç»™å®š { path: '/:chapters+', name: 'chapters' },router.resolve({ name: &quot;chapters&quot;, params: { chapters: [] } }).href;// æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º `chapters` ä¸ºç©º router.resolveæ–¹æ³•å¯ä»¥æ ¹æ®è·¯ç”±åç§°å’Œå‚æ•°ï¼Œè¿”å›ä¸€ä¸ª URL åŒæ—¶å¯ä»¥åŠ ä¸Šæ­£åˆ™è¡¨è¾¾å¼ 1234567const routes = [ // ä»…åŒ¹é…æ•°å­— // åŒ¹é… /1, /1/2, ç­‰ { path: &quot;/:chapters(\\\\d+)+&quot; }, // åŒ¹é… /, /1, /1/2, ç­‰ { path: &quot;/:chapters(\\\\d+)*&quot; },]; Sensitive å’Œ strict è·¯ç”±ä¾‹å¦‚ï¼Œè·¯ç”± /users å°†åŒ¹é… /usersã€/users/ã€ç”šè‡³ /Users/ å¯é€šè¿‡å…¨å±€é…ç½®é…ç½®ï¼š 12345const router = createRouter({ routes, sensitive: true, // åŒ¹é…è§„åˆ™æ˜¯å¦å¤§å°å†™æ•æ„Ÿï¼Ÿ(é»˜è®¤å€¼ï¼šfalse) strict: true, // åŒ¹é…è§„åˆ™æ˜¯å¦ä¸¥æ ¼æ¨¡å¼ï¼Ÿ(é»˜è®¤å€¼ï¼šfalse)}); ä¹Ÿå¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸­é…ç½®ï¼š 123456789101112const router = createRouter({ history: createWebHistory(), routes: [ // å°†åŒ¹é… /users/posva è€Œéï¼š // - /users/posva/ å½“ strict: true // - /Users/posva å½“ sensitive: true { path: &quot;/users/:id&quot;, sensitive: true }, // å°†åŒ¹é… /users, /Users, ä»¥åŠ /users/42 è€Œé /users/ æˆ– /users/42/ { path: &quot;/users/:id?&quot; }, ], strict: true, // applies to all routes}); åµŒå¥—è·¯ç”±ä¸€ä¸ªé¡µé¢ä¸­æœ‰å¤šä¸ª&lt;router-view&gt;æ ‡ç­¾ï¼Œç”¨äºæ˜¾ç¤ºä¸åŒçš„å†…å®¹ æœ€å¤–å±‚çš„&lt;router-view&gt;æ ‡ç­¾ï¼Œç”¨äºæ˜¾ç¤ºæœ€å¤–å±‚çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯çˆ¶è·¯ç”±çš„å†…å®¹ ä¸€ä¸ªè¢«æ¸²æŸ“çš„ç»„ä»¶é‡Œé¢ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„&lt;router-view&gt;æ ‡ç­¾ï¼Œç”¨äºæ˜¾ç¤ºå†…å±‚çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯å­è·¯ç”±çš„å†…å®¹ 1234567891011121314151617181920const routes = [ { path: &quot;/user/:id&quot;, component: User, children: [ { // å½“ /user/:id/profile åŒ¹é…æˆåŠŸ // UserProfile å°†è¢«æ¸²æŸ“åˆ° User çš„ &lt;router-view&gt; å†…éƒ¨ path: &quot;profile&quot;, component: UserProfile, }, { // å½“ /user/:id/posts åŒ¹é…æˆåŠŸ // UserPosts å°†è¢«æ¸²æŸ“åˆ° User çš„ &lt;router-view&gt; å†…éƒ¨ path: &quot;posts&quot;, component: UserPosts, }, ], },]; ä»¥ / å¼€å¤´çš„åµŒå¥—è·¯å¾„å°†è¢«è§†ä¸ºæ ¹è·¯å¾„ å¦‚æœè®¿é—®äº†ä¸å­˜åœ¨çš„è·¯ç”±ï¼Œ&lt;router-view&gt;é‡Œé¢ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œå¯ä»¥é€šè¿‡&lt;router-view v-slot=&quot;{ Component }&quot;&gt;æ¥å¤„ç† 12345678&lt;router-view v-slot=&quot;{ Component }&quot;&gt; &lt;div v-if=&quot;Component&quot;&gt; &lt;!-- åªæœ‰åœ¨åŒ¹é…åˆ°çš„è·¯ç”±æœ‰ç»„ä»¶æ—¶ï¼Œæ‰ä¼šæ˜¾ç¤º --&gt; &lt;transition name=&quot;fade&quot; mode=&quot;out-in&quot;&gt; &lt;component :is=&quot;Component&quot; /&gt; &lt;/transition&gt; &lt;/div&gt;&lt;/router-view&gt; ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªç©ºçš„åµŒå¥—è·¯ç”±ä½œä¸ºé»˜è®¤å­è·¯ç”±ï¼ˆpath ä¼ é€’ç©ºå­—ç¬¦ä¸²ï¼‰ 12345678910111213const routes = [ { path: &quot;/user/:id&quot;, component: User, children: [ // å½“ /user/:id åŒ¹é…æˆåŠŸ // UserHome å°†è¢«æ¸²æŸ“åˆ° User çš„ &lt;router-view&gt; å†…éƒ¨ { path: &quot;&quot;, component: UserHome }, // ...å…¶ä»–å­è·¯ç”± ], },]; å‘½åè·¯ç”±å’Œå‘½åè§†å›¾å‘½åè·¯ç”±ç»™è·¯ç”±é…ç½®ä¸€ä¸ªnameå±æ€§ï¼Œå¯ä»¥é€šè¿‡nameæ¥è·³è½¬ æ²¡æœ‰ç¡¬ç¼–ç çš„ URLï¼Œæ²¡æœ‰ç¡¬ç¼–ç çš„ URLï¼Œæ‰€ä»¥å¦‚æœæƒ³æ”¹å˜ /user/:idï¼Œå¯ä»¥éšæ—¶ä¿®æ”¹è·¯ç”±é…ç½®ï¼Œè€Œä¸ç”¨åœ¨ä»£ç ä¸­æœç´¢æ‰€æœ‰ç”¨åˆ°è¯¥è·¯å¾„çš„åœ°æ–¹ params çš„è‡ªåŠ¨ç¼–ç /è§£ç ã€‚ é˜²æ­¢ä½ åœ¨ url ä¸­å‡ºç°æ‰“å­—é”™è¯¯ã€‚ ç»•è¿‡è·¯å¾„æ’åºï¼ˆå¦‚æ˜¾ç¤ºä¸€ä¸ªï¼‰/user/:id å’Œ /user/:usernameï¼Œå› ä¸ºåè€…æ˜¯åœ¨å‰è€…ä¹‹åå®šä¹‰çš„ã€‚ params çš„è‡ªåŠ¨ç¼–ç /è§£ç ï¼Œæ›´æ–¹ä¾¿ä½¿ç”¨å‚æ•° 12345678910111213141516const router = createRouter({ history: createWebHistory(), routes: [ { path: &quot;/user/:userId&quot;, name: &quot;user&quot;, component: User, }, ],});// é€šè¿‡å‘½åè·¯ç”±è·³è½¬router.push({ name: &quot;user&quot;, params: { userId: &quot;123&quot; } });// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privaterouter.push({ name: &quot;register&quot;, query: { plan: &quot;private&quot; } }); æˆ–è€…åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ 123&lt;router-link :to=&quot;{ name: 'user', params: { username: 'erina' }}&quot;&gt; User&lt;/router-link&gt; å‘½åè§†å›¾ç»™&lt;router-view&gt;æ ‡ç­¾æ·»åŠ nameå±æ€§ï¼Œå¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸­æŒ‡å®šæ¸²æŸ“çš„ç»„ä»¶ã€‚ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæœ‰ sidebar (ä¾§å¯¼èˆª) å’Œ main (ä¸»å†…å®¹) ä¸¤ä¸ªè§†å›¾ 123&lt;router-view class=&quot;view left-sidebar&quot; name=&quot;LeftSidebar&quot;&gt;&lt;/router-view&gt;&lt;router-view class=&quot;view main-content&quot;&gt;&lt;/router-view&gt;&lt;router-view class=&quot;view right-sidebar&quot; name=&quot;RightSidebar&quot;&gt;&lt;/router-view&gt; è¿™ä¸ªè·¯ç”±ä¸­æœ‰å¤šä¸ªè§†å›¾ï¼Œæ‰€ä»¥å¾—ä½¿ç”¨componentsé…ç½® 123456789101112131415const router = createRouter({ history: createWebHashHistory(), routes: [ { path: &quot;/&quot;, components: { default: Home, // LeftSidebar: LeftSidebar çš„ç¼©å†™ LeftSidebar, // å®ƒä»¬ä¸ `&lt;router-view&gt;` ä¸Šçš„ `name` å±æ€§åŒ¹é… RightSidebar, }, }, ],}); é‡å®šå‘å’Œåˆ«åé‡å®šå‘é€šè¿‡ routes é…ç½®æ¥å®Œæˆ 1const routes = [{ path: &quot;/home&quot;, redirect: &quot;/&quot; }]; ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå‘½åçš„è·¯ç”± 1const routes = [{ path: &quot;/home&quot;, redirect: { name: &quot;home&quot; } }]; ç”šè‡³å¯ä»¥ä¼ é€’ä¸€ä¸ªæ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›é‡å®šå‘çš„ç›®æ ‡ 123456789101112131415const routes = [ { // /search/screens -&gt; /search?q=screens path: &quot;/search/:searchText&quot;, redirect: (to) =&gt; { // æ–¹æ³•æ¥æ”¶ç›®æ ‡è·¯ç”±ä½œä¸ºå‚æ•° // return é‡å®šå‘çš„å­—ç¬¦ä¸²è·¯å¾„/è·¯å¾„å¯¹è±¡ return { path: &quot;/search&quot;, query: { q: to.params.searchText } }; }, }, { path: &quot;/search&quot;, // ... },]; é‡å®šå‘æ—¶å¯ä»¥ä¸æŒ‡å®šcomponentï¼Œå› ä¸ºé‡å®šå‘çš„æ—¶å€™ï¼Œæ²¡æœ‰ç»„ä»¶éœ€è¦æ¸²æŸ“ ç›¸å¯¹é‡å®šå‘ é‡å®šå‘çš„ç›®æ ‡ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œè¿™æ ·å°±ä¸ç”¨å†™å®Œæ•´çš„è·¯å¾„äº† 123456789101112const routes = [ { // å°†æ€»æ˜¯æŠŠ/users/123/postsé‡å®šå‘åˆ°/users/123/profileã€‚ path: &quot;/users/:id/posts&quot;, redirect: (to) =&gt; { // è¯¥å‡½æ•°æ¥æ”¶ç›®æ ‡è·¯ç”±ä½œä¸ºå‚æ•° // ç›¸å¯¹ä½ç½®ä¸ä»¥`/`å¼€å¤´ // æˆ– { path: 'profile'} return &quot;profile&quot;; }, },]; åˆ«å é‡å®šå‘çš„æ—¶å€™/homeä¼šæ›¿æ¢æ‰/ï¼Œåˆ«åä¸ä¼šæ”¹å˜ URLï¼Œä½†æ˜¯ä¼šåœ¨è·¯ç”±åŒ¹é…æ—¶æ·»åŠ åˆ° history è®°å½•ä¸­ æ‰€ä»¥åº”è¯¥è¿™æ ·é…ç½® 1const routes = [{ path: &quot;/&quot;, component: Homepage, alias: &quot;/home&quot; }]; é€šè¿‡åˆ«åå¯ä»¥å°† UI ç»“æ„æ˜ å°„åˆ°ä¸€ä¸ªä»»æ„çš„ URLï¼Œè€Œä¸å—é…ç½®çš„åµŒå¥—ç»“æ„çš„é™åˆ¶ã€‚ä½¿åˆ«åä»¥ / å¼€å¤´ï¼Œä»¥ä½¿åµŒå¥—è·¯å¾„ä¸­çš„è·¯å¾„æˆä¸ºç»å¯¹è·¯å¾„ã€‚ä½ ç”šè‡³å¯ä»¥å°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼Œç”¨ä¸€ä¸ªæ•°ç»„æä¾›å¤šä¸ªåˆ«åï¼š 12345678910111213const routes = [ { path: &quot;/users&quot;, component: UsersLayout, children: [ // ä¸ºè¿™ 3 ä¸ª URL å‘ˆç° UserList // - /users // - /users/list // - /people { path: &quot;&quot;, component: UserList, alias: [&quot;/people&quot;, &quot;list&quot;] }, ], },]; è·¯ç”±ç»„ä»¶ä¼ å‚é€šè¿‡ä½¿ç”¨ props å°†è·¯ç”±å‚æ•°ä¼ é€’ç»™ç»„ä»¶ åœ¨ç»„ä»¶ä¸­è·å–è·¯ç”±ä¼ è¿‡æ¥çš„ props æ—¶ï¼Œéœ€è¦å®šä¹‰ç„¶åä½¿ç”¨ å¸ƒå°”æ¨¡å¼ï¼šå°†propsè®¾ç½®ä¸ºtrueï¼Œroute.paramsä¼šè¢«è®¾ç½®ä¸ºç»„ä»¶çš„ props 1234const User = { template: &quot;&lt;div&gt;User {{ $route.params.id }}&lt;/div&gt;&quot;,};const routes = [{ path: &quot;/user/:id&quot;, component: User }]; æ›¿æ¢æˆ 123456const User = { // è¯·ç¡®ä¿æ·»åŠ ä¸€ä¸ªä¸è·¯ç”±å‚æ•°å®Œå…¨ç›¸åŒçš„ prop å props: [&quot;id&quot;], template: &quot;&lt;div&gt;User {{ id }}&lt;/div&gt;&quot;,};const routes = [{ path: &quot;/user/:id&quot;, component: User, props: true }]; å‘½åè§†å›¾ï¼šæ¯ä¸ªè§†å›¾éœ€è¦å®šä¹‰è‡ªå·±çš„ props 1234567const routes = [ { path: &quot;/user/:id&quot;, components: { default: User, sidebar: Sidebar }, props: { default: true, sidebar: false }, },]; å¯¹è±¡æ¨¡å¼ï¼šå¦‚æœ props è¢«è®¾ç½®ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¼šè¢«æŒ‰åŸæ ·è®¾ç½®ä¸ºç»„ä»¶çš„ props 1234567const routes = [ { path: &quot;/user/:id&quot;, components: { default: User, sidebar: Sidebar }, props: { default: true, sidebar: false }, },]; å‡½æ•°æ¨¡å¼ï¼šå¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°è¿”å› propsï¼Œå°†å‚æ•°è½¬æ¢ä¸ºå…¶ä»–ç±»å‹ï¼Œå°†é™æ€å€¼ä¸åŸºäºè·¯ç”±çš„å€¼ç›¸ç»“åˆç­‰ç­‰ã€‚ 1234567const routes = [ { path: &quot;/search&quot;, component: SearchUser, props: (route) =&gt; ({ query: route.query.q }), },]; è·¯ç”±å…ƒä¿¡æ¯é…ç½®meta 12345678const routes = [ { path: &quot;/&quot;, component: Home, // è·¯ç”±å…ƒä¿¡æ¯ meta: { requiresAuth: true }, },]; æ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡å«åšè·¯ç”±è®°å½•ï¼Œåœ¨åµŒå¥—è·¯ç”±ä¸­å°±åˆ†ä¸ºçˆ¶è·¯ç”±è®°å½•å’Œå­è·¯ç”±è®°å½• åŒ¹é…åˆ°çš„è·¯ç”±æš´éœ²ä¸º$routeå¯¹è±¡çš„matchedå±æ€§ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æ‰€æœ‰åŒ¹é…åˆ°çš„è·¯ç”±è®°å½• $route.metaæ–¹æ³•å¯ä»¥è·å–åˆ°è·¯ç”±å…ƒä¿¡æ¯ï¼Œç›´æ¥ç”¨.è®¿é—® 12345678910111213router.beforeEach((to, from) =&gt; { // è€Œä¸æ˜¯å»æ£€æŸ¥æ¯æ¡è·¯ç”±è®°å½• // to.matched.some(record =&gt; record.meta.requiresAuth) if (to.meta.requiresAuth &amp;&amp; !auth.isLoggedIn()) { // æ­¤è·¯ç”±éœ€è¦æˆæƒï¼Œè¯·æ£€æŸ¥æ˜¯å¦å·²ç™»å½• // å¦‚æœæ²¡æœ‰ï¼Œåˆ™é‡å®šå‘åˆ°ç™»å½•é¡µé¢ return { path: &quot;/login&quot;, // ä¿å­˜æˆ‘ä»¬æ‰€åœ¨çš„ä½ç½®ï¼Œä»¥ä¾¿ä»¥åå†æ¥ query: { redirect: to.fullPath }, }; }}); TypeScriptä¸­ï¼Œå¯ä»¥é€šè¿‡RouteMetaæ¥å®šä¹‰è·¯ç”±å…ƒä¿¡æ¯çš„ç±»å‹ 1234567891011// typings.d.ts or router.tsimport &quot;vue-router&quot;;declare module &quot;vue-router&quot; { interface RouteMeta { // æ˜¯å¯é€‰çš„ isAdmin?: boolean; // æ¯ä¸ªè·¯ç”±éƒ½å¿…é¡»å£°æ˜ requiresAuth: boolean; }} propsä¼šæä¾›è¿™ä¸ªå—ä»¥å ï¼Ÿï¼ŸğŸ«¡ ä¸åŒçš„å†å²æ¨¡å¼åœ¨ä»¥å¾€vue2ä½¿ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨modeæ¥é…ç½®ï¼Œvue3ç°åœ¨ä½¿ç”¨historyæ¥é…ç½® å®ƒä»¬ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼š mode: history | hash | abstract history: createWebHistory | createWebHashHistory | createMemoryHistory ğŸ‘‰ hash æ¨¡å¼ åœ¨å†…éƒ¨ä¼ é€’å®é™… URL ä¹‹å‰ä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ï¼ˆ#ï¼‰ URL çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼šhttp://oursite.com/#/user/id å®ƒçš„å¥½å¤„æ˜¯ä¸éœ€è¦åç«¯é…ç½®ï¼Œç¼ºç‚¹æ˜¯åœ¨ SEO æ–¹é¢ä¸å¤ªå‹å¥½ ğŸ‘‰ HTML5 æ¨¡å¼ âœ… æ¨èä½¿ç”¨ URL å¼€èµ·æ¥å°±åƒè¿™æ ·ï¼šhttp://oursite.com/user/id å®ƒçš„å¥½å¤„æ˜¯ URL çœ‹èµ·æ¥æ›´åŠ å‹å¥½ï¼Œä½†æ˜¯éœ€è¦åç«¯é…ç½® è¿›é˜¶å¯¼èˆªå®ˆå«å¯¼èˆªå®ˆå«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šåœ¨è·¯ç”±å‘ç”Ÿå˜åŒ–æ—¶è¢«è°ƒç”¨ å‡ºç°çš„åœ°æ–¹æœ‰ï¼šå…¨å±€çš„ã€å•ä¸ªè·¯ç”±ç‹¬äº«çš„ã€ç»„ä»¶å†…çš„ å…¨å±€å‰ç½®å®ˆå«router.beforeEachæ–¹æ³•æ³¨å†Œä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«ï¼Œå®ˆå«æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥è·³è½¬éœ€è¦åœ¨å®ˆå«resolveä¹‹åæ‰ä¼šç»§ç»­ 1234567const router = createRouter({ ... })router.beforeEach((to, from) =&gt; { // ... // è¿”å› false ä»¥å–æ¶ˆå¯¼èˆª return false}) å›è°ƒå‚æ•°ï¼š toï¼šå³å°†è¦è¿›å…¥çš„ç›®æ ‡è·¯ç”±å¯¹è±¡ fromï¼šå½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”± nextï¼šè°ƒç”¨è¯¥æ–¹æ³•åï¼Œèƒ½è¿›å…¥ä¸‹ä¸€ä¸ªé’©å­ï¼Œä¸è¿‡ç°åœ¨å¯ä»¥ç”¨returnæ¥ä»£æ›¿next next(false)ï¼šå–æ¶ˆå½“å‰å¯¼èˆª next('/')ï¼šè·³è½¬ next({ path: '/' })ï¼šè·³è½¬ ç°åœ¨ Vue Router 4 ä¸­å¯ä»¥ä½¿ç”¨returnï¼Œä¸ç”¨next()ï¼Œè¿”å›å€¼å¯ä»¥æœ‰ï¼š falseï¼šå–æ¶ˆå½“å‰å¯¼èˆª ä¸€ä¸ªè·¯ç”±åœ°å€ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œç±»ä¼¼äºrouter.push()ï¼Œä¹Ÿå¯ä»¥è®¾ç½®replace: trueã€name: 'home'ç­‰ å¦‚æœä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œundefined æˆ–è¿”å› trueï¼Œåˆ™å¯¼èˆªæ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶è°ƒç”¨ä¸‹ä¸€ä¸ªå¯¼èˆªå®ˆå« return ä¼šæ¯” next å¥½ç‚¹å§åº”è¯¥ï¼Œå› ä¸º next å¿…é¡»å¾—è°ƒç”¨ï¼Œè€Œ return å¯ä»¥ä¸ç”¨å†™é‚£ä¹ˆå¤š if else å¦‚æœé‡åˆ°äº†æ„æ–™ä¹‹å¤–çš„æƒ…å†µï¼Œå¯èƒ½ä¼šæŠ›å‡ºä¸€ä¸ª Errorã€‚è¿™ä¼šå–æ¶ˆå¯¼èˆªå¹¶ä¸”è°ƒç”¨ router.onError() æ³¨å†Œè¿‡çš„å›è°ƒã€‚ 1234567891011router.beforeEach(async (to, from) =&gt; { if ( // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½• !isAuthenticated &amp;&amp; // â—ï¸ é¿å…æ— é™é‡å®šå‘ to.name !== &quot;Login&quot; ) { // å°†ç”¨æˆ·é‡å®šå‘åˆ°ç™»å½•é¡µé¢ return { name: &quot;Login&quot; }; }}); å…¨å±€è§£æå®ˆå«router.beforeResolveæ–¹æ³•æ³¨å†Œä¸€ä¸ªå…¨å±€è§£æå®ˆå«ï¼Œå’Œå‰ç½®å¯¼èˆªå®ˆå«ç±»ä¼¼ï¼Œä½†æ˜¯å¾—åœ¨ æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œ å¼‚æ­¥è·¯ç”±ç»„ä»¶ è¢«è§£æä¹‹åï¼Œè§£æå®ˆå«å°±è¢«è°ƒç”¨ ç¤ºä¾‹ï¼šç¡®ä¿ç”¨æˆ·å¯è®¿é—®åˆ°è‡ªå®šä¹‰meta 123456789101112131415router.beforeResolve(async (to) =&gt; { if (to.meta.requiresCamera) { try { await askForCameraPermission(); } catch (error) { if (error instanceof NotAllowedError) { // ... å¤„ç†é”™è¯¯ï¼Œç„¶åå–æ¶ˆå¯¼èˆª return false; } else { // æ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼Œå–æ¶ˆå¯¼èˆªå¹¶æŠŠé”™è¯¯ä¼ ç»™å…¨å±€å¤„ç†å™¨ throw error; } } }}); router.beforeResolve æ˜¯è·å–æ•°æ®æˆ–æ‰§è¡Œä»»ä½•å…¶ä»–æ“ä½œï¼ˆå¦‚æœç”¨æˆ·æ— æ³•è¿›å…¥é¡µé¢æ—¶ä½ å¸Œæœ›é¿å…æ‰§è¡Œçš„æ“ä½œï¼‰çš„ç†æƒ³ä½ç½®ã€‚ å…¨å±€åç½®é’©å­ å’Œå®ˆå«ä¸åŒçš„æ˜¯ï¼Œåç½®é’©å­æ²¡æœ‰ next å‡½æ•°ï¼Œä¸èƒ½æ”¹å˜å¯¼èˆªæœ¬èº«ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æ˜¯failure å¯¹äºåˆ†æã€æ›´æ”¹é¡µé¢æ ‡é¢˜ã€å£°æ˜é¡µé¢ç­‰è¾…åŠ©åŠŸèƒ½ä»¥åŠè®¸å¤šå…¶ä»–äº‹æƒ…éƒ½å¾ˆæœ‰ç”¨ã€‚ 123router.afterEach((to, from, failure) =&gt; { if (!failure) sendToAnalytics(to.fullPath);}); ä¹Ÿå°±æ˜¯å¯¼èˆªæ•…éšœ å¯¼èˆªæ•…éšœå¼‚æ­¥ç­‰å¾…å¯¼èˆªç»“æœå¯¼èˆªæ•…éšœæ˜¯å¯¼èˆªæœŸé—´å‡ºç°çš„ä»»ä½•é”™è¯¯æˆ–è¢«å–æ¶ˆçš„å¯¼èˆªã€‚å½“ä½¿ç”¨ router-link ç»„ä»¶æ—¶ï¼ŒVue Router ä¼šè‡ªåŠ¨è°ƒç”¨ router.push æ¥è§¦å‘ä¸€æ¬¡å¯¼èˆªã€‚ ä¸€èˆ¬æ¥è¯´å¯¼èˆªéƒ½ä¼šåˆ°ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œæƒ³è¦åœ¨å¯¼èˆªå®Œæˆä¹‹ååšä¸€äº›äº‹æƒ…ï¼Œå¯ä»¥ä½¿ç”¨router.afterEachï¼Œä½†æ˜¯å¦‚æœå¯¼èˆªè¢«å–æ¶ˆäº†ï¼ˆæˆ–è€…é”™è¯¯ä¹‹ç±»çš„ï¼‰ï¼Œå°±ä¸ä¼šè§¦å‘router.afterEach è§£å†³çš„åŠæ³•å°±æ˜¯ä½¿ç”¨å¯¼èˆªçš„å¼‚æ­¥ç‰¹æ€§è¿›è¡Œç­‰å¾… æ¯”å¦‚ç­‰å¯¼èˆªç»“æŸä¹‹åå†å…³é—­èœå• 12await router.push(&quot;/my-profile&quot;);this.isMenuOpen = false; æˆ–è€…æ˜¯ç›‘å¬å¯¼èˆªæ•…éšœï¼Œç„¶ååšç‚¹ä»€ä¹ˆ 12345router.onError((error) =&gt; { if (error instanceof NotAllowedError) { // ... }}); æ•…éšœå¯¼èˆªæˆåŠŸçš„è¯ï¼Œawaitç­‰åˆ°çš„æ˜¯undefinedï¼Œå¦‚æœå¯¼èˆªå¤±è´¥äº†ï¼Œawaitç­‰åˆ°çš„æ˜¯ä¸€ä¸ªNavigationFailureå¯¹è±¡ 12345678const navigationResult = await router.push(&quot;/my-profile&quot;);if (navigationResult) { // å¯¼èˆªè¢«é˜»æ­¢} else { // å¯¼èˆªæˆåŠŸ (åŒ…æ‹¬é‡æ–°å¯¼èˆªçš„æƒ…å†µ) this.isMenuOpen = false;} æˆ–è€…æ˜¯(çœŸçš„å—) 1234567891011try { await router.push(&quot;/my-profile&quot;); this.isMenuOpen = false;} catch (error) { if (error instanceof NotAllowedError) { // ... } else { // æ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼Œå–æ¶ˆå¯¼èˆªå¹¶æŠŠé”™è¯¯ä¼ ç»™å…¨å±€å¤„ç†å™¨ throw error; }} **isNavigationFailure()**ï¼šæ¥äº†è§£å“ªäº›å¯¼èˆªè¢«é˜»æ­¢äº†å’Œä¸ºä»€ä¹ˆè¢«é˜»æ­¢ 123456789import { NavigationFailureType, isNavigationFailure } from &quot;vue-router&quot;;// è¯•å›¾ç¦»å¼€æœªä¿å­˜çš„ç¼–è¾‘æ–‡æœ¬ç•Œé¢const failure = await router.push(&quot;/articles/2&quot;);if (isNavigationFailure(failure, NavigationFailureType.aborted)) { // ç»™ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªå°é€šçŸ¥ showToast(&quot;You have unsaved changes, discard and leave anyway?&quot;);} ğŸ‘‰ isNavigationFailure() ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯ abortedï¼šå¯¼èˆªè¢«å–æ¶ˆï¼Œreturn falseæˆ–next(false) cancelledï¼šå½“å‰å¯¼èˆªæ²¡å®Œæˆä¹‹å‰ï¼Œåˆè§¦å‘äº†ä¸€ä¸ªæ–°çš„å¯¼èˆªï¼ˆåœ¨å¯¼èˆªç­‰å¾…çš„æ—¶å€™ï¼Œè°ƒç”¨äº†ä¸ªæ–°çš„router.push()ï¼‰ duplicatedï¼šå¯¼èˆªè¢«é˜»æ­¢ï¼Œå› ä¸ºå·²ç»åœ¨ç›®æ ‡ä½ç½®äº† å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ çš„è¯ï¼Œå°±åªæ˜¯åˆ¤æ–­æ˜¯å¦æ˜¯Navigation Failure ğŸ™ƒ ğŸ‘‰ isNavigationFailure() ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè®°å½•ç€è·¯ç”±çš„to, from æ£€æµ‹é‡å®šå‘é‡å®šå‘ä¸ä¼šé˜»æ­¢å¯¼èˆªï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¼èˆªï¼Œæ‰€ä»¥router.push()è¿”å›çš„æ˜¯undefined 1234await router.push(&quot;/my-profile&quot;);if (router.currentRoute.value.redirectedFrom) { // redirectedFrom æ˜¯è§£æå‡ºçš„è·¯ç”±åœ°å€ï¼Œå°±åƒå¯¼èˆªå®ˆå«ä¸­çš„ toå’Œ from} è¿‡æ¸¡ç‰¹æ•ˆå’Œæ»šåŠ¨è¡Œä¸ºè¿‡åº¦ç‰¹æ•ˆ12345&lt;router-view v-slot=&quot;{ Component }&quot;&gt; &lt;transition name=&quot;fade&quot;&gt; &lt;component :is=&quot;Component&quot; /&gt; &lt;/transition&gt;&lt;/router-view&gt; Componentæ˜¯å½“å‰è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ v-soltå¯ä»¥ç”¨ç®€å†™#default=&quot;{ Component }&quot; é™¤äº†ä½¿ç”¨v-slotï¼Œè¿˜å¯ä»¥ä½¿ç”¨&lt;router-view&gt;çš„transitionå±æ€§ 1&lt;router-view transition=&quot;fade&quot; /&gt; ğŸ™ƒ é’ˆå¯¹æ¯ä¸ªè·¯ç”±é…ç½®ä¸åŒçš„è¿‡æ¸¡ç‰¹æ•ˆ å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸­åŠ å…¥meta æˆ–è€…åœ¨å…¨å±€åç½®é’©å­ä¸­åŠ å…¥meta 123456789101112const routes = [ { path: &quot;/custom-transition&quot;, component: PanelLeft, meta: { transition: &quot;slide-left&quot; }, }, { path: &quot;/other-transition&quot;, component: PanelRight, meta: { transition: &quot;slide-right&quot; }, },]; 123456&lt;router-view v-slot=&quot;{ Component, route }&quot;&gt; &lt;!-- ä½¿ç”¨ä»»ä½•è‡ªå®šä¹‰è¿‡æ¸¡å’Œå›é€€åˆ° `fade` --&gt; &lt;transition :name=&quot;route.meta.transition || 'fade'&quot;&gt; &lt;component :is=&quot;Component&quot; /&gt; &lt;/transition&gt;&lt;/router-view&gt; â”â” Vue å¯èƒ½ä¼šè‡ªåŠ¨å¤ç”¨çœ‹èµ·æ¥ç›¸ä¼¼çš„ç»„ä»¶ï¼Œä»è€Œå¿½ç•¥äº†ä»»ä½•è¿‡æ¸¡ã€‚å¯ä»¥ç»™åŠ¨æ€ç»„ä»¶åŠ ä¸Šä¸€ä¸ª key å±æ€§ï¼Œæ¥æç¤º Vue å»å¼ºåˆ¶é‡æ–°æ¸²æŸ“ 12345&lt;router-view v-slot=&quot;{ Component, route }&quot;&gt; &lt;transition name=&quot;fade&quot;&gt; &lt;component :is=&quot;Component&quot; :key=&quot;route.path&quot; /&gt; &lt;/transition&gt;&lt;/router-view&gt; æ»šåŠ¨è¡Œä¸º å°±æ˜¯åœ¨å‰è¿›åé€€çš„æ—¶å€™ï¼Œé¡µé¢æ»šåŠ¨åˆ°å“ªé‡Œï¼Œæˆ–è€…æ˜¯ä¿æŒåŸæ¥çš„æ»šåŠ¨ä½ç½® æ³¨æ„: è¿™ä¸ªåŠŸèƒ½åªåœ¨æ”¯æŒ history.pushState çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚ 123456const router = createRouter({ history: createWebHistory(), scrollBehavior(to, from, savedPosition) { // return æœŸæœ›æ»šåŠ¨åˆ°å“ªä¸ªçš„ä½ç½® },}); è¿”å›ä¸€ä¸ªfalsyå€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä¸ä¼šå‘ç”Ÿæ»šåŠ¨ è¿”å›savedPositionï¼Œä¼šæ»šåŠ¨åˆ°ä¹‹å‰ä¿å­˜çš„ä½ç½® ä½ç½®ä½¿ç”¨çš„æ˜¯topå’Œleftï¼Œå¯ä»¥æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—ç¬¦ä¸² 1234567891011const router = createRouter({ scrollBehavior(to, from, savedPosition) { // å§‹ç»ˆåœ¨å…ƒç´  #main ä¸Šæ–¹æ»šåŠ¨ 10px return { // ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ // el: document.getElementById('main'), el: &quot;#main&quot;, top: -10, }; },}); å¦‚æœä½ è¦æ¨¡æ‹Ÿ â€œæ»šåŠ¨åˆ°é”šç‚¹â€ çš„è¡Œä¸ºï¼š 12345678910const router = createRouter({ scrollBehavior(to, from, savedPosition) { if (to.hash) { return { el: to.hash, behavior: &quot;smooth&quot;, // æ»šå¾—æ›´æµç•…ï¼Œå¦‚æœæµè§ˆå™¨æ”¯æŒçš„è¯ }; } },}); å»¶è¿Ÿæ»šåŠ¨ï¼Œç­‰å¾…é¡µé¢åŠ¨æ•ˆå®Œæˆåå†æ»šåŠ¨ï¼Œå¯ä»¥è¿”å›ä¸ªPromise 123456789const router = createRouter({ scrollBehavior(to, from, savedPosition) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve({ left: 0, top: 0 }); }, 500); }); },});","link":"/2023/08/26/VueRouter%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C/"},{"title":"dockeråŸºç¡€ä½¿ç”¨","text":"dockerç‰ˆæœ¬ï¼š19.03 å®‰è£…å¸è½½æ—§ç‰ˆæœ¬12345678yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine å®‰è£…ä¸‹è½½éœ€è¦çš„å®‰è£…åŒ… 1yum install -y yum-utils è®¾ç½®é•œåƒä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘ï¼‰ 123yum-config-manager \\ --add-repo \\ https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo æ›´æ–° yum è½¯ä»¶åŒ…ç´¢å¼• 1yum makecache fast å®‰è£… docker ç¤¾åŒºç‰ˆ docker-ceã€‚ä¼ä¸šç‰ˆä¸º docker-ee 1yum install docker-ce docker-ce-cli containerd.io å¯åŠ¨ docker 1systemctl start docker æŸ¥çœ‹dockerçš„ç‰ˆæœ¬ã€dockerçš„ç³»ç»Ÿä¿¡æ¯ã€å¸®åŠ© 123docker versiondocker infodocker --help å¸è½½å¸è½½ä¾èµ– 1yum remove docker-ce docker-ce-cli containerd.io åˆ é™¤èµ„æºï¼ˆè·¯å¾„å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰ 1rm -rf /var/lib/docker é•œåƒå‘½ä»¤æ¦‚è§ˆæŸ¥çœ‹æœ¬åœ°é•œåƒ 123docker imagesæˆ–è€…docker image ls æœç´¢é•œåƒ 1docker search xxx ä¸‹è½½é•œåƒ 123docker pull xxxæˆ–è€…docker image pull åˆ é™¤é•œåƒ 123docker rmiæˆ–è€…docker image rm docker imagesæ ‡é¢˜ æ ‡é¢˜ æ„æ€ REPOSITORY é•œåƒçš„ä»“åº“æº TAG é•œåƒçš„æ ‡ç­¾ IMAGE ID é•œåƒçš„id CREATED é•œåƒçš„åˆ›å»ºæ—¶é—´ SIZE é•œåƒå¤§å° å¯é€‰é¡¹ é€‰é¡¹ æ„æ€ -a æˆ– â€“all åˆ—å‡ºæ‰€æœ‰é•œåƒ -q æˆ– â€“quiet åªæ˜¾ç¤ºé•œåƒçš„id -aq æ˜¾ç¤ºæ‰€æœ‰é•œåƒçš„id docker searchæ ‡é¢˜ æ ‡é¢˜ æ„æ€ NAME é•œåƒä»“åº“ DESCRIPTION é•œåƒæè¿°ä¿¡æ¯ STARS é•œåƒæ”¶è—æ•° OFFICIAL æ˜¯å¦ä¸ºdockerå®˜æ–¹å‘å¸ƒ AUTOMATED æ˜¯å¦ä¸ºè‡ªåŠ¨åŒ–æ„å»ºçš„é•œåƒ å¯é€‰é¡¹ é€‰é¡¹ ç±»å‹ æ„æ€ -f æˆ– â€“filter filter æŒ‰æä¾›çš„æ¡ä»¶è¾“å‡º â€“format string æ ¼å¼åŒ–è¾“å‡º â€“limit int è¾“å‡ºæ•°é‡ï¼Œé»˜è®¤25ä¸ª â€“no-trunc ä¸æˆªæ–­è¾“å‡º 1docker search mysql --filter=STARS=3000 æœç´¢æ”¶è—æ•°å¤§äº3000çš„ mysql é•œåƒ docker pullå¯é€‰é¡¹ å¯é€‰ ç±»å‹ æ„æ€ -a æˆ– â€“all-tags ä¸‹è½½æ‰€æœ‰æ ‡ç­¾çš„é•œåƒ â€“disable-content-trust è·³è¿‡é•œåƒéªŒè¯ï¼ˆé»˜è®¤ä¸ºtrueï¼‰ â€“platform string å¦‚æœæ˜¯å¤šå¹³å°çš„è¯ï¼Œè®¾ç½®å¹³å° -q æˆ– â€“quiet ä¸éœ€è¦è¯¦ç»†è¾“å‡º ä½¿ç”¨æ ¼å¼ docker pull é•œåƒå[:tag] 1docker pull tomcat:8 ä¸å†™ tagï¼Œé»˜è®¤å°±æ˜¯ latest Aready existsã€Pull completeï¼šæ˜¯åˆ†å±‚ä¸‹è½½ï¼Œdocker image çš„æ ¸å¿ƒï¼Œè”åˆæ–‡ä»¶ç³»ç»Ÿ Digestï¼šç­¾åã€é˜²ä¼ªç  docker.io/library/tomcat:8ï¼šçœŸå®åœ°å€ docker rmiå¯é€‰é¡¹ é€‰é¡¹ æ„æ€ -f æˆ– â€“force å¼ºåˆ¶åˆ é™¤ â€“no-prune ä¸è¦åˆ é™¤æœªæ ‡è®°çš„çˆ¶å¯¹è±¡ åˆ é™¤æŒ‡å®šé•œåƒ 12docker rmi -f é•œåƒiddocker rmi -f é•œåƒid é•œåƒid é•œåƒid åˆ é™¤å…¨éƒ¨é•œåƒ 1docker rmi -f $(docker images -aq) å®¹å™¨å‘½ä»¤æ¦‚è§ˆæ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ 1docker run é•œåƒid åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨ 12docker psdocker container list åˆ é™¤æŒ‡å®šå®¹å™¨ 1docker rm å®¹å™¨id å¯åŠ¨å®¹å™¨ã€é‡å¯å®¹å™¨ 12docker start å®¹å™¨iddocker restart å®¹å™¨id åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ 1docker stop å®¹å™¨id å¼ºåˆ¶åœæ­¢å½“å‰å®¹å™¨ 1docker kill å®¹å™¨id docker rundocker run [å¯é€‰å‚æ•°] image æˆ–è€… docker container run [å¯é€‰å‚æ•°] image å‚æ•° æ„æ€ â€“name=â€Nameâ€ å®¹å™¨çš„åç§° -d åå°æ–¹å¼è¿è¡Œ -it è¿›å…¥å®¹å™¨å†…æŸ¥çœ‹ã€è¿è¡Œ -p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ -p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ï¼ˆå¸¸ç”¨ï¼‰ -p å®¹å™¨ç«¯å£ -Pï¼ˆè¿™æ˜¯å¤§å†™ï¼‰ éšæœºæŒ‡å®šç«¯å£ -v ç»‘å®šä¸€ä¸ªå· ä¾‹1ï¼Œè¿è¡Œ centos 1docker run -it centos /bin/bash å¦‚æœæ²¡æœ‰äº‹å…ˆä¸‹è½½å¥½é•œåƒï¼Œä¼šå…ˆè‡ªåŠ¨ä¸‹è½½ ä½¿ç”¨ exit é€€å‡º 1exit ä½¿ç”¨é”®ç›˜é€€å‡º Ctrl + P + Q ä¾‹2ï¼Œè¿è¡Œ nginx 1docker run --name nginx-test -p 8080:80 -d nginx 1docker run --name nginx_web -p 8080:80 -v /usr/local/share/nginx:/usr/share/nginx -d nginx 1docker run -p 80:80 -v /data:/data -d nginx ä¾‹3ï¼Œè¿è¡Œ mysql 1docker pull mysql:5.7 1docker run --name mysql -p 3308:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7 è¿›å…¥å®¹å™¨ 1docker exec -it mysql bash docker execæ ¼å¼ï¼šdocker exec [OPTIONS] CONTAINER COMMAND [ARG...] å¯é€‰é¡¹ é€‰é¡¹ ç±»å‹ æ„æ€ -d, â€“detach åˆ†ç¦»æ¨¡å¼ï¼Œåå°è¿è¡Œ -e, â€“env list è®¾ç½®ç¯å¢ƒå¯å˜ -i, â€“interactive å³ä½¿æ²¡æœ‰è¿æ¥ï¼Œä¹Ÿè¦ä¿æŒæ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€çŠ¶æ€ -t, â€“tty åˆ†é…ä¸€ä¸ªä¼ªtty -u, â€“user string ç”¨æˆ·åæˆ–è€…UID -w, â€“workdir string å®¹å™¨å†…çš„å·¥ä½œè·¯å¾„ 1docker exec -it nginx-test /bin/bash docker run å’Œ docker exec åŒºåˆ«docker run ï¼šæ ¹æ®é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œæ“ä½œçš„å¯¹è±¡æ˜¯ é•œåƒï¼› docker exec ï¼šåœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œæ“ä½œçš„å¯¹è±¡æ˜¯ å®¹å™¨ã€‚ docker rmåˆ é™¤æŒ‡å®šå®¹å™¨ï¼Œæ­£åœ¨è¿è¡Œçš„ä¸èƒ½åˆ é™¤ 1docker rm å®¹å™¨id åˆ é™¤æŒ‡å®šå®¹å™¨ï¼Œæ­£åœ¨è¿è¡Œçš„å¼ºåˆ¶åˆ é™¤ 1docker rm -f å®¹å™¨id åˆ é™¤æ‰€æœ‰çš„å®¹å™¨ 1docker ps -a -q | xargs docker rm æƒé™ç®¡ç†","link":"/2021/03/05/docker%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/"},{"title":"Vueå“åº”å¼ç¯‡","text":"ğŸŒ¤ï¸ Vue3 å£°æ˜å˜é‡ref()å’Œreactive()éƒ½æ˜¯ç”¨æ¥å£°æ˜å“åº”å¼çš„å˜é‡ï¼ˆä»£ç æ”¹å˜é¡µé¢ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼‰ï¼Œä¸¤è€…ä¸åŒåœ¨äºï¼š å‰è€…ç”¨äºåŸºæœ¬åŸå§‹å€¼ï¼šstringã€numberã€booleanã€nullã€undefinedã€symbolï¼ˆä¸‹é¢çš„ä¹Ÿèƒ½ç”¨ï¼‰ åè€…ç”¨äºï¼šå¯¹è±¡ã€æ•°ç»„ã€setã€map åœ¨&lt;script setup&gt;ä½¿ç”¨æ—¶ï¼Œé€šè¿‡ref()å£°æ˜çš„å˜é‡å–å€¼çš„æ—¶å€™éœ€è¦ä½¿ç”¨.value å¦‚æœåœ¨reactive()é‡Œé¢ä¼ è¿›ä¸€ä¸ªref()ï¼Œä¸éœ€è¦ä½¿ç”¨ï¼Œä¼šè‡ªåŠ¨è§£åŒ… ä½†æ˜¯reactive()é‡Œé¢æ˜¯æ•°ç»„æˆ–è€… map çš„æ—¶å€™ï¼Œåˆéœ€è¦æ‰‹åŠ¨.value 1234567891011121314import { ref, reactive } from &quot;vue&quot;;const age = ref(18);const xm = reactive({ name: &quot;xm&quot;, gender: &quot;male&quot;, age });console.log(age.value); // 18console.log(xm.name); // 'xm'console.log(xm.age); // 18const books = reactive([ref(&quot;Vue 3 Guide&quot;)]);const map = reactive(new Map([[&quot;count&quot;, ref(0)]]));console.log(books[0].value); // 'Vue 3 Guide'console.log(map.get(&quot;count&quot;).value); // 0 reactive()å£°æ˜çš„å¯¹è±¡é‡æ–°èµ‹å€¼ï¼Œä¼šä¸¢å¤±å“åº”æ€§ï¼›åœ¨è§£æ„çš„æ—¶å€™ï¼Œä¹Ÿä¼šä¸¢å¤±å“åº”æ€§ 12345678let state = reactive({ count: 0 });// ä¸Šé¢çš„ ({ count: 0 }) å¼•ç”¨å°†ä¸å†è¢«è¿½è¸ªstate = reactive({ count: 1 });let { count } = state;// ä¸ä¼šå½±å“åŸå§‹çš„ statecount++; æ¨¡æ¿ä¸­ä½¿ç”¨è‡ªåŠ¨è§£åŒ…æ¡ä»¶ï¼š é¡¶çº§çš„ref()ä¼šè‡ªåŠ¨è§£åŒ… ä¸æ˜¯é¡¶çº§ï¼Œä½†æ˜¯åªæ˜¯å–å€¼ï¼ˆæ— å…¶ä»– js æ“ä½œï¼‰ï¼Œä¹Ÿå¯è‡ªåŠ¨è§£åŒ… 12const count = ref(0);const object = { id: ref(1) }; 123456&lt;!-- æ­£å¸¸è¿ä½œ --&gt;&lt;div&gt;{{ count++ }}&lt;/div&gt;&lt;!-- å¤±è´¥ï¼Œå¾—åˆ° [object Object]1 --&gt;&lt;div&gt;{{ object.id + 1 }}&lt;/div&gt;&lt;!-- æ­£å¸¸è¿ä½œï¼Œç›¸å½“äºåœ¨åé¢åŠ ä¸Š.value--&gt;&lt;div&gt;{{ object.id }}&lt;/div&gt; ç±»å‹æ ‡æ³¨ä¸€èˆ¬æŒ‡å®š&lt;script setup lang='ts'&gt;ä¸º TypeScript æ—¶æœ‰è‡ªåŠ¨çš„ç±»å‹æ¨æ–­ï¼Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š ğŸ¤” æŒ‡å®šrefçš„ç±»å‹ 12345678import { ref } from &quot;vue&quot;;import type { Ref } from &quot;vue&quot;;const year: Ref&lt;string | number&gt; = ref(&quot;2020&quot;);// æˆ–è€…æ˜¯const year = ref&lt;string | number&gt;(&quot;2020&quot;);year.value = 2020; ğŸ¤” æŒ‡å®šreactiveçš„ç±»å‹ 12345678import { reactive } from &quot;vue&quot;;interface Book { title: string; year?: number;}const book: Book = reactive({ title: &quot;Vue 3 æŒ‡å¼•&quot; }); è¯´æ˜ä½¿ç”¨å¸¦.valueçš„ ref è€Œä¸æ˜¯æ™®é€šçš„å˜é‡ æ¸²æŸ“çš„æ—¶å€™è¿½è¸ªæ¸²æŸ“è¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ¯ä¸€ä¸ª ref ref å˜åŒ–æ—¶ï¼Œè§¦å‘ç»„ä»¶å†…çš„é‡æ–°æ¸²æŸ“å‡½æ•° æ™®é€šå˜é‡æ— æ³•è¾¾åˆ°è¿™ä¸ªç›®çš„ ç±»ä¼¼äºè¿™æ · 123456789101112// ä¼ªä»£ç ï¼Œä¸æ˜¯çœŸæ­£çš„å®ç°const myRef = { _value: 0, get value() { track(); return this._value; }, set value(newValue) { this._value = newValue; trigger(); },}; ä¸æ˜¯æ¯ä¸€æ¬¡çš„ ref å˜åŠ¨éƒ½è§¦å‘é¡µé¢é‡æ–°æ¸²æŸ“ã€‚Vue ä¼šåœ¨â€œnext tickâ€æ›´æ–°å‘¨æœŸä¸­ç¼“å†²æ‰€æœ‰çŠ¶æ€çš„ä¿®æ”¹ï¼Œä¸ç®¡è¿›è¡Œäº†å¤šå°‘æ¬¡çŠ¶æ€ä¿®æ”¹ï¼Œæ¯ä¸ªç»„ä»¶éƒ½åªä¼šè¢«æ›´æ–°ä¸€æ¬¡ã€‚ è¦ç­‰å¾… DOM æ›´æ–°å®Œæˆå†æ‰§è¡Œï¼Œéœ€è¦ä½¿ç”¨nextTick() 12345678910111213141516171819&lt;script setup&gt; import { ref, nextTick } from &quot;vue&quot;; const count = ref(0); async function increment() { count.value++; // DOM è¿˜æœªæ›´æ–° console.log(document.getElementById(&quot;counter&quot;).textContent); // 0 // å¯ä»¥ awaitï¼Œä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿›å» await nextTick(); // DOM æ­¤æ—¶å·²ç»æ›´æ–° console.log(document.getElementById(&quot;counter&quot;).textContent); // 1 }&lt;/script&gt;&lt;template&gt; &lt;button id=&quot;counter&quot; @click=&quot;increment&quot;&gt;{{ count }}&lt;/button&gt;&lt;/template&gt; è®¡ç®—å±æ€§computed(()=&gt;{})ï¼Œå¿…é¡»è¦æœ‰è¿”å›å€¼ï¼›ä¸èƒ½æ¥æ”¶å‚æ•° å’Œref()ä¸€æ ·ï¼Œåœ¨ JS ä¸­ä½¿ç”¨æ—¶éœ€è¦.value é€šè¿‡ç°æœ‰çš„å˜é‡æ¥è¿›ä¸€æ­¥è®¡ç®—è·å¾—æ–°çš„å€¼ï¼ˆä¸´æ—¶å€¼ï¼‰ï¼›æˆ–è€…å°†æ¡ä»¶åˆ¤æ–­å†™åˆ°è®¡ç®—å±æ€§ä¸­ï¼Œç®€åŒ–æ¨¡æ¿ä¸­{{}}é‡Œé¢çš„å†…å®¹ å› ä¸ºæ˜¯åœ¨ç°æœ‰åŸºç¡€ä¸Šå¾—æ¥çš„ï¼ˆæ´¾å‡å€¼ï¼‰ï¼Œæ‰€ä»¥ç›´æ¥ä¿®æ”¹å®ƒæ²¡ä»€ä¹ˆä¸€æ ·ï¼Œæ‰€ä»¥ä¸€èˆ¬è®¤ä¸ºè¿™æ˜¯åªè¯»çš„ 12345678910111213141516171819202122&lt;script setup&gt; import { reactive, computed } from &quot;vue&quot;; const author = reactive({ name: &quot;John Doe&quot;, books: [ &quot;Vue 2 - Advanced Guide&quot;, &quot;Vue 3 - Basic Guide&quot;, &quot;Vue 4 - The Mystery&quot;, ], }); // ä¸€ä¸ªè®¡ç®—å±æ€§ ref const publishedBooksMessage = computed(() =&gt; { return author.books.length &gt; 0 ? &quot;Yes&quot; : &quot;No&quot;; });&lt;/script&gt;&lt;template&gt; &lt;p&gt;Has published books:&lt;/p&gt; &lt;span&gt;{{ publishedBooksMessage }}&lt;/span&gt;&lt;/template&gt; ä¼šè‡ªåŠ¨è·Ÿè¸ªå“åº”å¼ä¾èµ–ã€‚å®ƒä¼šæ£€æµ‹åˆ° publishedBooksMessage ä¾èµ–äº author.booksï¼Œæ‰€ä»¥å½“ author.books æ”¹å˜æ—¶ï¼Œä»»ä½•ä¾èµ–äº publishedBooksMessage çš„ç»‘å®šéƒ½ä¼šåŒæ—¶æ›´æ–°ã€‚ TS ç±»å‹æ ‡æ³¨ ä¸€èˆ¬æƒ…å†µä¸‹ä¼šè‡ªåŠ¨æ¨æ–­ï¼Œæ‰‹åŠ¨æŒ‡å®šï¼š 123const double = computed&lt;number&gt;(() =&gt; { // è‹¥è¿”å›å€¼ä¸æ˜¯ number ç±»å‹åˆ™ä¼šæŠ¥é”™}); ä¸æ–¹æ³•çš„åŒºåˆ« è®¡ç®—å±æ€§ä¼šç¼“å­˜ï¼Œæ¸²æŸ“æ—¶å¦‚æœæ‰€ä¾èµ–çš„å˜é‡æ²¡æœ‰æ”¹å˜ï¼Œè®¡ç®—å±æ€§ä¸ä¼šæ‰§è¡Œï¼ˆä¸æ‰§è¡Œ getter å‡½æ•°ï¼‰ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ–¹æ³•åœ¨æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œã€‚ è®¡ç®—å±æ€§æ˜¯åŸºäºå“åº”å¼ä¾èµ–è¢«ç¼“å­˜ï¼Œä¸‹é¢Date.now()ä¸æ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥ä¸ä¼šè¢«ç¼“å­˜ 1const now = computed(() =&gt; Date.now()); å¯å†™è®¡ç®—å±æ€§123456789101112131415161718&lt;script setup&gt;import { ref, computed } from 'vue'const firstName = ref('John')const lastName = ref('Doe')const fullName = computed({ // getter get() { return firstName.value + ' ' + lastName.value }, // setter set(newValue) { // æ³¨æ„ï¼šæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯è§£æ„èµ‹å€¼è¯­æ³• [firstName.value, lastName.value] = newValue.split(' ') }})&lt;/script&gt; getter ä¸åº”è¯¥æœ‰å‰¯ä½œç”¨ï¼ˆå˜æ›´ç°æœ‰å€¼ï¼Œè§¦å‘ DOM é‡æ–°æ¸²æŸ“ï¼‰ ç›‘å¬å™¨watch(ref, (newVal, oldVal)=&gt;{}) è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå†æ¬¡è°ƒç”¨å¯åœæ­¢å½“å‰ç›‘å¬ ç›¸æ¯”äº _è®¡ç®—å±æ€§_ï¼Œç›‘å¬å™¨åšçš„æ˜¯ç›‘å¬åˆ°å€¼å˜åŒ–çš„æ—¶å€™åšä¸€äº›å‰¯ä½œç”¨ï¼ˆDOM é¡µé¢æ›´æ–°ï¼‰ã€‚watch api 12345678910111213141516171819202122import { ref, watch } from &quot;vue&quot;;const x = ref(0);const y = ref(0);// å•ä¸ª refwatch(x, (newX) =&gt; { console.log(`x is ${newX}`);});// getter å‡½æ•°watch( () =&gt; x.value + y.value, (sum) =&gt; { console.log(`sum of x + y is: ${sum}`); });// å¤šä¸ªæ¥æºç»„æˆçš„æ•°ç»„watch([x, () =&gt; y.value], ([newX, newY]) =&gt; { console.log(`x is ${newX} and y is ${newY}`);}); ç›‘å¬reactiveå¯¹è±¡çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥ç›‘å¬å®ƒçš„å±æ€§ï¼Œè€Œæ˜¯éœ€è¦ä¸€ä¸ª getter å‡½æ•° 1234567891011121314const obj = reactive({ count: 0 });// é”™è¯¯ï¼Œå› ä¸º watch() å¾—åˆ°çš„å‚æ•°æ˜¯ä¸€ä¸ª numberwatch(obj.count, (count) =&gt; { console.log(`count is: ${count}`);});// æä¾›ä¸€ä¸ª getter å‡½æ•°watch( () =&gt; obj.count, (count) =&gt; { console.log(`count is: ${count}`); }); æ·±åº¦ç›‘å¬ç›‘å¬å“åº”å¼å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šéšå¼åœ°è¿›è¡Œæ·±åº¦ç›‘å¬ 123456789const obj = reactive({ count: 0 });watch(obj, (newValue, oldValue) =&gt; { // åœ¨åµŒå¥—çš„å±æ€§å˜æ›´æ—¶è§¦å‘ // æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„ // å› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼});obj.count++; å¦‚æœåªéœ€è¦ç›‘å¬å¯¹è±¡çš„æ”¹å˜ï¼Œéœ€è¦ç›‘å¬ä¸€ä¸ª getter å‡½æ•° 123456watch( () =&gt; state.someObject, () =&gt; { // ä»…å½“ state.someObject è¢«æ›¿æ¢æ—¶è§¦å‘ }); åœ¨ä½¿ç”¨ getter å‡½æ•°çš„åŸºç¡€ä¸Šï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå¼ºåˆ¶æ·±åº¦ç›‘å¬ 12345678watch( () =&gt; state.someObject, (newValue, oldValue) =&gt; { // æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„ // *é™¤é* state.someObject è¢«æ•´ä¸ªæ›¿æ¢äº† }, { deep: true }); å›è°ƒè§¦å‘æ—¶æœºæŒ‡å®šflushçš„å€¼ï¼Œæœ‰ï¼š'pre' | 'post' | 'sync' é»˜è®¤æƒ…å†µï¼ˆpreï¼‰ä¸­ï¼Œæ˜¯åœ¨ DOM æ›´æ–°å‰è§¦å‘çš„ï¼Œæ‰€ä»¥åœ¨å›è°ƒé‡Œé¢è·å¾—çš„ DOM æ˜¯æ—§çš„ DOM æ›´æ–°åè§¦å‘ï¼ˆpostï¼‰ 12345678910111213import { watchEffect, watchPostEffect } from &quot;vue&quot;;watch(source, callback, { flush: &quot;post&quot;,});watchEffect(callback, { flush: &quot;post&quot;,});watchPostEffect(() =&gt; { /* åœ¨ Vue æ›´æ–°åæ‰§è¡Œ. å¯¹åº”çš„æ˜¯ flush: 'post' */}); watchSyncEffect()ä¸ºåŒæ­¥è§¦å‘ï¼Œå¯¹åº”çš„watchEffectä¸ºflush: 'sync' ç«‹å³è§¦å‘ watché»˜è®¤æ˜¯æ‡’æ‰§è¡Œçš„ï¼šä»…å½“æ•°æ®æºå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå›è°ƒã€‚ å¦‚æœéœ€è¦åœ¨åˆ›å»ºçš„æ—¶å€™ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼š 1234567watch( source, (newValue, oldValue) =&gt; { // ç«‹å³æ‰§è¡Œï¼Œä¸”å½“ `source` æ”¹å˜æ—¶å†æ¬¡æ‰§è¡Œ }, { immediate: true }); watchEffectå’Œwacthçš„åŒºåˆ«æ˜¯ä¸ç”¨æŒ‡å®šè¦ç›‘å¬çš„ç›®æ ‡ï¼Œå®ƒä¼šè‡ªåŠ¨è·Ÿè¸ªï¼ˆè·Ÿè¸ªå–å€¼çš„é‚£ä¸ªå˜é‡ï¼‰ ä¸éœ€è¦æŒ‡å®šimmediate: trueä¹Ÿä¼šç«‹å³æ‰§è¡Œ 12345678910111213const todoId = ref(1);const data = ref(null);watch( todoId, async () =&gt; { const response = await fetch( `https://jsonplaceholder.typicode.com/todos/${todoId.value}` ); data.value = await response.json(); }, { immediate: true }); ä½¿ç”¨watchEffectç®€åŒ– 123456watchEffect(async () =&gt; { const response = await fetch( `https://jsonplaceholder.typicode.com/todos/${todoId.value}` ); data.value = await response.json();}); å¯¹äºéœ€è¦ç›‘å¬å¤šä¸ªä¾èµ–çš„æ—¶å€™éå¸¸æœ‰ç”¨ åœæ­¢ç›‘å¬å™¨åœ¨setupä¸­åŒæ­¥è¯­å¥åˆ›å»ºçš„ç›‘å¬å™¨ï¼Œä¼šéšç€ç»„ä»¶å¸è½½è€Œè‡ªåŠ¨åœæ­¢ã€‚å¦‚æœæ˜¯åœ¨å¼‚æ­¥è¯­å¥ä¸­åˆ›å»ºï¼Œéœ€è¦æ‰‹åŠ¨åœæ­¢ 1234567891011&lt;script setup&gt; import { watchEffect } from &quot;vue&quot;; // å®ƒä¼šè‡ªåŠ¨åœæ­¢ watchEffect(() =&gt; {}); // ...è¿™ä¸ªåˆ™ä¸ä¼šï¼ setTimeout(() =&gt; { watchEffect(() =&gt; {}); }, 100);&lt;/script&gt; è°ƒç”¨ç›‘å¬å™¨æ‰§è¡Œåçš„è¿”å›å€¼åœæ­¢ç›‘å¬å™¨ 1234const unwatch = watchEffect(() =&gt; {});// ...å½“è¯¥ä¾¦å¬å™¨ä¸å†éœ€è¦æ—¶unwatch(); ä¸€èˆ¬éƒ½æ˜¯åŒæ­¥åˆ›å»ºç›‘å¬å™¨çš„ ğŸ˜ƒ å…¶ä»– APIisRef() åˆ¤æ–­å˜é‡æ˜¯ä¸æ˜¯ref shallowRef() ref çš„æµ…å±‚å½¢å¼ï¼Œåªå¯¹ç¬¬ä¸€ä¸ª.ä¿æŒå“åº”å¼ã€‚æ”¹å˜æ·±å±‚æ¬¡çš„.ï¼Œé¡µé¢ä¸ä¼šæ›´æ–°ï¼›åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„çš„æ—¶å€™å¯¹æ€§èƒ½æœ‰å¸®åŠ© 1234567const state = shallowRef({ count: 1 });// ä¸ä¼šè§¦å‘æ›´æ”¹state.value.count = 2;// ä¼šè§¦å‘æ›´æ”¹state.value = { count: 2 }; triggerRef() å¼ºåˆ¶è§¦å‘ä¸€ä¸ªshalloRef()ã€‚å°±æ˜¯å¼ºåˆ¶åœ°å°†ä¼ è¿›å»çš„æµ…å±‚ ref å˜ä¸ºæ·±å±‚æ¬¡ä¹Ÿæœ‰å“åº”å¼ 123456789101112131415const shallow = shallowRef({ greet: &quot;Hello, world&quot;,});// è§¦å‘è¯¥å‰¯ä½œç”¨ç¬¬ä¸€æ¬¡åº”è¯¥ä¼šæ‰“å° &quot;Hello, world&quot;watchEffect(() =&gt; { console.log(shallow.value.greet);});// è¿™æ¬¡å˜æ›´ä¸åº”è§¦å‘å‰¯ä½œç”¨ï¼Œå› ä¸ºè¿™ä¸ª ref æ˜¯æµ…å±‚çš„// å¦‚æœå…³è”é¡µé¢ï¼Œé¡µé¢ä¸ä¼šæ¸²æŸ“shallow.value.greet = &quot;Hello, universe&quot;;// æ‰“å° &quot;Hello, universe&quot;ï¼ˆwatchEffectç›‘å¬åˆ°äº†å˜åŠ¨ï¼‰triggerRef(shallow); customRef() æœ‰ Proxy çš„æ„æ€ï¼Œåœ¨è®¾ç½®å€¼å–å€¼ä¹‹é—´è¿›è¡Œè‡ªå®šä¹‰æ“ä½œ æ¥æ”¶ä¸€ä¸ªå›è°ƒï¼Œæœ‰ä¸¤ä¸ªå‚æ•° track()å‡½æ•°å’Œtrigger()å‡½æ•° è¿”å›ä¸€ä¸ªå¯¹è±¡ åŒ…å«get()æ–¹æ³•å’Œset()æ–¹æ³• ä¸€èˆ¬ track åœ¨ get é‡Œé¢è°ƒç”¨ï¼›trigger åœ¨ set é‡Œé¢è°ƒç”¨ ä¾‹å¦‚ 1234567891011121314151617181920import { customRef } from &quot;vue&quot;;export function useDebouncedRef(value, delay = 200) { let timeout; return customRef((track, trigger) =&gt; { return { get() { track(); return value; }, set(newValue) { clearTimeout(timeout); timeout = setTimeout(() =&gt; { value = newValue; trigger(); }, delay); }, }; });} 12345678&lt;script setup&gt;import { useDebouncedRef } from &quot;./debouncedRef&quot;;const text = useDebouncedRef(&quot;hello&quot;);&lt;/script&gt;&lt;template&gt; &lt;input v-model=&quot;text&quot; /&gt;&lt;/template&gt; shallowReactive() å¦‚æœé‡Œé¢ä¼ çš„æ˜¯ref()ï¼Œä¸ä¼šè‡ªåŠ¨è§£åŒ… 123456789101112131415const state = shallowReactive({ foo: 1, nested: { bar: 2, },});// æ›´æ”¹çŠ¶æ€è‡ªèº«çš„å±æ€§æ˜¯å“åº”å¼çš„state.foo++;// ...ä½†ä¸‹å±‚åµŒå¥—å¯¹è±¡ä¸ä¼šè¢«è½¬ä¸ºå“åº”å¼isReactive(state.nested); // false// ä¸æ˜¯å“åº”å¼çš„state.nested.bar++; readonly() æ¥å—ä¸€ä¸ªå¯¹è±¡ (ä¸è®ºæ˜¯å“åº”å¼è¿˜æ˜¯æ™®é€šçš„)ï¼Œè¿”å›ä¸€ä¸ªåªè¯»å¯¹è±¡ä»£ç† shallowReadonly() åªæ˜¯ç¬¬ä¸€ä¸ª.åªè¯» toRaw() è¿”å›ç”± reactive()ã€readonly()ã€shallowReactive() æˆ–è€… shallowReadonly() åˆ›å»ºçš„ä»£ç†å¯¹åº”çš„åŸå§‹å¯¹è±¡ 1234const foo = {};const reactiveFoo = reactive(foo);console.log(toRaw(reactiveFoo) === foo); // true markRaw() å°†å¯¹è±¡æ ‡è®°ä¸ºä¸å¯ä»£ç†ï¼ˆä¸èƒ½è®¾ç½®ä¸ºå“åº”å¼ï¼‰ã€‚è¿”å›å¯¹è±¡æœ¬èº« 123456const foo = markRaw({});console.log(isReactive(reactive(foo))); // false// ä¹Ÿé€‚ç”¨äºåµŒå¥—åœ¨å…¶ä»–å“åº”æ€§å¯¹è±¡const bar = reactive({ foo });console.log(isReactive(bar.foo)); // false effectScope() åˆ›å»ºä¸€ä¸ª effect ä½œç”¨åŸŸï¼Œæ•è·åˆ›å»ºçš„å‰¯ä½œç”¨ï¼ˆè®¡ç®—å±æ€§å’Œç›‘å¬å™¨ï¼‰ï¼Œç„¶ååŒæ—¶å¤„ç† 123456789101112const scope = effectScope();scope.run(() =&gt; { const doubled = computed(() =&gt; counter.value * 2); watch(doubled, () =&gt; console.log(doubled.value)); watchEffect(() =&gt; console.log(&quot;Count: &quot;, doubled.value));});// å¤„ç†æ‰å½“å‰ä½œç”¨åŸŸå†…çš„æ‰€æœ‰ effectscope.stop(); getCurrentScope() å¦‚æœæœ‰çš„è¯ï¼Œè¿”å›å½“å‰æ´»è·ƒçš„ effect ä½œç”¨åŸŸã€‚ onScopeDispose() æ¥æ”¶ä¸€ä¸ªå›è°ƒï¼Œå½“ effect ä½œç”¨åŸŸåœæ­¢çš„æ—¶å€™ä¼šæ‰§è¡Œè¿™ä¸ªå›è°ƒã€‚onUnmountedçš„æ›¿ä»£å“","link":"/2023/10/01/Vue%E7%8A%B6%E6%80%81%E7%AF%87/"},{"title":"ç½‘ç»œè¯·æ±‚","text":"ğŸŒ åˆ—ä¸¾ JavaScript ä¸­ç½‘ç»œè¯·æ±‚çš„æ–¹å¼ ğŸ“¦ ajax, jqeury.ajax, fetch, axios, got AJAX ç¯å¢ƒ: æµè§ˆå™¨ å…¨ç§°ï¼šå¼‚æ­¥ JavaScript å’Œ XMLï¼ˆAsynchronous JavaScript and XMLï¼‰ ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§å°†ç°æœ‰æŠ€æœ¯ç»“åˆèµ·æ¥çš„ä½¿ç”¨æ–¹æ³•ã€‚ğŸŒ mdn ajax æ–‡æ¡£ è™½ç„¶å…¶ä¸­ X ä»£è¡¨ XML_ï¼Œä½†æ˜¯ _JSON æ˜¯é¦–é€‰ç±»å‹ ä½¿ç”¨ AJAX å‘é€çš„è¯·æ±‚å’Œä¼ ç»Ÿçš„è¡¨å• (&lt;form&gt;æ ‡ç­¾) çš„è¯·æ±‚æ–¹å¼ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨æŒ‰é’®ï¼Œå…¶å±æ€§ç±»å‹ä¸ç”¨è®¾ç½®ä¸ºsubmitï¼Œnameå±æ€§ä¹Ÿä¸ç”¨å†™å‡ºæ¥ åŸºæœ¬ä½¿ç”¨12345678910// 1. åˆ›å»ºajaxå¯¹è±¡const xhr = new XMLHttpRequest();// 2. è¯·æ±‚çš„æ–¹å¼å’Œè¯·æ±‚åœ°å€ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° boolean æŒ‡å®šæ˜¯å¦ä¸ºå¼‚æ­¥xhr.open(&quot;get&quot;, &quot;http:localhost/test&quot;);// 3. å‘é€è¯·æ±‚ã€‚å‚æ•°å¯ä¼ é€’ä»»ä½•æƒ³ä¼ åˆ°æœåŠ¡å™¨çš„å†…å®¹xhr.send();// 4. è·å–æœåŠ¡å™¨ç«¯å“åº”çš„å†…å®¹xhr.onload = function () { console.log(xhr.responseText);}; åœ¨ä¸Šé¢ç¬¬ 4 ç‚¹ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨xhr.onreadystatechangeäº‹ä»¶ï¼Œä¸åŒçš„æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•éœ€è¦å¯¹å“åº”çŠ¶æ€è¿›è¡Œåˆ¤æ–­ 12345xhr.onreadystatechange() = function { if (xhr.readyState == 4) { console.log(xhr.responseText); }} è¿™ä¸ªæ–¹æ³•å…¼å®¹ä½ç‰ˆæœ¬ IE æµè§ˆå™¨ï¼Œxhr.onloadä¸å…¼å®¹ä½ç‰ˆæœ¬ IE æµè§ˆå™¨ è¿™ä¸ªæ–¹æ³•ä¼šè¢«è°ƒç”¨å¤šæ¬¡ï¼Œxhr.onloadåªè°ƒç”¨ä¸€æ¬¡ è¿™ä¸ªæ–¹æ³•éœ€è¦å¯¹å“åº”çŠ¶æ€ç åˆ¤æ–­ï¼Œxhr.onloadä¸ç”¨ åœ¨ä¸Šé¢ä¸­å¾—åˆ°çš„å“åº”æ•°æ®æ˜¯Stringç±»å‹ï¼Œè¦å°†å…¶è½¬æ¢å¯ä»¥ä½¿ç”¨JSON.parse(xhr.responseText) è¯·æ±‚å‚æ•°çš„ä¼ é€’ä¾‹å¦‚æœ‰è¿™æ ·çš„ä¸€ä¸ªé¡µé¢ 1&lt;input type=&quot;text&quot; id=&quot;username&quot; /&gt; &lt;input type=&quot;text&quot; id=&quot;age&quot; /&gt; GET è¯·æ±‚1234567891011const xhr = new XMLHttpRequest();// é…ç½®è¯·æ±‚å‚æ•°let userName = username.value;let userAge = age.value;let params = &quot;username=&quot; + userName + &quot;&amp;age=&quot; + userAge;// å‚æ•°åœ¨è¯·æ±‚çš„urlä¸­xhr.open(&quot;get&quot;, &quot;http:localhost/get?&quot; + params);xhr.send();xhr.onload = function () { console.log(xhr.responseText);}; è¯·æ±‚åœ°å€ä¸å‚æ•°ä¹‹é—´ä½¿ç”¨ ? éš”å¼€ï¼Œå‚æ•°ä¸å‚æ•°ä¹‹é—´ä½¿ç”¨ &amp; éš”å¼€ POST è¯·æ±‚12345678910111213const xhr = new XMLHttpRequest();let userName = username.value;let userAge = age.value;let params = &quot;username=&quot; + userName + &quot;&amp;age=&quot; + userAge;xhr.open(&quot;get&quot;, &quot;http:localhost/post&quot;);// postè¯·æ±‚éœ€è¦è®¾ç½®è¯·æ±‚å‚æ•°çš„ç±»å‹xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);// å‘é€è¯·æ±‚æ—¶éœ€è¦ä¼ é€’å‚æ•°xhr.send(params);xhr.onload = function () { console.log(xhr.responseText);}; æ±‚å‚æ•°çš„ç±»å‹æœ‰ï¼š application/x-www-form-urlencodedçš„å½¢å¼ï¼šname=zs&amp;age=20 application/jsonçš„å½¢å¼ï¼š{ name: â€˜zsâ€™, age: 20 } åœ¨è¯·æ±‚å¤´ä¸­æŒ‡å®š Content-Type å±æ€§çš„å€¼æ˜¯ application/json çš„æ—¶å€™å°±æ˜¯å‘Šè¯‰æœåŠ¡å™¨å½“å‰è¯·æ±‚çš„æ ¼å¼æ˜¯ json åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ˜¯ç”¨ json æ ¼å¼å‘é€è¯·æ±‚ 123xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);// ç„¶åéœ€è¦å°†jsonå¯¹è±¡è½¬æ¢æˆjsonå­—ç¬¦ä¸²xhr.send(JSON.stringify({ name: &quot;zs&quot;, age: 20 })); å¦‚æœä½¿ç”¨çš„æ˜¯ Node.jsï¼Œå°±åœ¨å…¥å£æ–‡ä»¶ä¸­é…ç½®ï¼Œæ¥å†³å®šè¯·æ±‚çš„å‚æ•°ç±»å‹ 123app.use(bodyParser.urlencoded());// æˆ–è€…app.use(bodyParser.json()); ä¼ ç»Ÿçš„è¡¨å•æäº¤å’Œ GET è¯·æ±‚éƒ½ä¸æ”¯æŒæäº¤ json ç±»å‹çš„æ•°æ® å“åº”çŠ¶æ€ajax çŠ¶æ€ç åœ¨åˆ›å»º ajax å¯¹è±¡ã€é…ç½®ã€å‘é€è¯·æ±‚ã€æ¥æ”¶æœåŠ¡ç«¯è¿”å›çš„å†…å®¹çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¿™å°±æ˜¯ ajax çŠ¶æ€ç ï¼Œä½¿ç”¨xhr.readyStateè·å¾—ã€‚ 0ï¼šè¯·æ±‚æ²¡æœ‰åˆå§‹åŒ– 1ï¼šæœåŠ¡è¿æ¥å·²ç»å»ºç«‹ï¼Œä½†è¿˜æ²¡è°ƒç”¨ send() 2ï¼šå·²ç»åŠ è½½å®Œæˆ 3ï¼šæ­£åœ¨å¤„ç†è¯·æ±‚ï¼ˆè¿™æ—¶å€™æœ‰ä¸€éƒ¨åˆ†çš„å“åº”æ•°æ®æ˜¯å¯ä»¥ä½¿ç”¨çš„äº†ï¼‰ 4ï¼šå“åº”å®Œæˆ æ•°å€¼å¯é€šè¿‡XMLHttpRequest.åç§°è·å¾—ï¼šæœ‰DONE,OPENED,HEADERS_RECEIVED,LOADING,DONE http çŠ¶æ€ç  ç½‘ç»œæ­£å¸¸ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ä¹‹åè¿”å›çš„æ•°æ®ä¸æ˜¯é¢„æœŸçš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨xhr.statusè·å–æœåŠ¡å™¨è¿”å›çš„ http çŠ¶æ€ç æ¥åˆ¤æ–­ï¼ˆ_æœåŠ¡å™¨çŠ¶æ€ç å’Œ ajax çŠ¶æ€ç ä¸ä¸€æ ·_ï¼‰ ç½‘ç»œæ­£å¸¸ï¼ŒæœåŠ¡ç«¯è¿”å›äº† 404 çŠ¶æ€ç ï¼Œå¯èƒ½æ˜¯è¯·æ±‚çš„åœ°å€æœ‰é”™ ç½‘ç»œæ­£å¸¸ï¼ŒæœåŠ¡å™¨è¿”å›äº† 505 çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨å‡ºäº†é—®é¢˜ ç½‘ç»œæ–­äº†ï¼Œä½¿ç”¨ xhr.onerror()æ¥å¤„ç†é”™è¯¯ åŒºåˆ† ajax çŠ¶æ€ç å’Œ http çŠ¶æ€ç  ajax çŠ¶æ€ç ï¼šè¡¨ç¤º ajax çš„è¯·æ±‚è¿‡ç¨‹çŠ¶æ€ï¼Œæ˜¯ ajax å¯¹è±¡è¿”å›çš„ http çŠ¶æ€ç ï¼šè¡¨ç¤ºè¯·æ±‚çš„ç»“æœï¼Œæ˜¯æœåŠ¡å™¨è¿”å›çš„ å…¶ä»–ä½ç‰ˆæœ¬ IE æµè§ˆå™¨ç¼“å­˜åœ¨ä½ç‰ˆæœ¬çš„ IE æµè§ˆå™¨ä¸­ï¼Œè¯·æ±‚çš„å†…å®¹åªåŸºäºç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå³æ˜¯è¯·æ±‚çš„æ–‡ä»¶é‡Œé¢çš„å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œå®¢æˆ·ç«¯ä¾ç„¶ä½¿ç”¨æ—§çš„æ•°æ®ã€‚ è§£å†³æ–¹æ³•ï¼Œä½¿å¾—æ¯æ¬¡è¯·æ±‚çš„å‚æ•°ä¸ä¸€æ ·ï¼ˆä½†æ˜¯ä¸èƒ½å’Œç°æœ‰çš„å‚æ•°ç›¸åŒï¼‰ 1xhr.open(&quot;get&quot;, &quot;http://test.com?page=&quot; + Math.random()); ajax å¼‚æ­¥1234xhr.onload = () =&gt; { console.log(&quot;2&quot;);};console.log(&quot;1&quot;); å…ˆè¾“å‡º 1ï¼Œå†è¾“å‡º 2 jQuery.ajaxä½¿ç”¨å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼š æµè§ˆå™¨ç¯å¢ƒ&lt;script&gt;æ ‡ç­¾å¼•å…¥ï¼Œå¼•å…¥ä»å®˜ç½‘ä¸‹è½½çš„jqeuryï¼Œæˆ–è€…é€šè¿‡ CDN node ç¯å¢ƒ npm åŒ… æµè§ˆå™¨ç¯å¢ƒ 123456789101112131415&lt;head&gt; &lt;script src=&quot;jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;button id=&quot;btn&quot;&gt;BTN&lt;/button&gt;&lt;/body&gt;&lt;script&gt; $(&quot;#btn&quot;).on(&quot;click&quot;, () =&gt; { $.ajax({ url: &quot;xxx&quot;, succuess: () =&gt; {}, error: () =&gt; {}, }); });&lt;/script&gt; node ç¯å¢ƒä½¿ç”¨ 1npm install jquery --save 1234567const { ajax } = require(&quot;jqeury&quot;);ajax({ url: &quot;&quot;, success: () =&gt; {}, error: () =&gt; {},}); fetch ç¯å¢ƒ: æµè§ˆå™¨ï¼Œnodejs v17.5.0, v16.15.0 å¼€å§‹æ”¯æŒ fetch å’Œ jquery.ajax() ä¸åŒæœ‰ï¼š è¿”å›çš„Promiseä¸ä¼šå› ä¸º HTTP é”™è¯¯çŠ¶æ€è€Œè¢«æ‹’ç»ï¼ˆ404ã€500ï¼‰ï¼Œæ­£å¸¸ resolveï¼Œåªä¸è¿‡ ok çŠ¶æ€è®¾ç½®æˆäº† _false_ã€‚ç½‘ç»œæ•…éšœæˆ–è€…æƒ…è¶£é˜»æ­¢æ—¶æ‰ä¼š reject é»˜è®¤ä¸å‘é€è·¨æº cookie ä½¿ç”¨123fetch(&quot;http://example.com/movies.json&quot;) .then((response) =&gt; response.json()) .then((data) =&gt; console.log(data)); é€šè¿‡response.okæ¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆå€¼æ˜¯ boolean ç±»å‹ï¼‰ã€‚trueçš„æ—¶å€™ï¼ŒçŠ¶æ€ç èŒƒå›´æ˜¯ 200-299 response.statusï¼ŒçŠ¶æ€ç ï¼Œé»˜è®¤å€¼æ˜¯ 200 response.statusTextï¼šé»˜è®¤å€¼æ˜¯ &quot;&quot;ã€‚ OK -&gt; 200 Continue -&gt; 100 Not Found -&gt; 404 ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®é…ç½®å¯¹è±¡(init å¯¹è±¡)ï¼Œå¸¸ç”¨çš„æœ‰ methodï¼šè¯·æ±‚æ–¹æ³• modeï¼šno-cors, *cors, same-origin headers: { â€œContent-Typeâ€: â€œapplication/jsonâ€ }, body: JSON.stringify(data) è¯·æ±‚ä½“å¯ä»¥é…åˆ FormDataä½¿ç”¨ 1234567891011121314151617const formData = new FormData();const fileField = document.querySelector('input[type=&quot;file&quot;]');formData.append(&quot;username&quot;, &quot;abc123&quot;);formData.append(&quot;avatar&quot;, fileField.files[0]);fetch(&quot;https://example.com/profile/avatar&quot;, { method: &quot;PUT&quot;, body: formData,}) .then((response) =&gt; response.json()) .then((result) =&gt; { console.log(&quot;Success:&quot;, result); }) .catch((error) =&gt; { console.error(&quot;Error:&quot;, error); }); è‡ªå®šä¹‰è¯·æ±‚å¯¹è±¡é€šè¿‡new Requeståˆ›å»ºä¸€ä¸ªè¯·æ±‚å¯¹è±¡ï¼ˆå’Œfetchæ¥æ”¶çš„å‚æ•°ç›¸åŒï¼‰ 1234567891011121314const myHeaders = new Headers();const myRequest = new Request(&quot;flowers.jpg&quot;, { method: &quot;GET&quot;, headers: myHeaders, mode: &quot;cors&quot;, cache: &quot;default&quot;,});fetch(myRequest) .then((response) =&gt; response.blob()) .then((myBlob) =&gt; { myImage.src = URL.createObjectURL(myBlob); }); æˆ–è®¸åœ¨è¦å¤ç”¨æŸäº›ä»£ç çš„æ—¶å€™ï¼Œè¿™ä¼šå¾ˆå¥½ç”¨ axios ç¯å¢ƒ: æµè§ˆå™¨ï¼Œnodejs 1npm install axios CDN: 1&lt;script src=&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt; è¯·æ±‚æ™®é€šè¯·æ±‚ 1234567891011121314import axios from &quot;axios&quot;;// getè¯·æ±‚ï¼ˆé»˜è®¤æ–¹å¼ï¼‰axios(&quot;/user/12345&quot;);// postè¯·æ±‚axios({ method: &quot;post&quot;, url: &quot;/user/12345&quot;, data: { firstName: &quot;Fred&quot;, lastName: &quot;Flintstone&quot;, },}); è¯·æ±‚ stream ç±»å‹æ•°æ® 12345678// åœ¨ node.js ç”¨GETè¯·æ±‚è·å–è¿œç¨‹å›¾ç‰‡axios({ method: &quot;get&quot;, url: &quot;http://bit.ly/2mTM3nY&quot;, responseType: &quot;stream&quot;,}).then(function (response) { response.data.pipe(fs.createWriteStream(&quot;ada_lovelace.jpg&quot;));}); å“åº”ç»“æ„1234567891011121314151617181920212223{ // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº” data: {}, // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç  status: 200, // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯ statusText: 'OK', // `headers` æ˜¯æœåŠ¡å™¨å“åº”å¤´ // æ‰€æœ‰çš„ header åç§°éƒ½æ˜¯å°å†™ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¯­æ³•è®¿é—® // ä¾‹å¦‚: `response.headers['content-type']` headers: {}, // `config` æ˜¯ `axios` è¯·æ±‚çš„é…ç½®ä¿¡æ¯ config: {}, // `request` æ˜¯ç”Ÿæˆæ­¤å“åº”çš„è¯·æ±‚ // åœ¨node.jsä¸­å®ƒæ˜¯æœ€åä¸€ä¸ªClientRequestå®ä¾‹ (in redirects)ï¼Œ // åœ¨æµè§ˆå™¨ä¸­åˆ™æ˜¯ XMLHttpRequest å®ä¾‹ request: {}} got ç¯å¢ƒ: nodejs 1npm install got å‚è€ƒç½‘ç«™ï¼šMDN","link":"/2021/05/08/ajax%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"},{"title":"cssç›’å°ºå¯¸","text":"ğŸ“ƒä¸»è¦å†…å®¹ï¼šcontent boxã€padding boxã€border boxã€margin box ~~ è¯»ä¹¦ç¬”è®° ğŸ“–å‚è€ƒä¹¦æœ¬ï¼šã€ŠCSSä¸–ç•Œã€‹ cssçš„å¾ˆå¤šæ•ˆæœå¹¶ä¸æ˜¯ä¸€ä¸ªå±æ€§å°±èƒ½æå®šï¼Œå¾€å¾€æ˜¯å‡ ä¸ªå±æ€§ä¸€èµ·ä½œç”¨çš„ç»“æœã€‚ contentcontentä¸æ›¿æ¢å…ƒç´ æ›¿æ¢å…ƒç´ å°±æ˜¯å…¶å†…å®¹æ˜¯å¯ä»¥è¢«æ›¿æ¢çš„ï¼Œå¦‚ï¼š&lt;imag src=&quot;xxx.jpg&quot;&gt;ï¼Œæ›¿æ¢å…ƒç´ çš„ä¸€äº›ç‰¹æ€§ï¼š å†…å®¹çš„å¤–è§‚ä¸å—é¡µé¢ä¸Šçš„csså½±å“ æœ‰è‡ªå·±çš„å°ºå¯¸ã€‚å¯ä»¥ä¸ç”¨styleå±æ€§ï¼Œç›´æ¥å†™widthï¼Œheightã€‚é»˜è®¤å°ºå¯¸ä¸º300px x 150pxï¼ˆä¸åŒ…æ‹¬è¾¹æ¡†ï¼‰ åœ¨å¾ˆå¤šcsså±æ€§ä¸Šæœ‰è‡ªå·±çš„è¡¨ç°è§„åˆ™ æ›¿æ¢å…ƒç´ çš„é»˜è®¤displayå€¼æ‰€æœ‰çš„æ›¿æ¢å…ƒç´ éƒ½æ˜¯å†…è”æ°´å¹³ï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢å…ƒç´ å’Œæ›¿æ¢å…ƒç´ ã€æ›¿æ¢å…ƒç´ å’Œæ–‡å­—éƒ½æ˜¯å¯ä»¥åœ¨ä¸€è¡Œå†…æ˜¾ç¤ºçš„ã€‚ &lt;input&gt; å’Œ &lt;button&gt; çš„åŒºåˆ«ï¼šä¸¤ç§æŒ‰é’®çš„é»˜è®¤ white-space å€¼ä¸ä¸€æ ·ï¼Œinput æ˜¯ pre ï¼Œbutton æ˜¯ normalã€‚æ‰€ä»¥æŒ‰é’®æ–‡å­—å¤šçš„æ—¶å€™ï¼Œinput çš„å†…å®¹ä¸ä¼šæ¢è¡Œï¼Œbuttonä¼šæ¢è¡Œã€‚ æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è®¡ç®—è§„åˆ™ç”±å†…åˆ°å¤–åˆ†ä¸º3ç±»ï¼šå›ºæœ‰å°ºå¯¸ã€HTMLå°ºå¯¸å’ŒCSSå°ºå¯¸ã€‚ å›ºæœ‰å°ºå¯¸æ˜¯æ›¿æ¢å…ƒç´ æœ¬èº«çš„å°ºå¯¸ HTMLå°ºå¯¸å°±æ˜¯&lt;img&gt; æ ‡ç­¾çš„ widthï¼Œheightå’Œ &lt;textare&gt; çš„rowsï¼Œcols CSSå°ºå¯¸æ˜¯æŒ‡é€šè¿‡cssçš„widthï¼Œheightç­‰è®¾ç½®çš„å°ºå¯¸ï¼Œå¯¹åº”ç›’å°ºå¯¸ä¸­çš„content box è¿™ä¸‰ç§å°ºå¯¸çš„è®¡ç®—è§„åˆ™ï¼š å¦‚æœæ²¡æœ‰CSSå°ºå¯¸å’ŒHTMLå°ºå¯¸ï¼Œä½¿ç”¨å›ºæœ‰å°ºå¯¸ä½œä¸ºæœ€ç»ˆå®½é«˜ å¦‚æœæ²¡æœ‰CSSå°ºå¯¸ï¼Œä½¿ç”¨HTMLå°ºå¯¸ å¦‚æœæœ‰CSSå°ºå¯¸ï¼Œæœ€ç»ˆç”±CSSå±æ€§å†³å®šï¼Œ 1img{ width: 200px; height: 150px; } 1&lt;img src=&quot;abc.jpg&quot; width=&quot;150px&quot; height=&quot;100px&quot;&gt; æœ€ç»ˆçš„å°ºå¯¸æ˜¯ 200px x 200px â­å¦‚æœå›ºæœ‰å°ºå¯¸å«æœ‰å›ºå®šçš„å®½é«˜æ¯”ä¾‹ï¼ŒåŒæ—¶ä»…ä»…è®¾ç½®äº†å®½åº¦æˆ–è€…é«˜åº¦ï¼Œåˆ™ä¾ç„¶æŒ‰ç…§å›ºæœ‰çš„å®½é«˜æ¯”ä¾‹æ¥æ˜¾ç¤º åœ¨ &lt;img&gt; ä¸­ï¼Œæ²¡æœ‰ src å’Œ src=â€ â€œ æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‰è€…ä¸ä¼šå‘é€è¯·æ±‚ï¼Œåè€…åœ¨ä¸€äº›æµè§ˆå™¨ä¸­ä¼šå‘é€è¯·æ±‚ï¼Œè¯·æ±‚å½“å‰é¡µé¢æ•°æ®ã€‚ åœ¨ Firefox ä¸­ï¼Œæ²¡æœ‰ src çš„ imgæ ‡ç­¾ä¸æ˜¯æ›¿æ¢å…ƒç´ ï¼Œè€Œæ˜¯å†…è”å…ƒç´ ã€‚ åœ¨ CSS ä¸­æ›¿æ¢å…ƒç´ å†…å®¹çš„å›ºæœ‰å°ºå¯¸æ˜¯æ— æ³•æ”¹å˜çš„ã€‚â“å¹³å¸¸è®¾ç½®çš„ width å’Œ height ä¼šå¯¹å›¾ç‰‡çš„å°ºå¯¸è¿›è¡Œå½±å“ï¼Œæ˜¯å› ä¸ºå›¾ç‰‡ä¸­çš„ content æ›¿æ¢å†…å®¹é»˜è®¤çš„é€‚é…æ–¹å¼æ˜¯å¡«å……ï¼ˆfillï¼‰ï¼Œä¹Ÿå°±æ˜¯å¤–éƒ¨è®¾å®šçš„å°ºå¯¸å¤šå¤§ï¼Œå›¾ç‰‡å°±å¡«æ»¡ã€‚ä½¿ç”¨object-fillå¯ä»¥ä¿®æ”¹è¿™ä¸ªé»˜è®¤å€¼ã€‚ æ›¿æ¢å…ƒç´ ä¸éæ›¿æ¢å…ƒç´ çš„å·®åˆ«å·®ä¸€ä¸ªsrcæˆä¸ºæ™®é€šçš„å†…è”å…ƒç´ ï¼Œåœ¨ Firefox ä¸­ï¼Œä¸ä½¿ç”¨ src å±æ€§ï¼›åœ¨ Chrome ä¸­é™¤äº†å‰é¢çš„æ¡ä»¶ï¼Œè¿˜è¦åŠ ä¸Šå±æ€§å€¼ä¸ä¸ºç©ºçš„altã€‚å¦‚ï¼š&lt;img alt=&quot;any&quot;&gt;ã€‚æ³¨ï¼š ä¸èƒ½æœ‰ src å±æ€§ã€‚ ä¸èƒ½ä½¿ç”¨ content å±æ€§ç”Ÿæˆå›¾ç‰‡ã€‚ï¼ˆå¯¹äºChromeï¼‰ éœ€è¦æœ‰å±æ€§å€¼ä¸ä¸ºç©ºçš„ altã€‚ï¼ˆå¯¹äºChromeï¼‰ Firefox ä¸­ ::beforeçš„ content å€¼ä¼šè¢«æ— è§† ğŸ’¡å®ç”¨ä¾‹å­ï¼šğŸ‘‰CSSä¸–ç•Œ å·®ä¸€ä¸ªCSS contentå±æ€§ä»ç†è®ºå±‚é¢æ¥è®²ï¼Œcontentå±æ€§å†³å®šäº†æ˜¯æ›¿æ¢å…ƒç´ è¿˜æ˜¯éæ›¿æ¢å…ƒç´ ã€‚ä¸€äº›ç”¨æ³•ï¼š å¦‚æœå›¾ç‰‡æœ¬èº«æœ‰ src åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ content å±æ€§æŠŠå›¾ç‰‡çš„å†…å®¹ç½®æ¢ï¼Œå¯ä»¥ç”¨äºhoverçš„åˆ‡æ¢æ•ˆæœã€‚ è¿™æ ·ä½¿ç”¨åªæ˜¯è§†è§‰ä¸Šçš„æ•ˆæœï¼Œä½¿ç”¨å³é”®ä¿å­˜å›¾ç‰‡çš„æ—¶å€™ä¿å­˜çš„è¿˜æ˜¯åŸæ¥srcçš„å›¾ç‰‡ ä½¿ç”¨ contentï¼Œå¯ä»¥ä½¿å¾—æ™®é€šå…ƒç´ å˜ä¸ºæ›¿æ¢å…ƒç´  contentä¸æ›¿æ¢å…ƒç´ çš„å…³ç³»CSSä¸–ç•Œä¸­ï¼ŒæŠŠcontentå±æ€§ç”Ÿæˆçš„å¯¹è±¡ç§°ä¸ºâ€œåŒ¿åæ›¿æ¢å…ƒç´ â€ã€‚ contentå±æ€§ç”Ÿæˆçš„å†…å®¹å’Œæ™®é€šå…ƒç´ å†…å®¹çš„å·®å¼‚ï¼š ä½¿ç”¨contentç”Ÿæˆçš„æ–‡æœ¬æ˜¯æ— æ³•é€‰ä¸­ã€å¤åˆ¶çš„ã€‚ ä¸è¦å°†é‡è¦çš„ä¿¡æ¯æ”¾åœ¨contentï¼Œå› ä¸ºå¯¹SEOä¸å‹å¥½ contentå†…å®¹ç”Ÿæˆ ç»å¸¸ç”¨åœ¨ ::before å’Œ ::after ä¸­ï¼Œç”¨äºæ·»åŠ ä¸€äº›æè¿°ã€è§£é‡Šã€ç»˜åˆ¶å›¾æ¡ˆã€å°å›¾æ ‡ contentå›¾ç‰‡ç”Ÿæˆï¼Œä½¿ç”¨ content: url(1.jpg) ï¼Œä½†è¿™æ ·ä¸åˆ©äºæ“ä½œå›¾ç‰‡çš„å°ºå¯¸ï¼Œæ›´å¤šä¼šä½¿ç”¨ï¼šcontent: '',background:url(1.jpg) content è®¡æ•°å™¨ contentè®¡æ•°å™¨ â­åªæ˜¯ç”¨csså®ç°çš„è®¡æ•°å™¨ï¼ˆéšç€å…ƒç´ æ•°ç›®å¢åŠ ï¼Œæ•°å€¼éšç€å¢åŠ ï¼‰ å¯¹åº”2ä¸ªå±æ€§ï¼ˆcounter-resetã€counter-incrementï¼‰å’Œ1ä¸ªæ–¹æ³•ï¼ˆ counter() / counters() ï¼‰ counter-resetï¼šä¸»è¦ä½œç”¨æ˜¯ç»™è®¡æ•°å™¨èµ·åï¼Œå¹¶ä¸”è®¾å®šå¼€å§‹çš„æ•°å€¼ï¼ˆé»˜è®¤èµ·å§‹æ•°å­—ä¸º0ï¼‰ è¿™ä¸ªå€¼å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œåœ¨Chromeä¸­è¿˜å¯ä»¥æ˜¯å°æ•°ã€‚ä¸è¿‡ 2.99 ä¼šå˜æˆ 2 å¯ä»¥å‘½åå¤šä¸ªè®¡æ•°å™¨ counter-incrementï¼šè®¡æ•°å™¨é€’å¢ã€‚å€¼ä¸º counter-reset ä¸­è®¾å®šå¥½çš„è®¡æ•°å™¨åç§°ï¼›åé¢å¯ä»¥æŒ‡å®šæ•°å­—ï¼Œè¡¨ç¤ºæ¯æ¬¡è®¡ç®—çš„å˜åŒ–å€¼ã€‚ é»˜è®¤å€¼æ¯æ¬¡å¢åŠ 1ã€‚å› ä¸ºè¦å’Œ counter-reset ä¸€èµ·æ­é…ä½¿ç”¨ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ counter-reset çš„é»˜è®¤å€¼æ˜¯ 0 çš„åŸå› ã€‚ å¯ä»¥ä½œç”¨åœ¨ä¼ªå…ƒç´ ä¸Šã€‚ å˜åŒ–å€¼ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œé€’å‡æ•ˆæœã€‚ counter() / counters() ä½œç”¨å°±æ˜¯è¾“å‡ºè®¡æ•°ï¼Œé‡Œé¢å‚æ•°æ˜¯è®¡æ•°å™¨çš„åå­— ç¬¬2ä¸ªå‚æ•° styleï¼Œæ”¯æŒçš„å€¼å°±æ˜¯ list-style-type å±æ€§çš„é‚£äº›å€¼ã€‚é€’å¢çš„ä¸ä¸€å®šæ˜¯æ•°å­—ï¼Œå¯èƒ½æ˜¯å­—æ¯ä¹‹ç±»çš„ç­‰ç­‰ æ”¯æŒçº§è”ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª content å±æ€§å¯ä»¥æœ‰å¤šä¸ª counter() æ–¹æ³• counters() å·¦å³å³æ˜¯ç”Ÿæˆ 1.1ã€1.2ã€1.3 è¿™æ ·çš„åºå· é€šè¿‡å­å…ƒç´ å¯¹çˆ¶å…ƒç´ çš„ counter-restã€counters()å®ç°åµŒå¥—ï¼Œä¸€ä¸ªå®¹å™¨é‡Œçš„ counter-rest æ˜¯å”¯ä¸€çš„ æ˜¾ç¤º content è®¡æ•°å™¨çš„ DOM å…ƒç´ ä¸€å®šè¦åœ¨ counter-increment å…ƒç´ çš„åé¢ã€‚ 1&lt;div id=&quot;show&quot;&gt;&lt;/div&gt; 12345678910 #show { counter-reset: sixsix 0 sevenseven 1; counter-increment: sixsix 2 sevenseven 3;}#show::before{ content: counter(sixsix);}#show::after{ content: counter(sixsix) '\\A' counter(sevenseven);} '\\A' è¡¨ç¤ºæ¢è¡Œ paddingcssä¸­é»˜è®¤çš„ box-sizing æ˜¯ content-boxï¼Œä½¿ç”¨ padding æ˜¯ä¼šå¢åŠ å…ƒç´ çš„å°ºå¯¸çš„ã€‚ paddingçš„ä½œç”¨ä¸ä¼šå½±å“å¸ƒå±€æ•ˆæœï¼Œåªæ˜¯åœ¨è§†è§‰ä¸ŠåŠ å¤§å°ºå¯¸ï¼›ä½†æ˜¯ç»™çˆ¶çº§å…ƒç´ åŠ ä¸Šoverflow: auto;åˆ™ä¼šå½±å“é¡µé¢æ•ˆæœã€‚ paddingçš„ç™¾åˆ†å€¼paddingä¸æ”¯æŒè´Ÿå€¼ï¼›åœ¨ç™¾åˆ†æ¯”çš„è®¡ç®—ä¸­ï¼Œæ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘çš„å€¼éƒ½æ˜¯ç›¸å¯¹äºå®½åº¦è®¡ç®—çš„ã€‚ åœ¨æŸäº›åœºæ™¯ä¸­ï¼Œç›´æ¥ä½¿ç”¨ padding: 50%; å°±å¯ä»¥å®ç°ä¸€ä¸ªæ­£æ–¹å½¢ï¼›padding: 25% 50%; å°±å¯ä»¥å®ç°ä¸€ä¸ª2:1çš„çŸ©å½¢ã€‚ 123&lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;item&quot;&gt;&lt;/div&gt; &lt;/div&gt; 123456789101112.box { padding: 5% 10%; position: relative;}.item { width: 100%; height: 100%; position: absolute; left: 0; top: 0; background-color: darkcyan;} å½“ç„¶å¯ä»¥ç”¨ä½œå…¶ä»–å…ƒç´ ï¼Œä¾‹å¦‚å›ºå®šæ¯”ä¾‹çš„å›¾ç‰‡ å¯¹äºå†…è”å…ƒç´ ï¼Œpaddingçš„åŒºåŸŸæ˜¯è·Ÿç€å†…è”ç›’å­çš„ï¼Œå¦‚æœå†…è”ç›’å­æ¢è¡Œäº†ï¼Œé‚£paddingä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚ å†…è”å…ƒç´ çš„å‚ç›´paddingä¼šè®©â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€æ˜¾ç° paddingç»˜åˆ¶å›¾å½¢paddingä¸background-clipæ­é…å®ç°ç®€å•çš„å›¾å½¢ç»˜åˆ¶ ğŸ”»ä¸‰æ¡æ èœå• 1&lt;i class=&quot;icon-menu&quot;&gt;&lt;/i&gt; 123456789.icon-menu { display: inline-block; width: 140px; height: 10px; padding: 35px 0; border-top: 10px solid; border-bottom: 10px solid; background-color: currentColor; background-clip: content-box;} ğŸ”»å°åœ†ç‚¹ 1&lt;i class=&quot;icon-dot&quot;&gt;&lt;/i&gt; 123456789.icon-dot { display: inline-block; width: 100px; height: 100px; padding: 10px; border: 10px solid; border-radius: 50%; background-color: currentColor; background-clip: content-box;} border border-width ä¸æ”¯æŒç™¾åˆ†æ¯”ï¼Œå¦‚æœæ”¯æŒï¼Œé‚£è¾¹æ¡†ä¸å°±éšç€å±å¹•çš„å˜å¤§è€Œå˜å¤§ï¼Œè¿™æ ·ä¸åˆç†ã€‚outlineã€box-shadowã€text-shadowä¹Ÿä¸æ”¯æŒ borderçš„é»˜è®¤å€¼æ—¶ noneï¼Œä½¿ç”¨ border: 2px;ã€border: yellow éƒ½æ˜¯æ— æ•ˆæœçš„ï¼Œä½¿ç”¨ border: solid æœ‰æ•ˆæœï¼Œä¼šå‡ºç°ä¸€ä¸ª 3px çš„è¾¹æ¡†ã€‚ border-style ä¸º double çš„æ—¶å€™ï¼Œè¦åˆ° 3px æ‰ä¼šå‡ºç°åŒçº¿çš„æ•ˆæœã€‚ borderçš„å…¶ä»–é£æ ¼ï¼šinsetã€outsetã€grooveï¼ˆæ²Ÿæ§½ï¼‰ã€ridgeï¼ˆå±±è„Šï¼‰ borderé¢œè‰²border-color å’Œ colorï¼šåœ¨æ²¡æœ‰è®¾ç½® border-color çš„æ—¶å€™ï¼Œä¼šä»¥colorçš„é¢œè‰²ä¸ºå‡†ã€‚ borderå…¶ä»–ä½¿ç”¨å¢åŠ ç‚¹å‡»èŒƒå›´12345icon{ width: 16px; height: 16px; border: 11px solid transparent;} ç”»ä¸‰è§’å½¢12345678910111213div{ width: 0; border: 10px solid; border-color: red transparent transparent transparent;}/* æˆ–è€…*/div{ width: 0; border: solid; border-width: 10px 20px; border-color: red transparent transparent transparent;} æŒ‰ç…§é¡ºæ—¶é’ˆçš„é¡ºåº æ¢¯å½¢123456div{ width: 10px; height: 10px; border: 10px solid; border-color: red transparent transparent;} marginmarginåˆå¹¶åœ¨å—çº§å…ƒç´ ä¸­ï¼Œmargin-button å’Œ margin-top ä¼šå‘ç”Ÿåˆå¹¶ã€‚ï¼ˆå—çº§å…ƒç´ ï¼Œå‚ç›´æ–¹å‘ï¼‰ä¸åŒ…æ‹¬æµ®åŠ¨å’Œç»å¯¹å®šä½çš„å…ƒç´  ä¸¤ä¸ªå…ƒç´ ä¹‹é—´æœ‰ä¸€ä¸ªç©ºçš„å—çº§å…ƒç´ ï¼Œä¹Ÿä¼šåˆå¹¶ã€‚æ¯”å¦‚æœ‰ä¸ªç©ºçš„&lt;div&gt; ç›¸é‚»å…„å¼Ÿçš„marginåˆå¹¶ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„åˆå¹¶ã€‚å¦‚ï¼š 12&lt;p&gt;qwe&lt;/p&gt;&lt;p&gt;asd&lt;/p&gt; 1p { margin: 1em } çˆ¶çº§å’Œç¬¬1ä¸ªæˆ–è€…æœ€åä¸€ä¸ªå­å…ƒç´  123&lt;div class=&quot;father&quot;&gt; &lt;div class=&quot;son&quot;&gt;&lt;/div&gt;&lt;/div&gt; 123456789.father { width: 200px; height: 200px; background-color: aqua; margin-top: 50px;} .son { margin-top: 50px; } é˜»æ­¢åˆå¹¶ å¯¹äºmargin-topï¼ˆæœ‰ä¸€ä¸ªæ»¡è¶³å³å¯ï¼‰ çˆ¶å…ƒç´ è®¾ç½®ä¸ºå—çŠ¶æ ¼å¼ä¸Šä¸‹æ–‡å…ƒç´  çˆ¶å…ƒç´ è®¾ç½®border-topå€¼ çˆ¶å…ƒç´ è®¾ç½®padding-topå€¼ çˆ¶å…ƒç´ å’Œå­å…ƒç´ ä¹‹é—´æ·»åŠ ä¸€ä¸ªå†…è”å…ƒç´ è¿›è¡Œéš”ç¦» å¯¹äºmargin-bottom å’Œä¸Šé¢4ç‚¹ä¸€æ ·ï¼Œä½†æ˜¯å±æ€§å–å çˆ¶å…ƒç´ è®¾ç½® heightã€min-height æˆ– max-height ä½¿ç”¨ overflow: hidden; å°†çˆ¶çº§å…ƒç´ è®¾ç½®ä¸ºå—çŠ¶æ ¼å¼ä¸Šä¸‹æ–‡ã€‚ jQueryä¸­ä½¿ç”¨ $().slideUp å’Œ $().slideDown æ–¹æ³•æ—¶ï¼ŒåŠ¨ç”»æœ‰å¡é¡¿ç°è±¡ï¼Œå¯èƒ½å°±æ˜¯è¿™ä¸ªåˆå¹¶é€ æˆçš„ã€‚ marginåˆå¹¶çš„è®¡ç®—è§„åˆ™ æ­£å€¼å’Œæ­£å€¼å–æœ€å¤§å€¼ æ­£å€¼å’Œè´Ÿå€¼ï¼Œç›¸åŠ  ä¸¤ä¸ªè´Ÿå€¼å–æœ€å°çš„ marginåˆå¹¶çš„æ„ä¹‰ä¸ç”¨æ‹…å¿ƒåˆ—è¡¨ä¹‹é—´çš„é—´éš™ä¼šå¤ªå¤§ï¼Œå¦‚æœæœ‰ç©ºå…ƒç´ ï¼Œä¹Ÿä¼šåˆå¹¶èµ·æ¥ï¼Œé¿å…é¡µé¢å¸ƒå±€æ··ä¹± margin:autoä½œç”¨æœºåˆ¶ï¼š å¦‚æœä¸€ä¾§æ˜¯å®šåˆ¶ï¼Œä¸€ä¾§æ˜¯autoï¼Œé‚£ auto å°±æ˜¯å‰©ä¸‹çš„ç©ºé—´ å¦‚æœä¸¤ä¾§éƒ½æ˜¯ autoï¼Œé‚£å°±æ˜¯å¹³åˆ†ç©ºé—´ å¦‚æœæƒ³è®©æŸä¸ªå—çŠ¶å…ƒç´ å³å¯¹é½ï¼Œé™¤äº†ä½¿ç”¨ *floatï¼šright;*ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ margin-left: auto; å› ä¸ºmarginçš„é»˜è®¤å¤§å°æ˜¯ 0ï¼Œç„¶å margin-leftï¼šauto å°±ç™¾åˆ†ç™¾å¡«æ»¡äº† â“ ä¸ºä»€ä¹ˆç¡®å®šé«˜åº¦ï¼Œä½¿ç”¨ margin: auto; å´æ— æ³•å‚ç›´å±…ä¸­ å› ä¸º margin: auto è®¡ç®—æœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œå°±æ˜¯ width æˆ–è€… height ä¸º auto çš„æ—¶å€™ï¼Œå…ƒç´ æ˜¯å…·æœ‰å¯¹åº”æ–¹å‘çš„è‡ªåŠ¨å¡«å……çš„ç‰¹æ€§ã€‚ æ–¹æ³•1 çˆ¶å…ƒç´ ä½¿ç”¨ writing-mode: vertical-lrï¼Œå‚ç›´æ–¹å‘å°±å¯ä»¥å±…ä¸­äº†ï¼Œä½†æ˜¯æ°´å¹³æ–¹å‘å°±æ²¡äº†ã€‚ã€ æ–¹æ³•2 123456789101112.father { height: 150px; width: 150px; background-color: antiquewhite; position: relative;}.son { height: 50px; width: 50px; margin: auto; background-color: aqua; position: absolute; top: 0; right: 0; bottom: 0; left: 0;} å…¶å®æ–¹æ³•è¿˜æœ‰å¾ˆå¤šï¼Œä»¥ååšä¸ªæ€»ç»“â“ marginæ— æ•ˆæƒ…å†µ display ä¸º inline çš„éæ›¿æ¢å…ƒç´  çš„å‚ç›´marginæ˜¯æ— æ•ˆçš„ã€‚å¯¹äºæ›¿æ¢å…ƒç´ ï¼Œå¦‚imgå°±æ²¡æœ‰è¿™ç§çƒ¦æ¼ è¡¨æ ¼ä¸­ display æ˜¯ table-cell æˆ–è€… table-row çš„æ—¶å€™ marginåˆå¹¶çš„æ—¶å€™æ²¡æ•ˆæœï¼Œä½†æ˜¯å€¼è¶…è¿‡åˆå¹¶çš„å€¼æˆ–è€…æ˜¯è´Ÿå€¼å°±ä¼šæœ‰æ•ˆæœ ç»å¯¹å®šä½å…ƒç´ éå®šä½æ–¹å‘çš„marginã€‚æ¯”å¦‚ï¼š img{ top: 50%; left: 50%; margin-right: 25px; } 123456789101112 - å®åˆ™ä¸Šæ˜¯æœ‰æ•ˆæœï¼Œä½†æ˜¯æ²¡è¡¨ç°å‡ºæ¥ã€‚å› ä¸ºç»å¯¹å®šä½æ˜¯ç‹¬ç«‹æ¸²æŸ“çš„ï¼Œè‡ªå·±ç©ï¼Œå½±å“ä¸äº†å…„å¼Ÿå…ƒç´ ã€‚5. å®šé«˜å…ƒç´ çš„å­å…ƒç´ çš„ margin-bottom æˆ–è€… å®½åº¦å®šæ­»çš„ margin-right6. ä½¿ç”¨ float çš„æ—¶å€™ï¼Œæ¯”å¦‚å›¾ç‰‡ã€‚ 1. ```html &lt;div class=&quot;box&quot;&gt; &lt;img src=&quot;./img/chigua.jpg&quot; alt=&quot;&quot; /&gt; &lt;p&gt;asd&lt;/p&gt; &lt;/div&gt; 1234567.box &gt; img { float: left; width: 233px; } .box &gt; p { margin-left: 200px; } è¦æƒ³è¾¾åˆ°margin-leftæœ‰æ•ˆï¼Œé‚£margin-leftçš„å€¼è¦**å¤§äº** 233px æ‰è¡Œï¼Œè¿™æ˜¯ float ä½œç”¨æ•ˆæœã€‚ å¦‚æœæ–‡å­—è¶³å¤Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œè®¾ç½®å¤§äº 233px ![margin-leftæœ‰æ•ˆæœ](https://s3.ax1x.com/2021/02/20/y55mKf.png) å¦‚æœä¸è¦margin-leftï¼š è¿™é‡Œçš„æ–‡å­—æ˜¯ç¯ç»•çš„ã€‚ â³æŒç»­è¡¥å……â€¦.","link":"/2021/02/18/css%E7%9B%92%E5%B0%BA%E5%AF%B8/"},{"title":"expressåŸºæœ¬ä½¿ç”¨","text":"ğŸŒğŸŒ å®‰è£…ğŸŒ é€šè¿‡ npm è¿›è¡Œå¸¸è§„å®‰è£…ï¼Œä»…ä¸‹è½½ express è¿™ä¸ªåŒ…ï¼Œå…¶ä»–å†…å®¹æ ¹æ®è‡ªå·±éœ€æ±‚æ·»åŠ  ğŸš€ é€šè¿‡ç”Ÿæˆå™¨å®‰è£…çš„æ˜¯ä¸€ä¸ªå…·æœ‰å®Œæ•´å†…å®¹ï¼ˆjs æ–‡ä»¶ã€æ¨¡æ¿é¡µé¢æ–‡ä»¶â€¦ï¼‰çš„è„šæ‰‹æ¶ï¼Œå®‰è£…ä¹‹åå°±å¯ä»¥ç›´æ¥è¿è¡Œ å¸¸è§„å®‰è£…1npm init è¾“å…¥å‘½ä»¤åä¼šæœ‰é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯è¦å¡«ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥ç›´æ¥å›è½¦è·³è¿‡ï¼Œä¸‹é¢è¿™ä¸ªé™¤å¤– 1entry point: (index.js) è¿™ä¸ªæ˜¯ä¿®æ”¹å…¥å£æ–‡ä»¶çš„ï¼Œå¯ä»¥ä¿®æ”¹å…¶é»˜è®¤å€¼ï¼Œä¿®æ”¹å…¥å£æ–‡ä»¶ä¸ºapp.jsã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä»¥åæ‰‹åŠ¨ä¿®æ”¹ å®‰è£… Express å¹¶å°†å…¶ä¿å­˜åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼š 1npm install express è¿è¡Œ12345678910const express = require(&quot;express&quot;);const app = express();app.get(&quot;/&quot;, (req, res) =&gt; { res.send(&quot;Hello World!&quot;);});app.listen(3000, () =&gt; { console.log(&quot;http://localhost:3000&quot;);}); express åº”ç”¨ç¨‹åºç”Ÿæˆå™¨é€šè¿‡ express-generator å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨éª¨æ¶ 1npx express-generator 1npm install æˆ–è€…æ˜¯æ—§ç‰ˆæœ¬çš„ nodeï¼Œä½¿ç”¨ï¼š 12npm install -g express-generatorexpress å¯åŠ¨æœåŠ¡ 1npm start åŸºæœ¬ä¿¡æ¯ binï¼šåŸå§‹çš„å…¥å£æ–‡ä»¶ç›®å½•ï¼Œåé¢ä¼šæ”¹æ‰ publicï¼šæ”¾ä¸€äº›é™æ€èµ„æºçš„åœ°æ–¹ï¼Œå›¾ç‰‡ã€ä»‹ç»ã€ã€css ä¹‹ç±»çš„ routesï¼šè·¯ç”±æ–‡ä»¶ä½ç½® viewsï¼šé™æ€é¡µé¢ä½ç½® app.jsï¼šåœ¨æ ¹ç›®å½•ä¸‹ä½œä¸ºå…¥å£æ–‡ä»¶ æ”¹å†™å…¥å£æ–‡ä»¶ èµ·åˆï¼Œå…¥å£æ–‡ä»¶æ˜¯åœ¨ bin ç›®å½•ä¸‹çš„ www.js å°† www.js é‡Œé¢çš„ http_ã€_server æ¨¡å—è½¬ç§»åˆ° app.js ï¼Œapp.js é‡Œé¢çš„æš´éœ²å»æ‰ï¼Œæ·»åŠ ä¸€ä¸ªç›‘å¬ç«¯å£ ä½¿ç”¨ express è·¯ç”±ä½œä¸ºä¸­é—´ä»¶ï¼Œæ¥æ”¶å’Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚è·¯ç”±éƒ½æ”¾åœ¨ routes ç›®å½•ä¸‹ã€‚ 1234567891011var express = require(&quot;express&quot;);var router = express.Router();router.get(&quot;/&quot;, (req, res, next) =&gt; { // è¿”å›å†…å®¹ç»™å®¢æˆ·ç«¯ res.send();});router.post(&quot;/login&quot;, (req, res, next) =&gt; { // post è¯·æ±‚çš„å†…å®¹åœ¨ res.body å¯¹è±¡ä¸­ var data = req.body; console.log(data);}); å®‰è£…ä½¿ç”¨ mysql æ¨¡å—1npm install mysql --save æ•°æ®åº“é…ç½®å¯ä»¥åœ¨æ ¹ç›®å½•å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåå­—éšä¾¿ä½†æœ€å¥½æ˜¯é¡¾åæ€ä¹‰ã€‚ä¾‹å¦‚ dbConfig åˆ›å»ºæ–‡ä»¶ config.js ç”¨æ¥ä¿å­˜è¿æ¥æ•°æ®åº“æ—¶æ‰€è¦ç”¨åˆ°çš„ä¿¡æ¯ 12345678const DB = { host: &quot;ä¸»æœºå&quot;, port: &quot;ç«¯å£&quot;, user: &quot;ç”¨æˆ·å&quot;, password: &quot;å¯†ç &quot;, database: &quot;æ•°æ®åº“&quot;,};module.exports = DB; åŒç›®å½•ä¸‹åˆ›å»º database.js è¿æ¥æ•°æ®åº“ 1234567891011121314const mysql = require(&quot;mysql&quot;);const config = require(&quot;./config&quot;);// åˆ›å»ºè¿æ¥const database = mysql.createConnection({ host: config.host, port: config.port, user: config.user, password: config.password, database: config.database,});// è¿æ¥mysqldatabase.connect();module.exports = database; è¿æ¥çš„åŒæ—¶å¯ä»¥åšåˆ«çš„äº‹æƒ… 1234database.connect((err) =&gt; { if (err) console.log(err); else console.log(&quot;sucessful&quot;);}); æ•°æ®åº“ä½¿ç”¨1234database.query(&quot;select * from xxx&quot;, (err, rows, fields) =&gt; { if (err) throw err; console.log(&quot;æŸ¥è¯¢ç»“æœï¼š&quot; + rows);}); err ï¼šé”™è¯¯ä¿¡æ¯ã€rows ï¼šæŸ¥è¯¢ç»“æœã€fields ï¼šå½“å‰æŸ¥è¯¢ä¸­æ¶‰åŠåˆ°çš„å­—æ®µä¿¡æ¯ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨åˆ° router æ­é… mysql å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ åœ¨ routes æ–‡ä»¶å¤¹ä¸­çš„è·¯ç”±æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚åœ¨ index.js ä¸­ 123456789101112var express = require(&quot;express&quot;);var router = express.Router();var db = require(&quot;../dbConfig/database&quot;);// æ­¤å¤„ä½¿ç”¨ / æ¥è¡¨ç¤ºå½“å‰è·¯ç”±æ–‡ä»¶ï¼Œå› ä¸ºåœ¨ app.js ä¸­è¿˜ä¼šé…ç½®router.get(&quot;/&quot;, (req, res, next) =&gt; { var query = &quot;select * from xxx&quot;; db.query(query, (err, rows, fileds) =&gt; { if (err) throw err; res.send(rows); });}); åœ¨æ ¹ç›®å½•çš„ app.js ä¸­ 1234// å¼•å…¥è·¯ç”±æ–‡ä»¶var indexRouter = require(&quot;./routes/index&quot;);// å¤„ç†è·¯ç”±app.use(&quot;/index&quot;, indexRouter); è¿™é‡Œé…ç½®å¤„ç†è·¯ç”±ä¹‹åï¼Œå®¢æˆ·ç«¯è¦è¯·æ±‚ indexï¼Œç›´æ¥è¯·æ±‚ /index å°±è¡Œã€‚è¿™æ ·è¿›è¡Œç»†åˆ†å°±æ›´æ–¹ä¾¿è¯·æ±‚ã€‚ã€‚ã€‚ æ‰€ä»¥ç°åœ¨åœ¨ index.js çš„åŸºç¡€ä¸Šå¯ä»¥åŠ ä¸Šå…¶ä»–çš„è¯·æ±‚åœ°å€ï¼Œä¾‹å¦‚å®ç°æ’å…¥ 123456789router.post(&quot;/add&quot;, (req, res, next) =&gt; { var params = [req.body.id, req.body.name]; var query = &quot;insert into student(id,name) values (?,?)&quot;; db.query(query, params, (err, rows, fileds) =&gt; { if (err) console.log(err); return; res.send(&quot;æˆåŠŸï¼&quot;); });}); å®‰è£…ä½¿ç”¨ mongoose æ¨¡å—ğŸ‘‰ MongoDB åŸºæœ¬ä½¿ç”¨ express æ‰˜ç®¡é™æ€æ–‡ä»¶åœ¨å…¥å£æ–‡ä»¶ä¸­(å¦‚ï¼šapp.js)æ·»åŠ é…ç½® 1app.use(express.static(&quot;public&quot;)); public æ˜¯å½“å‰é™æ€æ–‡ä»¶æ‰€å¤„çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åéšä¾¿éƒ½è¡Œ ç„¶åå°±å¯ä»¥é€šè¿‡http://localhost:3000/images/jerry.jpgç±»ä¼¼çš„å½¢å¼è®¿é—®é™æ€æ–‡ä»¶äº† åŒæ—¶ï¼Œå¯ä»¥ç»™è®¿é—®çš„è·¯å¾„é‡å‘½å 1app.use(&quot;/static&quot;, express.static(&quot;public&quot;)); static ä¸ºå½“å‰çš„åˆ«å ç„¶åå°±å¯ä»¥é€šè¿‡http://localhost:3000/static/images/jerry.jpgç±»ä¼¼çš„å½¢å¼è®¿é—®é™æ€æ–‡ä»¶äº† åŒæ—¶ï¼Œå¦‚æœå½“å‰ express è¿è¡Œçš„ç›®å½•å’Œé™æ€èµ„æºæ‰€å¤„çš„ç›®å½•ä¸ä¸€æ ·ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰ï¼Œå°±è¦ä½¿ç”¨pathæ¨¡å— 1app.use(&quot;/static&quot;, express.static(path.join(__dirname, &quot;public&quot;)));","link":"/2020/05/29/express-mysql-%E6%90%AD%E5%BB%BAapi/"},{"title":"nestjså­¦ä¹ æ—¥è®°","text":"ğŸ—¨ï¸ é—®ä¸€ä¸‹DeepSeekä»Šå¤©è¦å­¦ä»€ä¹ˆ å®‰è£…ä¸è¿è¡Œ1npm i -g @nestjs/cli ï¼ˆtypescriptï¼‰å®‰è£…expressçš„å£°æ˜æ–‡ä»¶ 1npm i @types/express è¿è¡Œï¼ˆç”Ÿäº§ï¼‰ 1npm start ç”Ÿäº§æ¨¡å¼å¯åŠ¨ï¼Œé€‚ç”¨äºéƒ¨ç½²ç¯å¢ƒã€æµ‹è¯•ç”Ÿäº§ç¯å¢ƒçš„å¯åŠ¨æµç¨‹ï¼ˆæ˜¯è¿è¡Œç”Ÿäº§ç¯å¢ƒä»£ç ï¼‰ ä¸ç›‘å¬æ–‡ä»¶å˜åŒ– è¿è¡Œï¼ˆå¼€å‘ï¼‰ 1npm run start:dev çƒ­æ›´æ–° è¯¦ç»†çš„æ—¥å¿—è¾“å‡º å¯åŠ¨æ…¢ åŠ å¿«æ„å»ºé€Ÿåº¦ï¼ˆä½¿ç”¨swcï¼‰ 1npm run start -- -b swc æ„å»ºç”Ÿäº§ç¯å¢ƒä»£ç  1npm run build å°†tsä»£ç ç¼–è¯‘ä¸ºjsä»£ç  åç»­éƒ¨ç½² æœ¯è¯­è¡¨ è£…é¥°å™¨ï¼ˆDecoratorï¼‰ï¼šä¸€ç§å‡½æ•°ï¼Œä½¿ç”¨æ—¶éœ€è¦ä»¥@å¼€å¤´æ”¾åœ¨éœ€è¦è£…é¥°çš„ä»£ç ä¸Šæ–¹ï¼Œæ—¨åœ¨ä¸ä¿®æ”¹ä»£ç çš„å‰æä¸‹ç»™ä»£ç æ‹“å±•åŠŸèƒ½ JWT è§£ç­” ä¸ºä»€ä¹ˆè¯´æ˜¯é›†æˆexpressï¼Œå› ä¸ºä¾‹å¦‚è¯·æ±‚ã€ç›¸åº”å¯¹è±¡æ˜¯ç›¸é€šçš„ å­¦ä¹ æ—¥è®°D1 åˆ›å»ºä¸€ä¸ªæ¨¡å— è¿æ¥æ•°æ®åº“ æ·»åŠ Swaggeræ–‡æ¡£ é”™è¯¯å¤„ç† åŸºç¡€æ¨¡å—åˆ›å»ºä¸€ä¸ªuseræ¨¡å—ï¼ˆç”Ÿæˆæ¨¡å—å¿…é¡»æ–‡ä»¶å’Œå¯é€‰çš„.spec.tsçš„æµ‹è¯•æ–‡ä»¶ï¼‰ï¼Œå¯ä½¿ç”¨nest g --helpæŸ¥çœ‹æ›´å¤šå‘½ä»¤ 1nest g resource user ä¸€èˆ¬é€‰æ‹©REST API åˆ›å»ºçš„æ¨¡å—ä¼šè‡ªåŠ¨æ›´æ–°app.module.tsæ–‡ä»¶ æ­¤å‘½ä»¤ä¸ä¼šåˆ›å»ºdtoæ–‡ä»¶ï¼ˆç”¨æ¥è§„èŒƒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„æ•°æ®æ ¼å¼ï¼‰ï¼Œéœ€æ‰‹åŠ¨åˆ›å»º æ–‡ä»¶ä¸€èˆ¬è¢«æ”¾åœ¨å¦‚user/dto/create-user.dto.tsè¿™é‡Œ ç¼–è¾‘åçš„ä»£ç ç¤ºä¾‹ï¼š user.controller.tsï¼ˆæ§åˆ¶å™¨ï¼‰æ¥æ”¶è¯·æ±‚ï¼Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘ç”±use.service.tsæ–‡ä»¶æä¾› 12345678910111213141516171819202122import { Controller, Get, Post, Body } from '@nestjs/common';import { UserService } from './user.service';import { CreateUserDto } from './dto/create-user.dto';// å½“å‰æ¥å£ï¼Œå¦‚ localhost:3000/user// æ­¤è£…é¥°å™¨æ˜¯æ§åˆ¶å™¨å¿…é¡»çš„@Controller('user')export class UserController { constructor(private readonly userService: UserService) {} @Get() getUsers() { return this.userService.getUsers() } // è¿™é‡ŒBodyè£…é¥°å™¨çš„ä½œç”¨æ˜¯ä» httpè¯·æ±‚ä½“ ä¸­æå–æ•°æ®ï¼Œå¹¶ä¸”ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Š // å¹¶ä¸”å¯è®²æ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸º dto ä¸­çš„ç±»å‹ @Post() createUser(@Body() createUserDto: CreateUserDto) { this.userService.createUser(createUserDto) }} use.service.tsï¼ˆæä¾›å™¨ã€æœåŠ¡ï¼‰å¤„ç†æ›´ä¸ºå¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ 123456789101112131415161718192021import { Injectable } from '@nestjs/common';import { CreateUserDto } from './dto/create-user.dto';// æ­¤è£…é¥°å™¨æ˜¯æœåŠ¡å¿…é¡»çš„@Injectable()export class UserService { private users = [ { id: 1, name: 'å°æ˜', age: 18 }, { id: 2, name: 'å°ç™½', age: 19 } ] getUsers() { return this.users } createUser(createUserDto: CreateUserDto) { const newUser = { id: Date.now(), ...createUserDto } this.users.push(newUser) return newUser }} create-user.dto.tsï¼ˆData Transfer Objectã€æ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰å¯å•ç‹¬ä½œä¸ºä¸€ä¸ªæ™®é€šdtoæ¥ä½¿ç”¨ 1234export class CreateUserDto { name: string age: number} è¿˜å¯ä»¥ç»“åˆclass-validatorï¼ˆéœ€è¦é¢å¤–å®‰è£…ï¼‰æ¥å®ç°æ›´é«˜æ•ˆçš„éªŒè¯ 1npm install class-validator class-transformer 123456789101112import { IsString, IsEmail, MinLength } from 'class-validator'export class CreateUserDto { @IsString() @MinLength(2) name: string age: number @IsEmail() email: string} è¿æ¥æ•°æ®åº“ä½¿ç”¨typeormè¿æ¥æ•°æ®åº“ 1npm install @nestjs/typeorm åœ¨app.module.tsä¸­å…¨å±€é…ç½® 12345678910111213141516171819202122232425import { TypeOrmModule } from '@nestjs/typeorm';// ...@Module({ imports: [ UserModule, AuthModule, // forRoot ç”¨äºè®¾ç½®æ¨¡å—çš„å…¨å±€é…ç½®é€‰é¡¹ TypeOrmModule.forRoot({ type: 'mysql', host: 'localhost', port: 3306, username: 'root', password: '123456', database: 'nestjs', entities: [User], synchronize: true, }), ], controllers: [AppController], providers: [AppService],})// ... é€šè¿‡entitiesåˆ›å»ºä¸€ä¸ªç”¨æˆ·è¡¨ï¼Œä¸€èˆ¬åœ¨å½“å‰æ¨¡å—ä¸‹åˆ›å»ºï¼Œå¦‚user/entities/user.entity.ts 12345678910111213141516171819202122import { Entity, Column, PrimaryGeneratedColumn } from 'typeorm';@Entity()export class User { @PrimaryGeneratedColumn() id: number; @Column() name: string; @Column() age: number; @Column() passwd: string; @Column({ default: true }) isActive: boolean; @Column({ type: 'timestamp', default: () =&gt; 'CURRENT_TIMESTAMP' }) createTime: Date;} éšååœ¨user.modules.tsä¸­å¯¼å…¥ï¼Œä¸€æ—¦å¯¼å…¥å°±ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®è¡¨ï¼ˆtypeormé…ç½®æ—¶ï¼Œsynchronizeè®¾ä¸ºtrueï¼‰ 12345678import { User } from './entities/user.entity';@Module({ imports: [TypeOrmModule.forFeature([User])], controllers: [UserController], providers: [UserService], exports: [UserService],}) é€šè¿‡æ¥å£åˆ›å»ºä¸€æ¡æ•°æ®ï¼ˆæ§åˆ¶å™¨ -&gt; æœåŠ¡ï¼‰ï¼Œåœ¨users.service.tsä¸­é€šè¿‡Repositoryæ¥æ‰§è¡Œï¼Œå®ƒæä¾›äº†å¾ˆå¤šæ“ä½œæ•°æ®åº“çš„æ–¹æ³•ï¼ˆfind, createç­‰ï¼‰ã€‚æœ‰äº†è¿™ä¸ªï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦å†™SQL ä»¥ä¸‹ä»£ç ä¸­ï¼Œå®é™…èµ·åˆ°ä½œç”¨çš„æ˜¯InjectRepositoryï¼ŒRepositoryåœ¨æ­¤åªèµ·åˆ°ç±»å‹çš„ä½œç”¨ 1234567891011121314151617181920212223242526272829import { Injectable } from '@nestjs/common';import { InjectRepository } from '@nestjs/typeorm';import { Repository } from 'typeorm';import { CreateUserDto } from './dto/create-user.dto';import { User } from './entities/user.entity';@Injectable()export class UserService { constructor( @InjectRepository(User) private userRepository: Repository&lt;User&gt;, ) { } getUsers(): Promise&lt;User[]&gt; { return this.userRepository.find(); } createUser(createUserDto: CreateUserDto): Promise&lt;User&gt; { const user = this.userRepository.create(createUserDto); return this.userRepository.save(user); } findOne(username: string) { const user = this.userRepository.findOne({ where: { name: username } }) return Promise.resolve(user) }} æ·»åŠ Swaggeræ–‡æ¡£1npm install @nestjs/swagger ä¿®æ”¹main.tsä»¥é…ç½®swaggerï¼Œè®¿é—®æ–‡æ¡£http://localhost:3000/api 123456789101112131415import { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';async function bootstrap() { const app = await NestFactory.create(AppModule); const config = new DocumentBuilder() .setTitle('NestJSå­¦ä¹ ') .setDescription('NestJSå­¦ä¹ APIæ–‡æ¡£') .setVersion('1.0') .build(); const document = SwaggerModule.createDocument(app, config); SwaggerModule.setup('api', app, document); // api æŒ‡å®šæ–‡æ¡£çš„è®¿é—®è·¯å¾„ await app.listen(3000);} åœ¨main.tsæ–‡ä»¶ä¸­ç›¸å½“äºåˆå§‹åŒ–swaggerï¼Œå…·ä½“çš„æ¥å£æè¿°å¯ä»¥ä½¿ç”¨swaggeræä¾›çš„è£…é¥°å™¨åœ¨å…·ä½“çš„æ¥å£ä¸­ä½¿ç”¨ 123456789101112import { ApiTags } from '@nestjs/swagger';@ApiTags('user')@Controller('user')export class UserController { constructor(private readonly userService: UserService) {} @Get() getUsers() { return this.userService.getUsers() }} é”™è¯¯å¤„ç†åˆ›å»ºæ–‡ä»¶src/filters/http-exception.filter.ts 123456789101112131415import { ExceptionFilter, Catch, ArgumentsHost } from '@nestjs/common';import { Response } from 'express';@Catch()export class HttpExceptionFilter implements ExceptionFilter { catch(exception: Error, host: ArgumentsHost) { const ctx = host.switchToHttp(); const response = ctx.getResponse&lt;Response&gt;(); response.status(500).json({ message: 'Internal Server Error', error: exception.message, }); }} ä¿®æ”¹main.tsä»¥å…¨å±€æ³¨å†Œè¿‡æ»¤å™¨ 1app.useGlobalFilters(new HttpExceptionFilter()); D2 ç”¨æˆ·è®¤è¯ï¼ˆJWTï¼‰ ä¸­é—´ä»¶å®æˆ˜ï¼ˆæ—¥å¿—çº§è”ï¼‰ ç¯å¢ƒé…ç½® å•å…ƒæµ‹è¯•å…¥é—¨ éƒ¨ç½²ä¼˜åŒ–ï¼ˆç”Ÿäº§ç¯å¢ƒé…ç½®ï¼‰ JWT12npm install @nestjs/jwt @nestjs/passport passport passport-jwt bcryptnpm install @types/passport-jwt @types/bcrypt --save-dev åˆ›å»ºè®¤è¯æ¨¡å— 1nest g resource auth å®ç°ç”¨æˆ·æ³¨å†Œï¼ˆéœ€è¦åˆ›å»ºå’Œæ•°æ®åº“å¯¹åº”çš„entityï¼‰ï¼Œå¦‚ï¼š src/user/entities/user.entity.ts 12345export class User { id: number username: string password: string // å®é™…ä¿å­˜ä¸ºå“ˆå¸Œå€¼} ä¿®æ”¹auth.service.tså®ç°ç™»å½•ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ï¼ˆè·å–ç”¨æˆ·æ•°æ®ï¼Œå®ç°æˆåŠŸç™»å½•tokenè¿”å›ï¼‰ 1234567891011121314151617181920212223242526272829import { Injectable } from '@nestjs/common';import { JwtService } from '@nestjs/jwt'import * as bcrypt from 'bcrypt'import { UserService } from '../user/user.service';@Injectable()export class AuthService { constructor(private userService: UserService, private jwtService: JwtService ){} async validateUser(username: string, pass: string): Promise&lt;any&gt; { const user = await this.userService.findOne(username) if (user &amp;&amp; (await bcrypt.compare(pass, user.passwd))) { // è¿”å›é™¤å¯†ç å¤–çš„å…¶ä»–æ•°æ®ï¼ˆå®ç”¨çš„æ“ä½œï¼‰ const { passwd, ...result} = user return result } return null } async login(user: any) { const payload = { username: user.username, sub: user.id } return { access_token: this.jwtService.sign(payload) } }} ä¿®æ”¹auth.controller.ts 123456789101112131415import { Controller, Body, Post, UnauthorizedException } from '@nestjs/common';import { AuthService } from './auth.service';@Controller('auth')export class AuthController { constructor(private readonly authService: AuthService) {} // dtoä¹Ÿä¸ä¸€å®šéœ€è¦å†™åœ¨å•ç‹¬çš„æ–‡ä»¶ï¼Œè¡Œå†…ä¹Ÿå¯ä»¥ @Post('login') async login(@Body() loginDto: { username: string; password: string }) { const user = await this.authService.validateUser(loginDto.username, loginDto.password) if (!user) throw new UnauthorizedException(); return this.authService.login(user) }} ä¿®æ”¹auth.module.tsæ–‡ä»¶é…ç½®JWTæ¨¡å— 123456789101112import { JwtModule } from '@nestjs/jwt';@Module({ imports: [ JwtModule.register({ secret: 'your_secret_key', signOptions: { expiresIn: '1h' }, }), ], providers: [AuthService],})export class AuthModule {} ä¸€èˆ¬ä¹Ÿæ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ï¼š 1234567891011121314151617import { JwtModule } from '@nestjs/jwt';import { ConfigModule, ConfigService } from '@nestjs/config';@Module({ imports: [ JwtModule.registerAsync({ imports: [ConfigModule], inject: [ConfigService], useFactory: (config: ConfigService) =&gt; ({ secret: config.get(&quot;JWT_SECRET&quot;), signOptions: { expiresIn: '1h' }, }) }), ], providers: [AuthService],})export class AuthModule {} ä¸­é—´ä»¶ä¸­é—´ä»¶ä¸€èˆ¬ä¼šä¿å­˜åˆ°å¦‚ï¼š src/middleware/logger.middleware.ts 12345678910import { Injectable, NestMiddleware } from '@nestjs/common';import { Request, Response, NextFunction } from 'express';@Injectable()export class LoggerMiddleware implements NestMiddleware { use(req: Request, res: Response, next: NextFunction) { console.log(`[${new Date().toISOString()}] ${req.method} ${req.url}`); next(); }} ä¿®æ”¹app.module.tsä¸­å…¨å±€åº”ç”¨ä¸­é—´ä»¶ 12345678910import { NestModule, MiddlewareConsumer } from '@nestjs/common';import { LoggerMiddleWare } from './middleware/logger.middleware';export class AppModule implements NestModule { configure(consumer: MiddlewareConsumer) { consumer .apply(LoggerMiddleWare) .forRoutes('*'); }} ç¯å¢ƒé…ç½® é€šè¿‡.envæ–‡ä»¶æ¥åŒºåˆ†ä¸åŒç¯å¢ƒ 1npm install @nestjs/config ä¿®æ”¹app.module.tsè¿›è¡Œé…ç½® 123456789101112131415161718192021222324252627282930313233343536import { Module } from '@nestjs/common';import { ConfigModule, ConfigService } from '@nestjs/config'import { TypeOrmModule } from '@nestjs/typeorm';import { AppController } from './app.controller';import { AppService } from './app.service';import { UserModule } from './user/user.module';import { AuthModule } from './auth/auth.module';// ä»¥ä¸‹é…ç½®ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ process.env.xx æ¥è·å–@Module({ imports: [ UserModule, AuthModule, ConfigModule.forRoot({ isGlobal: true, envFilePath: `.env.${process.env.NODE_ENV || 'development'}` })ï¼Œ TypeOrmModule.forRootAsync({ imports: [ConfigModule], inject: [ConfigService], useFactory: (config: ConfigService) =&gt; ({ type: 'mysql', host: config.get('DB_HOST'), port: Number(config.get('DB_PORT')), username: config.get('DB_USER'), password: config.get('DB_PASSWORD'), database: config.get('DB_DATABASE'), entities: [User], synchronize: true, }), }), ], controllers: [AppController], providers: [AppService],})export class AppModule {} å¤šæ•°æ”¯æŒåŠ¨æ€é…ç½®çš„éƒ½ä¼šuseFactoryæœ‰è¿™ä¸ªæ–¹æ³• æœ¬åœ°åˆ›å»ºä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š.env.development å’Œ .env.productionï¼Œå°½é‡ç¡®ä¿æ–‡ä»¶åå’ŒNODE_ENVçš„å€¼å¯¹åº” 123456789# .env.developmentNODE_ENV=developmentDATABASE_URL=sqlite:./dev.dbJWT_SECRET=development_secret# .env.productionNODE_ENV=productionDATABASE_URL=mysql://user:password@localhost:3306/prod_dbJWT_SECRET=production_secret ä¹Ÿå¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™æŒ‡å®šç¯å¢ƒå˜é‡ï¼š 1&quot;start:dev&quot;: &quot;NODE_ENV=development nest start --watch&quot; å•å…ƒæµ‹è¯• å•å…ƒæµ‹è¯•æ–‡ä»¶åœ¨è¿è¡Œnest g resource xxçš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä¹Ÿå¯æ‰‹åŠ¨åˆ›å»º ä¾‹å¦‚æµ‹è¯•UserServiceï¼Œä¿®æ”¹user.service.spec.ts 12345678910111213141516171819202122232425import { Test, TestingModule } from '@nestjs/testing';import { UserService } from './user.service';describe('UserService', () =&gt; { let service: UserService; beforeEach(async () =&gt; { const module: TestingModule = await Test.createTestingModule({ providers: [UserService], }).compile(); service = module.get&lt;UserService&gt;(UserService); }); it('should be defined', () =&gt; { expect(service).toBeDefined(); }); it('show return users', () =&gt; { expect(service.getUsers()).toEqual([ { id: 1, name: 'å°æ˜', age: 18, passwd: '123' }, { id: 2, name: 'å°ç™½', age: 19, passwd: '123' } ]) })}); è¿è¡Œæµ‹è¯• 1npm run test éƒ¨ç½²ä¼˜åŒ–è¿è¡Œnpm run startçš„æ—¶å€™å·²ç»æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥æ‰“åŒ…ä¹‹åå†éƒ¨ç½²ï¼ˆå¯ä½¿ç”¨swcã€pm2ç­‰è¿›è¡Œæ‰“åŒ…ï¼‰ å®‰è£…swc 1npm install --save-dev @swc/cli @swc/core åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º.swcæ–‡ä»¶ï¼Œå¹¶ä¸”æ·»åŠ æ‰“åŒ…å‘½ä»¤åˆ° npm-scriptï¼Œå¦‚&quot;build&quot;: &quot;swc src -d dist&quot; 12345678910111213141516171819{ &quot;jsc&quot;: { &quot;parser&quot;: { &quot;syntax&quot;: &quot;typescript&quot;, &quot;tsx&quot;: false, &quot;decorators&quot;: true, &quot;dynamicImport&quot;: true }, &quot;target&quot;: &quot;es2020&quot;, &quot;keepClassNames&quot;: true, &quot;transform&quot;: { &quot;legacyDecorator&quot;: true, &quot;decoratorMetadata&quot;: true } }, &quot;module&quot;: { &quot;type&quot;: &quot;commonjs&quot; }} ä½¿ç”¨dockerè¿›è¡Œå®¹å™¨éƒ¨ç½²ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºDockerfileæ–‡ä»¶ï¼ˆå¿…é¡»å¤§å†™å¼€å¤´ï¼‰ 1234567891011121314151617181920212223# ä½¿ç”¨ Node.js å®˜æ–¹é•œåƒFROM node:16# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /app# å¤åˆ¶ package.json å’Œ package-lock.jsonCOPY package*.json ./# å®‰è£…ä¾èµ–RUN npm install --production# å¤åˆ¶æºä»£ç COPY . .# æ„å»ºåº”ç”¨RUN npm run build# æš´éœ²ç«¯å£EXPOSE 3000# å¯åŠ¨åº”ç”¨CMD [&quot;node&quot;, &quot;dist/main.js&quot;] æ„å»ºé•œåƒå’Œè¿è¡Œå®¹å™¨ 12345# æ„å»º Docker é•œåƒdocker build -t my-nest-app .# è¿è¡Œ Docker å®¹å™¨docker run -p 3000:3000 my-nest-app ä½¿ç”¨nginxè¿›è¡Œåå‘ä»£ç†ï¼ˆå¤„ç†è·¨åŸŸçš„å¥½æ–¹æ³•ï¼‰ï¼Œå½“è®¿é—®yourdomain.com/apiæ—¶ä»£ç†åˆ°æœ¬åœ°çš„3000ç«¯å£ 1234567891011server { listen 80; server_name yourdomain.com; location /api { proxy_pass http://localhost:3000; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; }} D3 æƒé™å®ˆå« æ–‡ä»¶ä¸Šä¼ ä¸é™æ€èµ„æºæ‰˜ç®¡ WebSocketå®æ—¶é€šä¿¡ æƒé™å®ˆå«åˆ›å»ºè§’è‰²è£…é¥°å™¨ï¼Œæ–°å»ºæ–‡ä»¶src/auth/roles.decorator.tsï¼š 123import { SetMetadata } from '@nestjs/common';export const Roles = (...roles: string[]) =&gt; SetMetadata('roles', roles); å®ç°å®ˆå«ï¼Œæ–°å»ºæ–‡ä»¶src/auth/roles.guard.tsï¼š 1234567891011121314151617181920import { Injectable, CanActivate, ExecutionContext } from '@nestjs/common'import { Reflector } from '@nestjs/core'@Injectable()export class RolesGuard implements CanActivate { constructor(private reflector: Reflector) {} canActivate(context: ExecutionContext): boolean { // è·å–æ¥å£æ‰€éœ€çš„è§’è‰² const requiredRoles = this.reflector.get&lt;string[]&gt;( 'roles', context.getHandler(), ); if (!requiredRoles) return true; // æ¨¡æ‹Ÿä»è¯·æ±‚ä¸­è·å–ç”¨æˆ·è§’è‰²ï¼ˆå®é™…åº”ä» JWT è§£æï¼‰ const request = context.switchToHttp().getRequest(); const user = request.user; // å‡è®¾ user å·²é€šè¿‡ JWT ä¸­é—´ä»¶æ³¨å…¥ return requiredRoles.some((role) =&gt; user.roles?.includes(role)); }} åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨å®ˆå«ï¼Œå¦‚: 12345678910111213// src/users/users.controller.tsimport { Roles } from '../auth/roles.decorator';import { RolesGuard } from '../auth/roles.guard';@Controller('users')@UseGuards(RolesGuard) // å…¨å±€åº”ç”¨å®ˆå«ï¼Œæˆ–åœ¨æ¨¡å—ä¸­å…¨å±€æ³¨å†Œexport class UserController { @Get('admin') @Roles('admin') // ä»…å…è®¸ admin è§’è‰²è®¿é—® getAdminData() { return { message: 'Admin data' }; }} æ–‡ä»¶ä¸Šä¼ ä¸é™æ€èµ„æºæ‰˜ç®¡æ–‡ä»¶ä¸Šä¼ éœ€è¦å¤–å®‰è£…ä¾èµ– 1npm install @nestjs/platform-express multer 1npm install @types/multer --save-dev åˆ›å»ºæ–‡ä»¶ä¸Šä¼ æ§åˆ¶å™¨ï¼šsrc/files/files.controller.ts 1234567891011121314151617181920212223import { Controller, Post, UseInterceptors, UploadedFile } from '@nestjs/common';import { FileInterceptor } from '@nestjs/platform-express';import { diskStorage } from 'multer';import { extname } from 'path';@Controller('files')export class FilesController { @Post('upload') @UseInterceptors(FileInterceptor('file', { storage: diskStorage({ destination: './uploads', filename: (req, file, callback) =&gt; { const randomName = Array(32).fill(null).map(() =&gt; Math.round(Math.random() * 16).toString(16)).join(''); callback(null, `${randomName}${extname(file.originalname)}`); }, }), })) uploadFile(@UploadedFile() file: Express.Multer.File) { return { url: `/static/${file.filename}`, }; }} FileInterceptorï¼šæ–‡ä»¶ä¸Šä¼ æ‹¦æˆªå™¨ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶å­—æ®µåï¼ˆformDataä¸­çš„é”®åï¼‰ æ‰˜ç®¡é™æ€æ–‡ä»¶ï¼Œåœ¨main.tsä¸­é…ç½® 123456789101112// src/main.tsimport { NestFactory } from '@nestjs/core';import { AppModule } from './app.module';import { join } from 'path';async function bootstrap() { const app = await NestFactory.create(AppModule); // é™æ€æ–‡ä»¶æ‰˜ç®¡, ä¸€èˆ¬ä¼šæŒ‡å®šåˆ°éæºç ç›®å½• app.use('/static', express.static(join(__dirname, '..', 'uploads'))); await app.listen(3000);}bootstrap(); é™æ€èµ„æºæ‰˜ç®¡é™¤äº†ä¸Šé¢çš„æ–¹å¼å¤–ï¼Œå¸¸ç”¨çš„å¤„ç†æ–¹æ³•è¿˜æœ‰ ä½¿ç”¨ nginx ä½œä¸ºé™æ€æ–‡ä»¶æœåŠ¡å™¨ ä½¿ç”¨ CDN æœåŠ¡ï¼ˆé˜¿é‡Œäº‘OOS + CDNã€è…¾è®¯äº‘COS + CDNï¼‰ nestjs è‡ªå¸¦çš„ServeStaticModuleæ¨¡å— åœ¨ nginx ä¸­é…ç½®ï¼š 123456789101112131415server { listen 80; server_name yourdomain.com; location /static/ { alias /var/www/static/; # é™æ€èµ„æºç›®å½• } location / { proxy_pass http://localhost:3000; # åå‘ä»£ç†åˆ° NestJS åº”ç”¨ proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; }} ä½¿ç”¨ServeStaticModuleï¼Œé¢„å…ˆå®‰è£…ï¼š 1npm install @nestjs/serve-static åœ¨app.module.tsä¸­é…ç½®: 1234567891011121314// src/app.module.tsimport { Module } from '@nestjs/common';import { ServeStaticModule } from '@nestjs/serve-static';import { join } from 'path';@Module({ imports: [ ServeStaticModule.forRoot({ rootPath: '/var/www/static', // é™æ€èµ„æºç›®å½• serveRoot: '/static', // è®¿é—®è·¯å¾„ }), ],})export class AppModule {}","link":"/2025/02/15/nestjs/"},{"title":"jsç”ŸæˆéªŒè¯ç ","text":"ä¸»è¦å†…å®¹ï¼šJavaScriptã€canvasã€ä¸€å¼ å›¾ç‰‡ ä»£ç canvas å±•ç¤ºéªŒè¯ç ï¼Œå›¾ç‰‡ä½œä¸ºéªŒè¯ç çš„èƒŒæ™¯ å‡†å¤‡ &lt;canvas&gt; æ ‡ç­¾ 1&lt;canvas id=&quot;canvas&quot; width=&quot;100&quot; height=&quot;40&quot;&gt;&lt;/canvas&gt; code ä¿å­˜ç”Ÿæˆçš„éšæœºæ•°ï¼Œè¿™é‡Œç”Ÿæˆé•¿åº¦ä¸º 4 çš„éªŒè¯ç  12345678let code = &quot;&quot;;const canvas = document.getElementById(&quot;canvas&quot;);// è°ƒç”¨æ–¹æ³•ç”ŸæˆéªŒè¯ç createCode(4);// ç‚¹å‡»åˆ·æ–°éªŒè¯ç canvas.addEventListener(&quot;click&quot;, () =&gt; { createCode(4);}); ç”ŸæˆéªŒè¯ç çš„æ–¹æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100function createCode(length) { // console.log(createCode) code = &quot;&quot;; //éªŒè¯ç çš„é•¿åº¦ let codeLength = parseInt(length); // ç”Ÿæˆçš„éªŒè¯ç å†…å®¹ let codeChars = new Array( 2, 3, 4, 5, 6, 7, 8, 9, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;, &quot;T&quot;, &quot;U&quot;, &quot;V&quot;, &quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; ); //å¾ªç¯ç»„æˆéªŒè¯ç çš„å­—ç¬¦ä¸² for (let i = 0; i &lt; codeLength; i++) { //è·å–éšæœºéªŒè¯ç ä¸‹æ ‡ let charNum = Math.floor(Math.random() * 60); //ç»„åˆæˆæŒ‡å®šå­—ç¬¦éªŒè¯ç  code += codeChars[charNum]; } if (code) { // var canvas = document.getElementById('canvas') let ctx = canvas.getContext(&quot;2d&quot;); let img = document.createElement(&quot;img&quot;); img.src = &quot;./images/verify.png&quot;; img.onload = function () { ctx.drawImage(img, 0, 0, 90, 40); ctx.font = &quot;20px Verdana&quot;; // åˆ›å»ºä¸€ä¸ªæ¸å˜ let gradient = ctx.createLinearGradient(0, 0, canvas.width, 0); gradient.addColorStop(&quot;0&quot;, &quot;darkorange&quot;); gradient.addColorStop(&quot;0.4&quot;, &quot;blue&quot;); gradient.addColorStop(&quot;0.5&quot;, &quot;darkgreen&quot;); gradient.addColorStop(&quot;0.6&quot;, &quot;orange&quot;); gradient.addColorStop(&quot;0.7&quot;, &quot;darkcyan&quot;); // å¡«å……ä¸€ä¸ªæ¸å˜ ctx.fillStyle = gradient; ctx.fillText(code[0], 15, 20 + Math.floor(Math.random() * 6)); ctx.fillText(code[1], 25, 20 + Math.floor(Math.random() * 6)); ctx.fillText(code[2], 45, 20 + Math.floor(Math.random() * 6)); ctx.fillText(code[3], 60, 20 + Math.floor(Math.random() * 6)); }; }} ğŸ¨ğŸ¨canvas.getContext æ–¹æ³•è¿”å›canvasçš„ä¸Šä¸‹æ–‡ï¼Œå¦‚æœä¸Šä¸‹æ–‡æ²¡æœ‰å®šä¹‰åˆ™è¿”å› nullã€‚ï¼ˆMDNï¼‰ canvas.getContext(contextType, contextAttributes) contextType ï¼ˆä¸Šä¸‹æ–‡ç±»å‹ï¼‰çš„å‚æ•°æœ‰ï¼š 2dï¼šå»ºç«‹ä¸€ä¸ªäºŒç»´æ¸²æŸ“ä¸Šä¸‹æ–‡ webglï¼šåˆ›å»ºä¸€ä¸ªä¸‰ç»´æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆæŸäº›ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸å…¼å®¹ï¼‰ bitmaprendererï¼šæ¥å£è¡¨ç¤ºèƒ½å¤Ÿè¢«ç»˜åˆ¶åˆ° canvas ä¸Šçš„ä½å›¾å›¾åƒ contextAttributes ï¼ˆä¸Šä¸‹æ–‡å±æ€§ï¼‰çš„å‚æ•°æœ‰ï¼š alpha: booleanå€¼è¡¨æ˜ canvas åŒ…å«ä¸€ä¸ªalphaé€šé“. å¦‚æœè®¾ç½®ä¸º false, æµè§ˆå™¨å°†è®¤ä¸º canvas èƒŒæ™¯æ€»æ˜¯ä¸é€æ˜çš„, è¿™æ ·å¯ä»¥åŠ é€Ÿç»˜åˆ¶é€æ˜çš„å†…å®¹å’Œå›¾ç‰‡ createLinearGradient(x0, y0, x1, y1) æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ²¿å‚æ•°åæ ‡æŒ‡å®šçš„ç›´çº¿çš„æ¸å˜ã€‚(MDN) x0ï¼šèµ·ç‚¹çš„ x è½´åæ ‡ã€‚ y0ï¼šèµ·ç‚¹çš„ y è½´åæ ‡ã€‚ x1ï¼šç»ˆç‚¹çš„ x è½´åæ ‡ã€‚ y1ï¼šç»ˆç‚¹çš„ y è½´åæ ‡ã€‚ addColorStop(offset, color) æ·»åŠ ä¸€ä¸ªç”±åç§»å€¼å’Œé¢œè‰²å€¼æŒ‡å®šçš„æ–­ç‚¹åˆ°æ¸å˜ã€‚ï¼ˆMDNï¼‰ offsetï¼š0~1 çš„å€¼ colorï¼šé¢œè‰²","link":"/2021/02/09/js%E7%94%9F%E6%88%90%E9%AA%8C%E8%AF%81%E7%A0%81/"},{"title":"jQueryåŸºæœ¬å†…å®¹","text":"jQueryå®˜æ–¹ä¸‹è½½ write less, do more jQuery æ˜¯ JavaScript æ¡†æ¶åº“ï¼Œé€šè¿‡ JavaScript å‡½æ•°å°è£…æ¥ç®€åŒ– HTML å’Œ JavaScript ä¹‹é—´çš„æ“ä½œã€‚ è·¨æµè§ˆå™¨ï¼Œæ”¯æŒ IE6~IE11ã€Firefoxã€Chromeï¼Œæ”¯æŒCSS1~CSS3 jQuery å¯¹è±¡jQuery å¯¹è±¡æ˜¯å¯¹ DOM çš„ä¸€å±‚åŒ…è£… $(document)ï¼šè¡¨ç¤ºå°† document å¯¹è±¡è½¬åŒ–ä¸º jQuery å¯¹è±¡ã€‚ ä¸‹æ ‡ä¸º0çš„å…ƒç´ è¡¨ç¤ºå†…éƒ¨çš„ DOM å¯¹è±¡ï¼Œå°±æ˜¯ document å¯¹è±¡ length è¡¨ç¤ºå…¶å†…éƒ¨ DOM å¯¹è±¡çš„ä¸ªæ•°ï¼Œä¸€ä¸ª jQuery å¯¹è±¡å¯ä»¥æœ‰å¤šä¸ªDOM å¯¹è±¡ __protp__å¯ä»¥æŸ¥çœ‹è¿™é¬¼å¯¹è±¡çš„åŸå½¢ï¼ˆjQuery æœ¬èº«ï¼‰æ‰€å…·æœ‰çš„å±æ€§å’Œæ–¹æ³• å…ƒç´ æ“ä½œjQuery é€‰æ‹©å™¨ åŸºæœ¬é€‰æ‹©å™¨ å±‚çº§é€‰æ‹©å™¨ åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨ å†…å®¹é€‰æ‹©å™¨ å¯è§æ€§é€‰æ‹©å™¨ å±æ€§é€‰æ‹©å™¨ å­å…ƒç´ é€‰æ‹©å™¨ æ ‡ç­¾ã€idã€ç±» ç©ºæ ¼ã€&gt;ã€+ã€~ :firstã€:oddã€ç­‰ç­‰ :containsã€:emptyã€ç­‰ç­‰ :showã€:visible value ç­‰ç­‰ :first-child ç­‰ç­‰ åŸºæœ¬é€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° ä¾‹å­ element åŒ¹é…å…ƒç´ åæ‰€æœ‰å…ƒç´  $(â€˜aâ€™) #id åŒ¹é… idï¼Œä¸€ä¸ªå…ƒç´  $(â€˜#btnâ€™) .class åŒ¹é…ç±»åçš„æ‰€æ¬²å…ƒç´  $(â€˜.btn-styleâ€™) selector1, selecttor2 åŒ¹é…å¤šä¸ªï¼ˆä¸€ä¸ªå¼•å·å†…ç”¨é€—å·éš”å¼€ï¼‰ $(â€˜a, span, divâ€™) å¯ç»„åˆä½¿ç”¨ å±‚çº§é€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° ä¾‹å­ selector selector1 é€‰æ‹©ç¥–å…ˆå…ƒç´ ä¸‹çš„æ‰€æœ‰å­å…ƒç´  $(â€˜div .testâ€™) parent &gt; child çˆ¶å…ƒç´ ä¸‹çš„æ‰€æœ‰å­å…ƒç´  $(â€˜.show &gt; .colorâ€™) pre + next å½“å‰å…ƒç´ ç›¸é‚»çš„ä¸‹ä¸€ä¸ªåŒçº§å…ƒç´  $(â€˜div + .showâ€™)ï¼Œè·å– div ä¸‹ä¸€ä¸ª class åä¸ºshowçš„å…ƒç´  pre ~ siblings å½“å‰å…ƒç´ åçš„æ‰€æœ‰åŒçº§å…ƒç´  $(â€˜.show ~ aâ€™) åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° ä¾‹å­ :first æŒ‡å®šé€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  $(â€˜li :firstâ€™) :last æœ€åä¸€ä¸ªå…ƒç´  $(â€˜li :last) :even æŒ‡å®šé€‰æ‹©å™¨ç´¢å¼•å€¼ä¸ºå¶æ•°çš„è¡Œï¼Œä» 0 å¼€å§‹ $(â€˜li :evenâ€™) :odd å¥‡æ•° $(â€˜li :oddâ€™) :eq(index) è·å–ç´¢å¼•ç­‰äº index çš„å…ƒç´ ï¼Œä» 0 å¼€å§‹ $(â€˜li:eq(2)â€™) :gt(index) ç´¢å¼•å€¼å¤§äº index çš„å…ƒç´  $(â€˜li:gt(2)â€™) :lt(index) å°äº index çš„å…ƒç´  $(â€˜li:lt(2)â€™) :not(selector) é™¤æŒ‡å®šé€‰æ‹©å™¨ä¹‹å¤–çš„å…ƒç´  $(â€˜li:not(li:eq(2))â€™) :focus è·å–å½“å‰ç„¦ç‚¹å…ƒç´  $(â€˜input:focusâ€™) :animated æ­£åœ¨æ‰§è¡ŒåŠ¨ç”»æ•ˆæœçš„å…ƒç´  $(â€˜li:not(:animated)â€™) :target ç”±æ–‡æ¡£ URI çš„æ ¼å¼åŒ–è¯†åˆ«ç è¡¨ç¤ºçš„å…ƒç´  è‹¥ URI ä¸ºhttp://hello/#hiï¼Œåˆ™ $(â€˜div:targetâ€™)ä¼šè·å¾— &lt;div id=&quot;hi&quot;&gt;&lt;/div&gt; å†…å®¹é€‰æ‹©å™¨æ ¹æ®å…ƒç´ çš„å†…å®¹è·å¾—æŒ‡å®šå…ƒç´  é€‰æ‹©å™¨ æè¿° ä¾‹å­ :contains(text) å†…å®¹åŒ…å« text æ–‡æœ¬çš„å…ƒç´  $(â€˜li:contains(â€œhelloâ€)â€™) :empty å†…å®¹ä¸ºç©ºçš„å…ƒç´  $(â€˜li:emptyâ€™) :has(selector) å†…å®¹æœ‰æŒ‡å®šé€‰æ‹©å™¨çš„å…ƒç´  $(â€˜li:has(â€œaâ€)â€™) :parent å†…å®¹ä¸ä¸ºç©ºçš„å…ƒç´ ï¼ˆç‰¹æ®Šï¼‰ $(â€˜li:patentâ€™) å¯è§æ€§é€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° ä¾‹å­ :hidden è·å–æ‰€æœ‰éšè—å…ƒç´  $(â€˜li:hiddenâ€™)ï¼Œè·å–æ‰€æœ‰éšè—çš„&lt;li&gt; :visible æ‰€æœ‰å¯è§å…ƒç´  $(â€˜li:visibleâ€™) å½“ display: none;çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ :hidden æ¥è·å–éšè—çš„å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ã€‚ å±æ€§é€‰æ‹©å™¨æ ¹æ®å…ƒç´ çš„å±æ€§è·å–æŒ‡å®šå…ƒç´ ã€‚ä¾‹å¦‚ï¼šè·å– class å€¼ä¸º show çš„ &lt;div&gt; é€‰æ‹©å™¨ æè¿° å®ä¾‹ [attr] æŒ‡å®šå±æ€§çš„å…ƒç´  $(â€˜div[class]â€™)ï¼Œè·å–å«æœ‰ class çš„æ‰€æœ‰ div [attr=value] å±æ€§å€¼ä¸º value çš„å…ƒç´  $(â€˜div[class=show]â€™) [attr^=value] å±æ€§å€¼ä»¥ value å¼€å§‹çš„å…ƒç´  $(â€˜div[class^=btn]â€™) [attr$=value] ä»¥ value ç»“å°¾çš„å…ƒç´  $(â€˜div[class$=active]â€™) [attr*=value] å±æ€§å€¼åŒ…å« value çš„å…ƒç´  $(â€˜div[class*=â€-â€œ]â€™)ï¼Œ-ä¸ºå­—ç¬¦ä¸² [attr~=value] è·å–å…ƒç´ çš„å±æ€§å€¼åŒ…å«ä¸€ä¸ª valueï¼Œä»¥ç©ºæ ¼åˆ†å¼€ $(â€˜div[class~=â€boxâ€]â€™)ï¼Œè·å– class ä¸­æœ‰ box æˆ–è€…é€šè¿‡ç©ºæ ¼åˆ†å¼€ä¸”åŒ…å« box çš„å…ƒç´ ï¼Œå¦‚a box [attr1][attr]...[attrN] è·å–åŒæ—¶æ‹¥æœ‰å¤šä¸ªå±æ€§çš„å…ƒç´  $('input[id][name$='usr]')ï¼Œè·å–åŒæ—¶å«æœ‰ id å’Œå±æ€§å€¼ä»¥ usr ç»“å°¾çš„ name å±æ€§çš„ input å­å…ƒç´ é€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° :nth-child(index/even/odd/å…¬å¼) index é»˜è®¤ä»¥ 1 å¼€å§‹ :first-child ç¬¬ä¸€ä¸ªå­å…ƒç´  :last-child æœ€åä¸€ä¸ª :only-child å¦‚æœå½“å‰å…ƒç´ æ˜¯å”¯ä¸€çš„å­å…ƒç´ ï¼ŒåŒ¹é… :nth-last-child(index/even/odd/å…¬å¼) æ‰€æœ‰å®ƒä»¬çˆ¶å…ƒç´ çš„ç¬¬ n ä¸ªå­å…ƒç´ ï¼Œè®¡æ•°ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹åˆ°ç¬¬ä¸€ä¸ª :nth-of-type(index/even/odd/å…¬å¼) é€‰æ‹©åŒå±äºä¸€ä¸ªçˆ¶å…ƒç´ ä¹‹ä¸‹ï¼Œå¹¶ä¸”æ ‡ç­¾åç›¸åŒçš„å­å…ƒç´ ä¸­çš„ç¬¬ n ä¸ªå…ƒç´  :first-of-type æ‰€æœ‰ç›¸åŒå…ƒç´ åç§°çš„ç¬¬ä¸€ä¸ªå­å…ƒç´  :last-of-type æœ€åä¸€ä¸ª :only-of-type é€‰æ‹©æ‰€æ¬²æ²¡æœ‰å…„å¼Ÿå…ƒç´ ï¼Œä¸”å…·æœ‰ç›¸åŒåç§°çš„å…ƒç´  :nth-last-of-type(index/even/odd/å…¬å¼) é€‰æ‹©æ‰€æ¬²å®ƒä»¬çš„çˆ¶çº§å…ƒç´ çš„ç¬¬ n ä¸ªå­å…ƒç´ ï¼Œä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹è®¡æ•° è¡¨å•å…ƒé€‰æ‹©å™¨ é€‰æ‹©å™¨ æè¿° :input è·å–é¡µé¢æ‰€æœ‰è¡¨å•å…ƒç´ ï¼ŒåŒ…æ‹¬&lt;select&gt;ã€&lt;textatea&gt; :text é¡µé¢ä¸­æ‰€æœ‰æ–‡æœ¬æ¡† :password æ‰€æœ‰å¯†ç æ¡† :radio æ‰€æœ‰å•é€‰æŒ‰é’® :checkbox æ‰€æœ‰å¤é€‰æŒ‰é’® :submit è·å– submit æŒ‰é’® :reset reset æŒ‰é’® :image è·å–type='image'çš„å›¾åƒåŸŸ :button button æŒ‰é’®ï¼ŒåŒ…æ‹¬ type='button' :file type='file'çš„æ–‡ä»¶åŸŸ :hidden è·å–éšè—è¡¨å•ç›¸ :enabled è·å–æ‰€æœ‰å¯ç”¨è¡¨å•é¡¹ :disabled è·å–ä¸å¯ç”¨â€¦ :checked è·å–æ‰€æœ‰é€‰ä¸­ï¼Œé’ˆå¯¹ radio å’Œ checkbox :selected é’ˆå¯¹ select æ³¨æ„ $('input') å’Œ $(':input')ä¸ä¸€æ ·ï¼Œå‰è€…è·å–çš„æ˜¯ &lt;input&gt;ï¼Œåè€…è·å¾—æ‰€æœ‰è¡¨å•æ§ä»¶ å…ƒç´ éå†each( function( index, element ) {} ) indexï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•ä½ç½®ï¼Œä» 0 å¼€å§‹ elementï¼šå½“å‰å…ƒç´  è¿™æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¯ä¸ªåŒ¹é…çš„å…ƒç´ éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•° 12345&lt;ul&gt; &lt;li&gt;HTML&lt;/li&gt; &lt;li&gt;CSS&lt;/li&gt; &lt;li&gt;JavaScript&lt;/li&gt;&lt;/ul&gt; 12345$(&quot;li&quot;).each((index, element) =&gt; { console.log(index); console.log(element); console.log(element.text());}); å…ƒç´ å†…å®¹ æ–¹æ³• æè¿° html() è·å–ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ HTML å†…å®¹ html(content) è®¾ç½®ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ HTML å†…å®¹ text() è·å–æ‰€æœ‰åŒ¹é…å…ƒç´ åŒ…å«çš„æ–‡æœ¬å†…å®¹ç»„åˆèµ·æ¥çš„æ–‡æœ¬ text(content) è®¾ç½®æ‰€æœ‰åŒ¹é…å…ƒç´ çš„æ–‡æœ¬å†…å®¹ val() è·å–è¡¨å•å…ƒç´ çš„ value å€¼ val(value) è®¾ç½®è¡¨å•å…ƒç´ çš„ value å€¼ val()è¿˜å¯ä»¥æ“ä½œselectã€radioã€checkbox çš„é€‰ä¸­æƒ…å†µï¼Œå½“è·å–çš„å…ƒç´ æ˜¯ &lt;select&gt;çš„æ—¶å€™ï¼Œè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«æ‰€é€‰å€¼çš„æ•°ç»„ï¼›è¦ä¸ºè¡¨å•å…ƒç´ è®¾ç½®é€‰ä¸­æƒ…å†µæ˜¯ï¼Œå¯ä»¥ä¼ é€’æ•°ç»„å‚æ•°ã€‚ å…ƒç´ æ ·å¼ æ–¹æ³• æè¿° css(name) è·å–ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„æ ·å¼ css(properties) ä»¥é”®å€¼ çš„å½¢å¼è®¾ç½®åŒ¹é…æ ·å¼ css(name, value) css('color', 'cyan') width() è·å–ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„å½“å‰å®½åº¦ï¼ˆæ•°å€¼ï¼‰ width(value) è®¾ç½®å®½åº¦ï¼ˆå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å€¼ï¼‰ height() è·å–é«˜åº¦â€¦ height(value) è®¾ç½®é«˜åº¦â€¦ offset() è·å–å…ƒç´ ä½ç½®ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å« left å’Œ top offset(properties) åˆ©ç”¨å¯¹è±¡è®¾ç½®å…ƒç´ çš„ä½ç½®ï¼Œå¿…é¡»åŒ…å« left å’Œ top css()ä¸­ï¼Œ- è¦å»æ‰ï¼Œç„¶åå±æ€§æ¢æˆå¤§å†™ï¼Œä¾‹å¦‚ï¼šbackground-color æ”¹ä¸º backgroundColorã€‚ css()é‡Œé¢ä¼ å¯¹è±¡ï¼š 1ele.css({ color: &quot;red&quot;, backgroundColor: &quot;green&quot; }); å…ƒç´ ç­›é€‰æŸ¥æ‰¾ æ–¹æ³• æè¿° find(expr) æœç´¢æ‰€æœ‰ä¸æŒ‡å®šè¡¨è¾¾å¼åŒ¹é…çš„å…ƒç´  parents([expr]) å–å¾—ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å…ƒç´ çš„ç¥–å…ˆå…ƒç´ çš„é›†åˆï¼ˆä¸åŒ…å«æ ¹å…ƒç´ ï¼‰ parents([expr]) å–å¾—ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å…ƒç´ çš„å”¯ä¸€çˆ¶çº§å…ƒç´ çš„å…ƒç´ é›†åˆ siblings([expr]) å–å¾—æ‰€æœ‰åŒçº§å…ƒç´ ï¼ˆä¸åˆ†ä¸Šä¸‹ï¼‰ next([expr]) åŒ¹é…ç´§é‚»çš„åŒçº§å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´  pre([expr]) åŒ¹é…ç´§é‚»çš„åŒçº§å…ƒç´ çš„ä¸Šä¸€ä¸ªå…ƒç´  è¿‡æ»¤ æ–¹æ³• æè¿° eq(index) è·å–ç¬¬ N ä¸ªå…ƒç´  filter(expr|obj|ele|fn) ä½¿ç”¨é€‰æ‹©å™¨ã€å¯¹è±¡ã€å…ƒç´ æˆ–å‡½æ•°å®ŒæˆæŒ‡å®šå…ƒç´ çš„ç­›é€‰ hasClass(class) æ£€æŸ¥æ˜¯å¦å«æœ‰æŸä¸ª _class_ï¼Œè¿”å› trueæˆ–false is(expr) ç”¨ä¸€ä¸ªè¡¨è¾¾å¼æ¥æ£€æŸ¥å½“å‰é€‰æ‹©çš„å…ƒç´ é›†åˆï¼Œè‹¥æœå…¶ä¸­æœ‰ä¸€ä¸ªç¬¦åˆï¼Œè¿”å› true has(expr) ä¿ç•™åŒ…å«ç‰¹å®šåä»£çš„å…ƒç´ ï¼Œå»æ‰é‚£äº›ä¸å«æœ‰æŒ‡å®šåä»£çš„å…ƒç´  å…ƒç´ å±æ€§åŸºæœ¬å±æ€§æ“ä½œ æ–¹æ³• æè¿° attr(name) å–å¾—ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„å±æ€§å€¼ï¼Œå¦åˆ™è¿”å› undefined attr(properties) å°†ä¸€ä¸ªé”®å€¼å¯¹å½¢å¼çš„å¯¹è±¡è®¾ç½®ä¸ºæ‰€æœ‰æ’‡çš®å…ƒç´ çš„å±æ€§ attr(name, value) å°†æ‰€åŒ¹é…çš„å…ƒç´ è®¾ç½®ä¸€ä¸ªå±æ€§å€¼ attr(name, function) å°†å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºæ‰€åŒ¹é…å…ƒç´ çš„ name çš„å±æ€§å€¼ prop(name) å–å¾—ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„å±æ€§å€¼ï¼Œå¦åˆ™è¿”å› undefined prop(properties) å°†ä¸€ä¸ªé”®å€¼å¯¹å½¢å¼çš„å¯¹è±¡è®¾ç½®ä¸ºæ‰€æœ‰æ’‡çš®å…ƒç´ çš„å±æ€§ prop(name, value) å°†æ‰€åŒ¹é…çš„å…ƒç´ è®¾ç½®ä¸€ä¸ªå±æ€§å€¼ prop(name, function) å°†å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºæ‰€åŒ¹é…å…ƒç´ çš„ name çš„å±æ€§å€¼ removeAttr(name) ä»æ¯ä¸ªåŒ¹é…å…ƒç´ ä¸­åˆ é™¤ä¸€ä¸ªå±æ€§ attr()å’Œprop()ä¸€æ ·ï¼Œä¸è¿‡åœ¨ä½¿ç”¨ checked å’Œ selectedå’Œdisabledçš„æ—¶å€™ä½¿ç”¨ prop()ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½åªèƒ½è·å–ä¸€ä¸ªåŒ¹é…çš„å±æ€§ï¼Œæ‰€ä»¥è¦é…åˆeach()æ¥è·å–æ‰€æœ‰çš„å±æ€§ class å±æ€§æ“ä½œè¦æ“ä½œå…ƒç´ çš„ class ä»¥è¾¾åˆ°åŠ¨æ€æ ·å¼ï¼Œå¯ä»¥ä½¿ç”¨ attr()ï¼Œä½†æ˜¯åªèƒ½æ“ä½œä¸€ä¸ªï¼Œä¸å¤Ÿçµæ´»ã€‚ç”¨ä¸€ä¸‹æ–¹æ³•ï¼š æ–¹æ³• ä½œç”¨ æè¿° addClass() è¿½åŠ æ ·å¼ ä¸ºåŒ¹é…çš„å…ƒç´ è¿½åŠ æŒ‡å®šçš„ç±»å‹ removeClass() ç§»é™¤æ ·å¼ å…¨éƒ¨åˆ é™¤æˆ–è€…åˆ é™¤æŒ‡å®šç±»å toggleClass() åˆ‡æ¢æ ·å¼ åˆ¤æ–­æŒ‡å®šæ ·å¼ç±»æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨å°±åˆ é™¤ï¼Œä¸å­˜åœ¨å°±æ·»åŠ  hasClass() åˆ¤æ–­æ ·å¼ åˆ¤æ–­æ˜¯å¦æœ‰ class addClass()å’ŒremoveClass()è¦æ·»åŠ å¤šä¸ªæ ·å¼çš„æ—¶å€™ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€ DOM èŠ‚ç‚¹æ“ä½œèŠ‚ç‚¹è¿½åŠ çˆ¶å­èŠ‚ç‚¹ï¼šåœ¨åŒ¹é…åˆ°çš„å…ƒç´ å†…éƒ¨æ·»åŠ æŒ‡å®šçš„ content å†…å®¹ã€‚ å…„å¼ŸèŠ‚ç‚¹ï¼šåœ¨åŒ¹é…åˆ°çš„å…ƒç´ å¤–éƒ¨æ·»åŠ æŒ‡å®šçš„ content å†…å®¹ã€‚ çˆ¶å­èŠ‚ç‚¹ æ–¹æ³• æè¿° append(content) æŠŠ content å†…å®¹è¿½åŠ åˆ°åŒ¹é…çš„å…ƒç´ å†…å®¹å°¾éƒ¨ prepend(content) æŠŠ content å†…å®¹è¿½åŠ åˆ°åŒ¹é…çš„å…ƒç´ å†…å®¹å¤´éƒ¨ appendTo(content) æŠŠåŒ¹é…åˆ°çš„å†…å®¹æ’å…¥åˆ° content å†…å®¹çš„å°¾éƒ¨ prependTo æŠŠåŒ¹é…åˆ°çš„å†…å®¹æ’å…¥åˆ° content å†…å®¹çš„å¤´éƒ¨ å…„å¼ŸèŠ‚ç‚¹ æ–¹æ³• æè¿° after(content) æŠŠ content å†…å®¹æ’å…¥åˆ°å…ƒç´ çš„å°¾éƒ¨ before(content) æŠŠ content å†…å®¹æ’å…¥åˆ°å…ƒç´ çš„å¤´éƒ¨ insertAfter(content) æŠŠæ‰€æœ‰åŒ¹é…åˆ°çš„å†…å®¹æ’å…¥åˆ° content å…ƒç´ çš„å°¾éƒ¨ insertBefore(content) æŠŠæ‰€æœ‰åŒ¹é…åˆ°çš„å†…å®¹æ’å…¥åˆ° content å…ƒç´ çš„å¤´éƒ¨ ä¾‹å­ 12345678&lt;div class=&quot;list&quot;&gt; &lt;ul&gt; &lt;li&gt;one&lt;/li&gt; &lt;li&gt;two&lt;/li&gt; &lt;li&gt;three&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;add&quot;&gt;+æ·»åŠ &lt;/div&gt; 1234$(&quot;.add&quot;).click(function () { var str = &quot;&lt;li&gt;four&lt;/li&gt;&quot;; $(&quot;.list li:lase-child&quot;).after(str);}); èŠ‚ç‚¹æ›¿æ¢ æ–¹æ³• æè¿° replaceWith(content) å°†æ‰€æœ‰åŒ¹é…çš„å…ƒç´ æ›¿æ¢æˆæŒ‡å®šçš„ HTML æˆ– DOM å…ƒç´  replaceAll(content) ç”¨åŒ¹é…çš„å…ƒç´ æ›¿æ¢æ‰æ‰€æœ‰ selector åŒ¹é…åˆ°çš„å…ƒç´  replaceWith()çš„å‚æ•°æ˜¯ä¸€ä¸ª å‡½æ•° çš„æ—¶å€™ï¼Œå®ƒçš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºå®ŒæˆæŒ‡å®šçš„å…ƒç´ æ›¿æ¢ èŠ‚ç‚¹åˆ é™¤ æ–¹æ³• æè¿° empty() æ¸…ç©ºå…ƒç´ å†…å®¹ï¼Œä½†ä¸åˆ é™¤å…ƒç´ æœ¬èº« remove([expr]) æ¸…ç©ºå…ƒç´ å†…å®¹ï¼Œå¹¶åˆ é™¤å…ƒç´ æœ¬èº«ï¼ˆå¯é€‰å‚æ•° expr ç”¨äºç­›é€‰å…ƒç´ ï¼‰ detach() ä» DOM ä¸­åˆ é™¤æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ï¼ˆä¿ç•™æ‰€æœ‰ç»‘å®šäº‹ä»¶ã€é™„åŠ çš„æ•°æ®ç­‰ï¼‰ ä¾‹ 12345&lt;ul&gt; &lt;li&gt;åƒé¥­&lt;/li&gt; &lt;li&gt;ç¡è§‰&lt;/li&gt; &lt;li&gt;æ‰“æ¸¸æˆ&lt;/li&gt;&lt;/ul&gt; 1$(&quot;li:first-child&quot;).empty(); 1$(&quot;li:first-child&quot;).remove(); èŠ‚ç‚¹å¤åˆ¶ æ–¹æ³• æè¿° clone([false]) å¤åˆ¶åŒ¹é…çš„å…ƒç´ å¹¶ä¸”é€‰ä¸­è¿™äº›å¤åˆ¶çš„å‰¯æœ¬ï¼Œé»˜è®¤å‚æ•°ä¸ºfalse clone(true) å¤åˆ¶å…ƒç´ çš„æ‰€æœ‰äº‹ä»¶å¤„ç† äº‹ä»¶æ“ä½œå¸¸ç”¨äº‹ä»¶è¡¨å•äº‹ä»¶ æ–¹æ³• æè¿° blur( [ [data], function ]) å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ focus( [ [data], function ]) å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ change( [ [data], function ]) å…ƒç´ çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ focusin( [ [data], function ]) åœ¨çˆ¶å…ƒç´ ä¸Šæ£€æµ‹å­å…ƒç´ è·å–ç„¦ç‚¹çš„æƒ…å†µ focusout( [ [data], function ]) åœ¨çˆ¶å…ƒç´ ä¸Šæ£€æµ‹å­å…ƒç´ å¤±å»ç„¦ç‚¹çš„æƒ…å†µ select( [ [data], function ]) å½“æ–‡æœ¬æ¡†ä¸­çš„æ–‡æœ¬è¢«é€‰ä¸­æ—¶è§¦å‘ submit( [ [data], function ]) å½“è¡¨å•æäº¤æ—¶è§¦å‘ é”®ç›˜äº‹ä»¶ æ–¹æ³• æè¿° keydown( [ [data], function ] ) é”®ç›˜æŒ‰é”®æŒ‰ä¸‹æ—¶è§¦å‘ keypress( [ [data], function ] ) é™¤ Shiftã€Ctrlã€Fn ç­‰é”®ç›˜ï¼ŒæŒ‰é”®æŒ‰ä¸‹æ—¶è§¦å‘ keyup( [ [data], function ] ) é”®ç›˜æŒ‰é”®å¼¹èµ·æ—¶è§¦å‘ é¼ æ ‡äº‹ä»¶ æ–¹æ³• æè¿° mouseover( [ [data], function ] ) é¼ æ ‡ç§»å…¥æ—¶è§¦å‘ mouseout( [ [data], function ] ) é¼ æ ‡ç¦»å¼€æ—¶è§¦å‘ click( [ [data], function ] ) å•å‡»å…ƒç´ æ—¶è§¦å‘ dbclick( [ [data], function ] ) åŒå‡»å…ƒç´ æ—¶è§¦å‘ mousedown( [ [data], function ] ) é¼ æ ‡åœ¨ç›®æ ‡ä¸Šæ–¹ï¼Œå¹¶ä¸”æŒ‰ä¸‹æ—¶è§¦å‘ mouseup( [ [data], function ] ) é¼ æ ‡åœ¨ç›®æ ‡ä¸Šæ¾å¼€æ—¶è§¦å‘ æµè§ˆå™¨äº‹ä»¶ æ–¹æ³• æè¿° scroll( [ [data], function ] ) æ»šåŠ¨æ¡å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ resize( [ [data], function ] ) è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°çš„æ—¶å€™è§¦å‘ ä¾‹ 1ï¼šè¾“å…¥æç¤º 123456789101112131415&lt;body&gt; &lt;p&gt;ç”¨æˆ·ï¼š&lt;input type=&quot;text&quot; /&gt;&lt;/p&gt; &lt;p&gt;å¯†ç ï¼š&lt;input type=&quot;text&quot; /&gt;&lt;/p&gt; &lt;p&gt;é‚®ç®±ï¼š&lt;input type=&quot;text&quot; /&gt;&lt;/p&gt;&lt;/body&gt;&lt;script&gt; $(&quot;input[type=text]&quot;).focus(function () { let tips = $(&quot;&lt;span&gt;&lt;/span&gt;&quot;); tips.html(&quot;&amp;nbsp;è¯·æŒ‰ç…§è¦æ±‚è¾“å…¥&quot;); $(&quot;input:focus&quot;).after(tips); }); $(&quot;input[type=text]&quot;).blur(function () { $(this).next().remove(); });&lt;/script&gt; ä¾‹ 2ï¼šç§»åŠ¨å…ƒç´  1234567891011121314151617181920212223242526272829303132&lt;style&gt; .box { width: 50px; height: 50px; background-color: darkcyan; }&lt;/style&gt;&lt;body&gt; &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; $(document).keydown((e) =&gt; { let option = e.which; let box = $(&quot;.box&quot;); let top = box.offset().top; let left = box.offset().left; switch (option) { case 37: box.offset({ left: left - 10, top: top }); break; case 38: box.offset({ left: left, top: top - 10 }); break; case 39: box.offset({ left: left + 10, top: top }); break; case 40: box.offset({ left: left, top: top + 10 }); break; } });&lt;/script&gt; é¡µé¢åŠ è½½æ“ä½œ é€‰é¡¹ window.onload $(document).ready() æ‰§è¡Œæ—¶æœº å¿…é¡»ç­‰ç½‘é¡µä¸­çš„æ‰€æœ‰å†…å®¹åŠ è½½å®Œæˆåï¼ˆåŒ…æ‹¬å›¾ç‰‡ç­‰ä¹‹ç±»çš„ä¸œè¥¿ï¼‰æ‰èƒ½æ‰§è¡Œ ç½‘é¡µå†…çš„æ‰€æœ‰ DOM ç»“æ„åŠ è½½å®Œæˆ ç¼–å†™ä¸ªæ•° ä¸èƒ½åŒæ—¶ç¼–å†™å¤šä¸ª å¯ä»¥åŒæ—¶ç¼–å†™å¤šä¸ª ç®€åŒ–å†™æ³• æ²¡æœ‰ $() jQuery çš„é¡µé¢åŠ è½½æœ‰ 3 ä¸­å†™æ³•ï¼š 12345$(document).ready(function () {});$().ready(function () {});$(function () {}); äº‹ä»¶ç»‘å®šä¸åˆ‡æ¢ æ–¹æ³• æè¿° on(events, [selector], [data], function) åœ¨å…ƒç´ ä¸Šç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶å¤„ç†å‡½æ•° off(events, [selector], function) åœ¨å…ƒç´ ä¸Šç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶å¤„ç†å‡½æ•° one(events, [data], function) ä¸ºæ¯ä¸ªåŒ¹é…å…ƒç´ çš„äº‹ä»¶ç»‘å®šä¸€æ¬¡æ€§å¤„ç†å‡½æ•° trigger(type, [data]) åœ¨æ¯ä¸ªåŒ¹é…å…ƒç´ ä¸Šè§¦å‘æŸç±»äº‹ä»¶ triggerHandler(type, [data]) åŒtrigger()ï¼Œä½†æµè§ˆå™¨é»˜è®¤åŠ¨ä½œä¸ä¼šè¢«è§¦å‘ hover([over,]out) å…ƒç´ ç§»å…¥å’Œç§»å‡ºäº‹ä»¶åˆ‡æ¢ dataï¼šè¡¨ç¤ºå°†è¦ä¼ é€’ç»™äº‹ä»¶å¤„ç†å‡½æ•°çš„æ•°æ® typeï¼šè¡¨ç¤ºä¸ºå…ƒç´ æ·»åŠ çš„äº‹ä»¶ç±»å‹ï¼ˆå¤šä¸ªç”¨ç©ºæ ¼éš”å¼€ï¼‰ over å’Œ out åˆ†åˆ«è¡¨ç¤ºç§»å…¥å’Œç§»å‡ºæ—¶çš„äº‹ä»¶å¤„ç†å‡½æ•° åŠ¨ç”»ç‰¹æ•ˆjQuery ä¸­æœ‰ä¸¤ç§å¢åŠ åŠ¨ç”»çš„æ–¹æ³•ï¼šä¸€ç§æ˜¯å†…ç½®çš„åŠ¨ç”»æ–¹æ³•ï¼›å¦ä¸€ç§æ˜¯é€šè¿‡ animation()è¿›è¡Œè‡ªå®šä¹‰åŠ¨ç”» å¸¸ç”¨åŠ¨ç”»åŸºæœ¬ æ–¹æ³• æè¿° show([speed, [easing], [fn]]) æ˜¾ç¤ºéšè—çš„åŒ¹é…å…ƒç´  hide([speed, [easing], [fn]]) éšè—æ˜¾ç¤ºçš„åŒ¹é…å…ƒç´  toggle([speed, [easing], [fn]]) å…ƒç´ æ˜¾ç¤ºä¸éšè—åˆ‡æ¢ æ»‘åŠ¨ æ–¹æ³• æè¿° slideDown([speed, [easing], [fn]]) å‚ç›´æ»‘åŠ¨æ˜¾ç¤ºåŒ¹é…å…ƒç´ ï¼ˆå‘ä¸‹å¢å¤§ï¼‰ slideUp([speed, [easing], [fn]]) å‚ç›´æ»‘åŠ¨æ˜¾ç¤ºåŒ¹é…å…ƒç´ ï¼ˆå‘ä¸Šå‡å°ï¼‰ slideToggle([speed, [easing], [fn]]) åœ¨ slideDown å’Œ slideUp ä¹‹é—´åˆ‡æ¢ æ·¡å…¥æ·¡å‡º æ–¹æ³• æè¿° fadeIn([speed, [easing], [fn]]) æ·¡å…¥æ˜¾ç¤ºåŒ¹é…å…ƒç´  fadeOut([speed, [easing], [fn]]) æ·¡å‡ºéšè—åŒ¹é…å…ƒç´  fadeTo([speed, opacity, [easing], [fn]]) ä»¥æ·¡å…¥æ·¡å‡ºæ–¹å¼å°†åŒ¹é…å…ƒç´ è°ƒæ•´åˆ°æŒ‡å®šçš„é€æ˜åº¦ fadeToggle([speed, [easing], [fn]]) åœ¨ fadeIn()å’Œ fadeOut()ä¸¤ç§æ•ˆæœé—´åˆ‡æ¢ speedï¼šåŠ¨ç”»çš„é€Ÿåº¦ï¼Œå•ä½æ˜¯æ¯«ç§’ï¼Œä¹Ÿå¯ä»¥æ˜¯ slowï¼Œfastï¼Œnormal easingï¼šåˆ‡æ¢æ•ˆæœï¼Œé»˜è®¤ä¸º swing_ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ _linear opacityï¼šé€æ˜åº¦ï¼Œ0~1 12345678910111213141516171819202122232425262728293031323334353637&lt;style&gt; .box div { width: 50px; height: 50px; } .red { background-color: red; } .green { background-color: green; } .yellow { background-color: yellow; } .orange { background-color: orange; }&lt;/style&gt;&lt;body&gt; &lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;red&quot;&gt;&lt;/div&gt; &lt;div class=&quot;green&quot;&gt;&lt;/div&gt; &lt;div class=&quot;yellow&quot;&gt;&lt;/div&gt; &lt;div class=&quot;orange&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;script&gt; $(&quot;.box div&quot;).fadeTo(2000, 0.2); $(&quot;.box div&quot;).hover( function () { $(this).fadeTo(1, 1); }, function () { $(this).fadeTo(1, 0.2); } );&lt;/script&gt; è‡ªå®šä¹‰åŠ¨ç”» æ–¹æ³• æè¿° animate(params,[speed], [easing], [fn]) ç”¨äºåˆ›å»ºè‡ªå®šä¹‰åŠ¨ç”»çš„å‡½æ•° $.speed([speed], [settings]) åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸€ç»„å±æ€§çš„å¯¹è±¡ç”¨æ¥å®šä¹‰è‡ªå®šä¹‰åŠ¨ç”» queue([queueName]) æ˜¾ç¤ºè¢«é€‰å…ƒç´ ä¸Šè¦æ‰§è¡Œçš„å‡½æ•°åˆ—é˜Ÿ delay(speed, [queueName]) è®¾ç½®ä¸€ä¸ªå»¶æ—¶æ¥æ¨è¿Ÿæ‰§è¡Œé˜Ÿåˆ—ä¸­ä¹‹åçš„é¡¹ç›® clear(speed, [queueName]) ä»å°šæœªè¿è¡Œçš„é˜Ÿåˆ—ä¸­ç§»é™¤æ‰€æœ‰é¡¹ç›® dequeue([queueName]) ä»é˜Ÿåˆ—ç§»é™¤ä¸‹ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åæ‰§è¡Œå‡½æ•° finish([queueName]) åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»ï¼Œåˆ é™¤æ‰€æ¬²æ’é˜Ÿçš„åŠ¨ç”»ï¼Œå¹¶å®ŒæˆåŒ¹é…å…ƒç´ æ‰€æœ‰çš„åŠ¨ç”» stop([clearQueue], [jumpToEnd]) åœæ­¢æ‰€æ¬²åœ¨æŒ‡å®šå…ƒç´ ä¸Šæ­£åœ¨è¿è¡Œçš„åŠ¨ç”» paramsï¼šè¡¨ç¤ºä¸€ç»„åŒ…å«åŠ¨ç”»æœ€ç»ˆå±æ€§å€¼çš„é›†åˆ settingsï¼šæ˜¯ easing ä¸ fn ç»„æˆçš„ä¸€ä¸ªå¯¹è±¡é›†åˆ queueNameï¼šè¡¨ç¤ºåˆ—é˜Ÿåç§°ï¼Œé»˜è®¤å€¼ä¸º _fx_ï¼ˆæ ‡å‡†æ•ˆæœé˜Ÿåˆ—ï¼‰ clearQueue, jumpToEndï¼šéƒ½æ˜¯å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º _false_ã€‚å‰è€…è§„å®šæ˜¯å¦åœæ­¢è¢«é€‰å…ƒç´ æ‰€æœ‰åŠ å…¥é˜Ÿåˆ—çš„åŠ¨ç”»ï¼›åè€…è§„å®šæ˜¯å¦ç«‹å³å®Œæˆå½“å‰çš„åŠ¨ç”»ã€‚ ä¾‹ 1ï¼Œç®€å•çš„è‡ªå®šä¹‰åŠ¨ç”» 123456789101112&lt;body&gt; &lt;input type=&quot;submit&quot; id=&quot;btn&quot; value=&quot;å¼€å§‹åŠ¨ç”»&quot; /&gt; &lt;div&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; $(&quot;#btn&quot;).click(() =&gt; { $(&quot;div&quot;).css({ background: &quot;red&quot;, width: 0, height: 0 }); let params = { width: &quot;100px&quot;, height: &quot;100px&quot; }; let settings = $.speed(2000, &quot;linear&quot;); $(&quot;div&quot;).animate(params, settings); });&lt;/script&gt; ä¾‹ 2ï¼ŒåŠ¨ç”»é˜Ÿåˆ— 1234567891011121314151617181920212223242526272829303132&lt;style&gt; div { position: absolute; background: red; width: 50px; height: 50px; display: none; }&lt;/style&gt;&lt;body&gt; &lt;p&gt;é˜Ÿåˆ—é•¿åº¦ä¸ºï¼š&lt;span&gt;&lt;/span&gt;&lt;/p&gt; &lt;div&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; const div = $(&quot;div&quot;); runQue(); showQue(); function runQue() { div .show(&quot;slow&quot;) .animate({ left: &quot;+=200&quot; }, 2000) .animate({ left: &quot;-=200&quot; }, 1500) .slideUp(&quot;normal&quot;, runQue) .queue(function () { $(this).css(&quot;background&quot;, &quot;green&quot;).dequeue(); }); } function showQue() { $(&quot;span&quot;).text(div.queue(&quot;fx&quot;).length); setTimeout(showQue, 100); }&lt;/script&gt; jQuery æ“ä½œ Ajaxå¸¸ç”¨æ–¹æ³•é«˜çº§åº”ç”¨ æ–¹æ³• æè¿° $.get(url, [data], [fn], [type]) é€šè¿‡è¿œç¨‹ HTTP GET è¯·æ±‚è½½å…¥ä¿¡æ¯ $.post(url, [data], [fn], [type]) é€šè¿‡è¿œç¨‹ HTTP POST è¯·æ±‚è½½å…¥ä¿¡æ¯ $.getJSON(url, [data], [fn]) é€šè¿‡è¿œç¨‹ HTTP GET è¯·æ±‚è½½å…¥ JSON æ•°æ® $.getScript(url, [fn]) é€šè¿‡è¿œç¨‹ HTTP GET è¯·æ±‚è½½å…¥å¹¶æ‰§è¡Œä¸€ä¸ª JavaScript æ–‡ä»¶ å…ƒç´ å¯¹è±¡.load(url, [data], [fn]) è½½å…¥è¿œç¨‹ HTML æ–‡ä»¶ä»£ç å¹¶æ’å…¥è‡³ DOM ä¸­ fnï¼šè¯·æ±‚æˆåŠŸæ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•° typeï¼šè®¾ç½®æœåŠ¡å™¨è¿”å›çš„æ•°æ®ç±»å‹ï¼Œå¦‚ HTMLã€JSONã€TEXT ç­‰ åº•å±‚åº”ç”¨ æ–¹æ³• æè¿° $.ajax(url, [options]) é€šè¿‡ HTTP è¯·æ±‚åŠ è½½è¿œç¨‹æ•°æ® $.ajaxSetup(options) è®¾ç½®å…¨å±€ Ajax é»˜è®¤é€‰é¡¹ optionsï¼šè®¾ç½® Ajax è¯·æ±‚çš„ç›¸å…³é€‰é¡¹ options é€‰é¡¹ï¼š é€‰é¡¹ æè¿° url å¤„ç† Ajax è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€ data å‘é€ Ajax è¯·æ±‚æ—¶ä¼ é€’çš„å‚æ•°ï¼ˆstringï¼‰ success Ajax è¯·æ±‚æˆåŠŸæ—¶è§¦å‘çš„å›è°ƒå‡½æ•° type å‘é€ HTTP è¯·æ±‚æ–¹å¼ï¼Œå¦‚ getã€post datatype æœŸå¾…çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚ï¼šhtmlã€json ç­‰ async æ˜¯å¦å¼‚æ­¥ï¼Œé»˜è®¤å€¼æ˜¯ true cache æ˜¯å¦ç¼“å­˜ï¼Œé»˜è®¤å€¼æ˜¯ true contentType è¯·æ±‚å¤´ï¼Œé»˜è®¤ä¸º application/x-www-form-urlencoded;charset=UTF-8 complete æœåŠ¡å™¨æ¥æ”¶å®Œ Ajax è¯·æ±‚ä¼ é€’çš„æ•°æ®åè§¦å‘çš„å›è°ƒå‡½æ•° jsonp åœ¨ä¸€ä¸ª jsonp è¯·æ±‚ä¸­é‡å†™å›è°ƒå‡½æ•°çš„åç§° ä¾‹ 1ï¼š$.post() 12345678$.post( &quot;index.php&quot;, { id: 2, name: &quot;zs&quot; }, function (msg) { console.log(msg.id + &quot;-&quot; + msg.name); }, &quot;json&quot;); ä¾‹ 2ï¼š$.ajax() åœ¨è¿™ä¸ªæ–¹æ³•æ±‡æ€»ï¼Œé€šè¿‡è®¾ç½® options å¯ä»¥å®ç° $.get()ï¼Œ $.post()ï¼Œ$.getJSON()ï¼Œ$.getScript() ä¸€æ ·çš„æ•ˆæœã€‚ åªå‘é€ GET è¯·æ±‚ 1$.ajax(&quot;index.php&quot;); å‘é€ GET è¯·æ±‚å¹¶ä¼ é€’æ•°æ®ï¼Œæ¥æ”¶è¿”å›ç»“æœ 123456$.ajax(&quot;index.php&quot;, { data: { book: &quot;php&quot;, price: 50 }, success: function (msg) { console.log(msg); },}); åªé…ç½® settings å‚æ•°ï¼ŒåŒæ ·å®ç° ajax æ“ä½œ 12345678$.ajax({ type: &quot;GET&quot;, url: &quot;index.php&quot;, data: { id: 2, name: &quot;js&quot; }, success: function (msg) { console.log(msg); },}); ä½¿ç”¨ ajaxSetup()é¢„å…ˆè®¾ç½®å…¨å±€ Ajax è¯·æ±‚çš„å‚æ•°ï¼Œå®ç°å…¨å±€å…±äº«ï¼Œé¿å…é¢‘å‘äº¤äº’æ—¶å‘ç”Ÿé”™è¯¯ 123456789101112// é¢„å…ˆè®¾ç½®å…¨å±€å‚æ•°$.ajaxSetup({ type: &quot;GET&quot;, url: &quot;index.php&quot;, data: { id: 2, name: &quot;js&quot; }, success: function (msg) { console.log(msg); },});// æ‰§è¡Œ ajax æ“ä½œ$.ajax(); é¢„è®¾ä¹‹åï¼Œå†è°ƒç”¨$.ajax()ã€$.get()ã€$.post()å°±ä¼šæ–¹ä¾¿è®¸å¤š å…¶ä»–ç›¸å…³æ–¹æ³•è¾…åŠ©å‡½æ•° æ–¹æ³• æè¿° $.param(obj) åˆ›å»ºæ•°ç»„æˆ–å¯¹è±¡çš„åºåˆ—åŒ–è¡¨ç¤º serialize() é€šè¿‡åºåˆ—åŒ–è¡¨å•å€¼ï¼Œåˆ›å»º URL ç¼–ç æ–‡æœ¬å­—ç¬¦ä¸² serializeArray() é€šè¿‡åºåˆ—åŒ–è¡¨å•å€¼ï¼Œåˆ›å»ºå¯¹è±¡æ•°ç»„ï¼ˆåç§°å’Œå€¼ï¼‰ åœ¨ ajax æ“ä½œæ—¶ï¼Œå¦‚æœè¦å°†å¯¹è±¡ä¿å­˜çš„æ•°æ®ã€è¡¨å•æäº¤çš„æ•°æ®è½¬æ¢ä¸º URL å‚æ•°å­—ç¬¦ä¸²ï¼Œä¸ºäº†ä¼ é€’çš„å‚æ•°ä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨è¾…åŠ©å‡½æ•° ä¾‹ 1ï¼šåºåˆ—åŒ–å¯¹è±¡ 12345let data = { id: 2, name: &quot;Jerry&quot;, skill: [&quot;html&quot;, &quot;css&quot;, &quot;js&quot;] };let seri_data = $.param(data);let deseri_data = decodeURIComponent(seri_data);console.log(seri_data);console.log(deseri_data); decodeURIComponent()ï¼šJavaScript ä¸­ç”¨äº URI è§£ç çš„å‡½æ•° ä¾‹ 2ï¼šåºåˆ—åŒ–è¡¨å•æ•°æ® 1234567891011121314151617&lt;form&gt; &lt;p&gt;å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;/p&gt; &lt;p&gt; çˆ±å¥½ï¼š&lt;input type=&quot;checkbox&quot; name=&quot;hobby[]&quot; value=&quot;swiming&quot; /&gt;æ¸¸æ³³ &lt;input type=&quot;checkbox&quot; name=&quot;hobby[]&quot; value=&quot;reading&quot; /&gt;è¯»ä¹¦ &lt;input type=&quot;checkbox&quot; name=&quot;hobby[]&quot; value=&quot;running&quot; /&gt;è·‘æ­¥ &lt;/p&gt; &lt;p&gt;æè¿°ï¼š&lt;textarea name=&quot;desc&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;&lt;/p&gt; &lt;input type=&quot;button&quot; value=&quot;æäº¤&quot; /&gt;&lt;/form&gt;&lt;script src=&quot;jquery-1.12.4.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; $(&quot;input[type=button]&quot;).on(&quot;click&quot;, function () { console.log($(&quot;form&quot;).serialize()); console.log($(&quot;form&quot;).serializeArray()); });&lt;/script&gt; Ajax äº‹ä»¶ æ–¹æ³• å‡½æ•° ajaxComplete(fn) è¯·æ±‚å®Œæˆæ—¶è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° ajaxError(fn) è¯·æ±‚é”™è¯¯æ—¶è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° ajaxSend(fn) è¯·æ±‚å‘é€å‰è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° ajaxStart(fn) è¯·æ±‚å‘é€å¼€å§‹æ—¶è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° ajaxStop(fn) è¯·æ±‚å‘é€ç»“æŸæ—¶è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° ajaxSuccess(fn) è¯·æ±‚å‘é€æˆåŠŸæ—¶è§¦å‘çš„äº‹ä»¶æ‰§è¡Œå‡½æ•° äº‹ä»¶å‘ç”Ÿçš„é¡ºåº start &gt; send &gt; success &gt;error &gt; compelete 1234567891011$(document).ajaxError(function () { console.log(&quot;ajaxError&quot;);});$.post( &quot;index.php&quot;, { id: 2, name: &quot;JS&quot; }, function (msg) { console.log(msg.id + &quot;-&quot; + msg.name); }, &quot;xml&quot;); å…ƒç´ æ“ä½œæ¡ˆä¾‹æŠ˜å èœå•æ ·å¼ 123456789101112131415161718192021222324252627282930313233343536373839&lt;style&gt; ul { list-style: none; padding: 0; margin: 0; } div { width: 150px; border: 1px solid #515e7b; margin: 10px; } div li { background: #515e7b; border-bottom: 1px solid #fff; } div li a { text-decoration: none; color: #fff; font-size: 16px; height: 40px; line-height: 40px; padding-left: 10px; } div li a:hover { text-decoration: underline; } .wrap { width: 150px; display: none; } .wrap li { background: #fff; margin: 0; } .wrap li a { color: #3b475f; font-size: 12px; }&lt;/style&gt; DOM 12345678910111213141516171819202122232425262728&lt;div id=&quot;fold&quot;&gt; &lt;ul&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;ä¿¡æ¯ç®¡ç†&lt;/a&gt; &lt;ul class=&quot;wrap&quot;&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;æœªè¯»ä¿¡æ¯&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;å·²è¯»ä¿¡æ¯&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;ä¿¡æ¯åˆ—è¡¨&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;å•†å“ç®¡ç†&lt;/a&gt; &lt;ul class=&quot;wrap&quot;&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;å•†å“æ·»åŠ &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;å•†å“åˆ—è¡¨&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;å•†å“åˆ†ç±»&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;ç”¨æˆ·ç®¡ç†&lt;/a&gt; &lt;ul class=&quot;wrap&quot;&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;æƒé™è®¾ç½®&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;ç”¨æˆ·åˆ—è¡¨&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;é‡ç½®å¯†ç &lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; JavaScript jQuery 1234567// é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¾ç¤ºç¬¬ä¸€ä¸ªåˆ†ç±»ä¸‹çš„èœå•$(&quot;#fold&gt;ul&gt;li:first&quot;).find(&quot;.wrap&quot;).css({ display: &quot;block&quot; });// æ ¹æ®ç”¨æˆ·å•å‡»ï¼ŒæŠ˜å æˆ–å±•å¼€å¯¹åº”çš„èœå•$(&quot;#fold&gt;ul&gt;li&quot;).click(function () { $(this).siblings(&quot;li&quot;).find(&quot;.wrap&quot;).css({ display: &quot;none&quot; }); $(this).find(&quot;.wrap&quot;).css({ display: &quot;block&quot; });}); DOM èŠ‚ç‚¹æ“ä½œæ¡ˆä¾‹å·¦ç§»å³ç§»æ ·å¼ 1234567891011121314151617181920&lt;style&gt; select { width: 100px; height: 150px; } input[type=&quot;button&quot;] { width: 50px; } #opt { margin: 90px 10px 0; } .box { width: 80%; margin: 0 auto; background-color: #999999; } .box div { float: left; }&lt;/style&gt; DOM 1234567891011121314151617181920212223&lt;div class=&quot;box&quot;&gt; &lt;div id=&quot;left&quot;&gt; &lt;p&gt;å¯é€‰é¡¹&lt;/p&gt; &lt;select multiple=&quot;multiple&quot;&gt; &lt;option&gt;æ·»åŠ &lt;/option&gt; &lt;option&gt;ç§»åŠ¨&lt;/option&gt; &lt;option&gt;ä¿®æ”¹&lt;/option&gt; &lt;option&gt;æŸ¥è¯¢&lt;/option&gt; &lt;option&gt;æ‰“å°&lt;/option&gt; &lt;option&gt;åˆ é™¤&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div id=&quot;opt&quot;&gt; &lt;input id=&quot;toRight&quot; type=&quot;button&quot; value=&quot;&gt;&quot; /&gt;&lt;br /&gt; &lt;input id=&quot;toLeft&quot; type=&quot;button&quot; value=&quot;&lt;&quot; /&gt;&lt;br /&gt; &lt;input id=&quot;toAllRight&quot; type=&quot;button&quot; value=&quot;&gt;&gt;&quot; /&gt;&lt;br /&gt; &lt;input id=&quot;toAllLeft&quot; type=&quot;button&quot; value=&quot;&lt;&lt;&quot; /&gt;&lt;br /&gt; &lt;/div&gt; &lt;div id=&quot;right&quot;&gt; &lt;p&gt;å·²é€‰é¡¹&lt;/p&gt; &lt;select multiple=&quot;multiple&quot;&gt;&lt;/select&gt; &lt;/div&gt;&lt;/div&gt; JavaScript 1234567891011121314151617// è·å–æŒ‰é’®æ·»åŠ å•å‡»äº‹ä»¶ï¼Œè·å–ç¬¬ä¸€ä¸ªä¸‹æ‹‰æ¡†ä¸­è¢«é€‰ä¸­çš„optionæ·»åŠ åˆ°ç¬¬äºŒä¸ªä¸‹æ‹‰æ¡†$(&quot;#toRight&quot;).click(function () { // å³ç§» $(&quot;#right&gt;select&quot;).append($(&quot;#left&gt;select&gt;option:selected&quot;));});$(&quot;#toLeft&quot;).click(function () { // å·¦ç§» $(&quot;#left&gt;select&quot;).append($(&quot;#right&gt;select&gt;option:selected&quot;));});$(&quot;#toAllRight&quot;).click(function () { // å…¨éƒ¨å³ç§» $(&quot;#right&gt;select&quot;).append($(&quot;#left&gt;select&gt;option&quot;));});$(&quot;#toAllLeft&quot;).click(function () { // å…¨éƒ¨å·¦ç§» $(&quot;#left&gt;select&quot;).append($(&quot;#right&gt;select&gt;option&quot;));}); äº‹ä»¶æ“ä½œæ¡ˆä¾‹æ‰‹é£ç´æ•ˆæœæ ·å¼ 123456789101112131415161718&lt;style&gt; ul { list-style: none; margin: 0; padding: 0; } div { width: 1200px; height: 400px; margin: 50px auto; overflow: hidden; } div li { width: 240px; height: 400px; float: left; }&lt;/style&gt; DOM 123456789&lt;div id=&quot;box&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;img src=&quot;images/1.jpg&quot; /&gt;&lt;/li&gt; &lt;li&gt;&lt;img src=&quot;images/2.jpg&quot; /&gt;&lt;/li&gt; &lt;li&gt;&lt;img src=&quot;images/3.jpg&quot; /&gt;&lt;/li&gt; &lt;li&gt;&lt;img src=&quot;images/4.jpg&quot; /&gt;&lt;/li&gt; &lt;li&gt;&lt;img src=&quot;images/5.jpg&quot; /&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; JavaScript 123456789101112$(&quot;#box&gt;ul&gt;li&quot;).on({ mouseover: function () { // å½“å‰çš„liçš„æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ ï¼Œå¹¶ä¿®æ”¹å…¶å®½åº¦ $(this).siblings(&quot;li&quot;).css(&quot;width&quot;, &quot;60.5px&quot;); // å°†å½“å‰liçš„å®½åº¦è®¾ç½®ä¸ºå›¾ç‰‡çš„å®½åº¦ $(this).css(&quot;width&quot;, &quot;958px&quot;); }, mouseout: function () { // æ˜¾ç¤ºæ‰€æœ‰liçš„éƒ¨åˆ†å›¾ç‰‡å†…å®¹ $(&quot;#box&gt;ul&gt;li&quot;).css(&quot;width&quot;, &quot;240px&quot;); },}); åŠ¨ç”»ç‰¹æ•ˆæ¡ˆä¾‹è½®æ’­å›¾æ ·å¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970/* çƒ­ç‚¹å›¾æ ·å¼ */.banner { position: relative; overflow: hidden; margin: 100px auto; width: 958px; height: 400px;}.banner ul { margin: 0; padding: 0; list-style: none;}.hot { position: absolute; top: 0; left: 0;}.hot li { float: left;}/* å°åœ†ç‚¹æ ·å¼ */.dot { position: absolute; bottom: 10px; width: 100%; text-align: center; font-size: 0;}.dot li { display: block; display: inline-block; margin: 0 5px; width: 15px; height: 15px; border-radius: 100%; background: rgba(145, 144, 144, 0.5); cursor: pointer;}.dot .on { background-color: #fff;}/* å·¦å³ç¿»é¡µç®­å¤´æ ·å¼ */.arrow { display: none;}.arrow span { display: block; width: 50px; height: 100px; background: rgba(0, 0, 0, 0.6); color: #fff; text-align: center; font-size: 40px; line-height: 100px; cursor: pointer;}.arrow .prev { position: absolute; top: 50%; left: 0; margin-top: -50px;}.arrow .next { position: absolute; top: 50%; right: 0; margin-top: -50px;} DOM 1234567891011121314151617181920212223242526272829303132&lt;div class=&quot;banner&quot;&gt; &lt;ul class=&quot;hot&quot;&gt; &lt;!--è½®æ’­å›¾ç‰‡--&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/1.jpg&quot; /&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/2.jpg&quot; /&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/3.jpg&quot; /&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/4.jpg&quot; /&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;images/5.jpg&quot; /&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;!--å°åœ†ç‚¹--&gt; &lt;ul class=&quot;dot&quot;&gt; &lt;li class=&quot;on&quot;&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt; &lt;!-- å·¦å³ç¿»é¡µç®­å¤´--&gt; &lt;div class=&quot;arrow&quot;&gt; &lt;span class=&quot;prev&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;next&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/div&gt;&lt;/div&gt; JavaScript 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980$(function () { var i = 0; // å½“å‰æ˜¾ç¤ºçš„å›¾ç‰‡ç´¢å¼• var timer = null; // å®šæ—¶å™¨ var delay = 1000; // å›¾ç‰‡è‡ªåŠ¨åˆ‡æ¢çš„é—´éš”æ—¶é—´ var width = 958; // æ¯å¼ å›¾ç‰‡çš„å®½åº¦ var speed = 400; // åŠ¨ç”»æ—¶é—´ // å¤åˆ¶åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå›¾ç‰‡ï¼Œè¿½åŠ åˆ°åˆ—è¡¨æœ€åï¼Œè®¾ç½®ulçš„å®½åº¦ä¸ºå›¾ç‰‡å¼ æ•° * å›¾ç‰‡å®½åº¦ var firstimg = $(&quot;.hot li&quot;).first().clone(); $(&quot;.hot&quot;) .append(firstimg) .width($(&quot;.hot li&quot;).length * width); // 1. è®¾ç½®å‘¨æœŸè®¡æ—¶å™¨ï¼Œå®ç°å›¾ç‰‡è‡ªåŠ¨åˆ‡æ¢ timer = setInterval(imgChange, delay); // 2. é¼ æ ‡ç§»å…¥ï¼Œæš‚åœè‡ªåŠ¨æ’­æ”¾ï¼Œç§»å‡ºï¼Œå¼€å§‹è‡ªåŠ¨æ’­æ”¾ $(&quot;.banner&quot;).hover( function () { clearInterval(timer); }, function () { timer = setInterval(imgChange, delay); } ); // 3. é¼ æ ‡åˆ’å…¥åœ†ç‚¹ $(&quot;.dot li&quot;).mouseover(function () { i = $(this).index(); $(&quot;.hot&quot;) .stop() .animate({ left: -i * width }, 200); dotChange(); }); // 4. è®¾ç½®å·¦å³åˆ‡æ¢çš„ç®­å¤´æ˜¾ç¤ºå’Œéšè— $(&quot;.banner&quot;).hover( function () { $(&quot;.arrow&quot;).show(); }, function () { $(&quot;.arrow&quot;).hide(); } ); // 5. å‘å³ç®­å¤´ $(&quot;.next&quot;).click(function () { imgChange(); }); // 6. å‘å·¦ç®­å¤´ $(&quot;.prev&quot;).click(function () { --i; if (i == -1) { i = $(&quot;.hot li&quot;).length - 2; $(&quot;.hot&quot;).css({ left: -($(&quot;.hot li&quot;).length - 1) * width }); } $(&quot;.hot&quot;) .stop() .animate({ left: -i * width }, speed); dotChange(); }); // è‡ªåŠ¨åˆ‡æ¢å›¾ç‰‡ function imgChange() { ++i; isCrack(); dotChange(); } // æ— ç¼è½®æ’­ function isCrack() { if (i == $(&quot;.hot li&quot;).length) { i = 1; $(&quot;.hot&quot;).css({ left: 0 }); } $(&quot;.hot&quot;) .stop() .animate({ left: -i * width }, speed); } // è‡ªåŠ¨åˆ‡æ¢å¯¹åº”çš„åœ†ç‚¹ function dotChange() { if (i == $(&quot;.hot li&quot;).length - 1) { $(&quot;.dot li&quot;).eq(0).addClass(&quot;on&quot;).siblings().removeClass(&quot;on&quot;); } else { $(&quot;.dot li&quot;).eq(i).addClass(&quot;on&quot;).siblings().removeClass(&quot;on&quot;); } }});","link":"/2021/03/09/jQuery%E5%9F%BA%E6%9C%AC%E5%86%85%E5%AE%B9/"},{"title":"gitåŸºç¡€ä½¿ç”¨æµç¨‹","text":"ç®€å•è®°å½•gitå’Œgithubçš„ä½¿ç”¨ æ“ä½œç³»ç»Ÿï¼šWindows å®‰è£…å’Œé…ç½®å®‰è£…ğŸ‘‰ Gitä¸‹è½½åœ°å€ ä¸‹è½½åå®‰è£…çš„æ—¶å€™ä¸€ç›´ç‚¹ä¸‹ä¸€æ­¥å°±è¡Œ å®‰è£…æˆåŠŸåå¯ä»¥å¾—åˆ°3ä¸ªä¸œè¥¿ï¼šgit bashã€git cmdã€git guiã€‚ git bash å’Œ git cmd åœ¨åŸºæœ¬ä¸Šæ˜¯æ²¡ä»€ä¹ˆåŒºåˆ«çš„ï¼Œæ·±å…¥çš„ç°åœ¨å…ˆä¸ç®¡ã€‚git gui å°±æ˜¯å›¾å½¢ç•Œé¢ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å‘½ä»¤è¡Œæ¨¡å¼å°±è¡Œäº†ã€‚ é…ç½®é…ç½®æäº¤äººçš„åå­— 1git config --global user.name ä½ çš„åå­— é…ç½®æäº¤äººçš„é‚®ç®± 1git config --global user.email ä½ çš„é‚®ç®± æŸ¥çœ‹ç°æœ‰çš„é…ç½®ä¿¡æ¯ 1git config --list å¦‚æœè¦é‡æ–°é…ç½®è¿™äº›ä¿¡æ¯ï¼Œé‡å†™å°±è¡Œã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶é…ç½®ï¼Œåœ¨å½“å‰ç”¨æˆ·ç›®å½•ä¸‹çš„ .gitconfig æ–‡ä»¶ä¸­ã€‚ ä½¿ç”¨ä»‹ç»æœ¬åœ°gitä»“åº“çš„åŸºæœ¬ä½¿ç”¨å’Œè¿œç¨‹ä»“åº“githubçš„åŸºæœ¬ä½¿ç”¨ gitä½¿ç”¨åœ¨å‘½ä»¤è¡Œä¸­æ“ä½œï¼Œgit bashã€git cmdã€cmdã€powershell éšä¾¿å“ªä¸ªéƒ½è¡Œ åŸºæœ¬å·¥ä½œæµç¨‹ git initï¼šåˆå§‹åŒ– git ä»“åº“ git statusï¼šæŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ï¼ˆè¢«gitç®¡ç†çš„æ–‡ä»¶å’Œæ²¡è¢«gitç®¡ç†çš„æ–‡ä»¶ï¼‰ git add æ–‡ä»¶ï¼šå°†æ–‡ä»¶äº¤ç»™gitç®¡ç†ï¼ˆä¸€èˆ¬ç›´æ¥git add .ï¼ŒæŠŠæ•´ä¸ªç›®å½•ç®¡ç†ï¼‰ git commit -m &quot;è¦å†™çš„å¤‡æ³¨ä¿¡æ¯&quot;ï¼šå‘ä»“åº“æäº¤å†…å®¹ï¼Œ-mæ˜¯messagesçš„ç¼©å†™ git logï¼šæŸ¥çœ‹æäº¤è®°å½• å›¾ç‰‡è¿‡ç¨‹ æ’¤é”€ä½¿ç”¨ git commit æäº¤çš„æ—¶å€™é™¤äº†æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œè¿˜ä¼šå­˜åœ¨æš‚å­˜åŒº ä¸­ã€‚ ç”¨æš‚å­˜åŒºçš„æ–‡ä»¶è¦†ç›–æœ¬åœ°å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ 1git checkout æ–‡ä»¶ å°†æ–‡ä»¶ä»æš‚å­˜åŒºä¸­åˆ é™¤ï¼ˆä¸ä¼šåˆ é™¤å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ï¼‰ 1git rm --cached æ–‡ä»¶ å°†ä»“åº“ä¸­æŒ‡å®šçš„è®°å½•æ¢å¤å‡ºæ¥ï¼ˆè¿™ä¸ªIDå¯ä»¥ä½¿ç”¨git logæŸ¥çœ‹ï¼‰ 1git rest --hard commitID ä½¿ç”¨æƒ…å†µï¼š æœ‰ A â†’ B â†’ C â†’ D å››ä¸ªè®°å½•ï¼Œå½“å‰å·¥ä½œç›®å½•å‡ºç°äº†é—®é¢˜ï¼Œæƒ³å›åˆ° Bï¼Œåœ¨å›åˆ° B çš„æ—¶å€™ï¼Œå·¥ä½œç›®å½•æ”¹å˜ï¼ŒCã€D è®°å½•ä¹Ÿä¼šè¢«åˆ é™¤ åˆ†æ”¯æ„æ€å°±æ˜¯å¯ä»¥åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯ä¸Šå¼€å‘æ–°çš„åŠŸèƒ½ï¼Œå¦å¤–åˆ†æ”¯åšå…¶ä»–äº‹æƒ… ğŸ‘‰ æ¯”å¦‚ï¼š ä¸»åˆ†æ”¯ï¼ˆmasterï¼‰ï¼šç¬¬ä¸€æ¬¡æäº¤æ—¶è‡ªåŠ¨åˆ›å»ºçš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šåœ¨ä¸»åˆ†æ”¯ä¸Šç›´æ¥è¿›è¡Œå¼€å‘ å¼€å‘åˆ†æ”¯ï¼šä»ä¸»åˆ†æ”¯ä¸­åˆ†å‡ºï¼Œç”¨äºå¼€å‘ï¼Œåœ¨å¼€å‘å®Œæˆä¹‹åå†å¹¶å…¥ä¸»åˆ†æ”¯ åŠŸèƒ½åˆ†æ”¯ï¼šåŸºäºå¼€å‘åˆ†æ”¯ä¸­åˆ†å‡ºï¼Œå¦‚å¼€å‘ä¸€ä¸ªç‹¬ç«‹åŠŸèƒ½ï¼ŒåŠŸèƒ½å¼€å‘å®Œä¹‹åå†å¹¶å…¥å¼€å‘åˆ†æ”¯ï¼Œç„¶ååˆ æ‰è¿™ä¸ªåŠŸèƒ½åˆ†æ”¯ä»¥ä¿æŒè¿™ä¸ªåˆ†æ”¯çš„å¹²å‡€ bugåˆ†æ”¯ç­‰ç­‰å®ç°å…¶ä»–åŠŸèƒ½çš„åˆ†æ”¯ git branchï¼šæŸ¥çœ‹åˆ†æ”¯ï¼ˆåœ¨åˆ†æ”¯åç§°å‰é¢æœ‰*ï¼Œä»£è¡¨å½“å‰é€‰ä¸­çš„åˆ†æ”¯ï¼‰ git branch åˆ†æ”¯åï¼šåˆ›å»ºåˆ†åŒºã€‚åœ¨å“ªä¸ªåˆ†æ”¯ä¸­æ“ä½œï¼Œå°±æ˜¯åŸºäºå“ªä¸ªåˆ†æ”¯åˆ›å»ºã€‚ git checkout åˆ†æ”¯åï¼šåˆ‡æ¢åˆ†æ”¯ git merge æ¥æºåˆ†æ”¯ï¼šåˆå¹¶åˆ†åŒºã€‚å¦‚ï¼šå°†å¼€å‘åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼Œè¦å…ˆå°†å½“å‰åˆ†æ”¯åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼Œå› ä¸ºè¢«åˆå¹¶çš„æ˜¯å¼€å‘åˆ†æ”¯ git branch -d åˆ†æ”¯åç§°ï¼šåˆ é™¤åˆ†æ”¯ã€‚åˆ†æ”¯æ²¡æœ‰è¢«åˆå¹¶ä¹‹å‰æ˜¯ä¸ä¼šè¢«åˆ é™¤çš„ï¼Œå¦‚æœæƒ³å¼ºåˆ¶åˆ é™¤ï¼Œå°†-dæ”¹ä¸º-Dã€‚åœ¨å½“å‰åˆ†æ”¯åˆ é™¤å½“å‰åˆ†æ”¯ä¹Ÿæ˜¯ä¸è¡Œçš„ æš‚æ—¶ä¿å­˜ä¿®æ”¹å‡ºç°æƒ…å†µï¼šå½“å‰å·¥ä½œè¿˜æ²¡å®Œæˆï¼Œä¸´æ—¶æœ‰å…¶ä»–å·¥ä½œè¦åšï¼Œä½†æ˜¯åˆè¿˜ä¸æƒ³ä½¿ç”¨git commitæäº¤ï¼Œåˆ†æ”¯åœ¨æ²¡commitä¹‹å‰æ˜¯ä¸å¯åˆ‡æ¢çš„ã€‚å¯ä»¥ä½¿ç”¨ä¸´æ—¶ä¿å­˜ï¼ˆåˆ†æ”¯ä¸´æ—¶åˆ‡æ¢ï¼‰ git stashï¼šå­˜å‚¨ä¸´æ—¶æ”¹åŠ¨ git stash popï¼šæ¢å¤æ”¹åŠ¨ è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯ç‹¬ç«‹äºåˆ†æ”¯çš„ï¼Œåœ¨å…¶ä»–åˆ†æ”¯ä¸Šæ‰§è¡Œä¹Ÿä¼šäº§ç”Ÿç»“æœï¼Œæ‰€ä»¥è¦æ³¨æ„å½“å‰åˆ†æ”¯ã€‚ githubä½¿ç”¨å¤šäººå·¥ä½œçš„æµç¨‹ å°æ˜åœ¨æœ¬åœ°åˆ›å»ºä»“åº“ï¼Œç„¶åpushåˆ°è¿œç¨‹ä»“åº“ å°æç­‰å…¶ä»–äººï¼Œå°†è¿œç¨‹çš„ä»£ç cloneä¸‹æ¥ï¼ˆè¿™äº›äººä¸éœ€è¦åˆ›å»ºæœ¬åœ°ä»“åº“ï¼‰ å°æç­‰äººå®Œæˆå·¥ä½œåï¼Œå°†ä»£ç pushä¸Šè¿œç¨‹ä»“åº“ å°æ˜å°†è¿œç¨‹ä»£ç pullå›æ¥ï¼Œå°±å¾—åˆ°æ¥å°æç­‰äººåˆä½œå†™å¥½çš„ä»£ç  é¦–æ¬¡è¿æ¥githubğŸ‘‰githubå®˜ç½‘ ç™»å½•ä¹‹åï¼Œç‚¹å‡»å³ä¸Šè§’çš„â•ï¼Œç‚¹new repositoryæ–°å»ºä¸€ä¸ªä»“åº“ å¡«ä¸Šä»“åº“çš„åå­—ï¼Œç‚¹å‡»å…¬å¼€ï¼ˆpublicï¼‰æˆ–è€…ä¸å…¬å¼€ï¼ˆprivateï¼‰éƒ½è¡Œï¼Œå…¶ä»–çš„é€‰é¡¹å¯ä»¥å…ˆä¸è¦ç®¡ã€‚ç‚¹å‡»ç»¿è‰²æŒ‰é’®ï¼ˆcreate repositoryï¼‰å³å¯åˆ›å»º è¿›å…¥é‡Œé¢åæœ‰æ•™ä½ æ“ä½œçš„æç¤ºï¼Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚è¿™é‡Œå·²ç»æœ‰äº†æœ¬åœ°ä»“åº“ï¼Œæ‰€ä»¥æŒ‰ç…§ç¬¬äºŒç§æ“ä½œå°±è¡Œ å¤åˆ¶ä»“åº“çš„ HTTPS æˆ–è€… SSH é“¾æ¥ (è¿™é‡Œä»¥ä¸Šé¢çš„é“¾æ¥ä¸ºä¾‹)ï¼Œåœ¨åˆšæ‰æ“ä½œgitçš„ç›®å½•ä¸­ 1git remote add origin https://github.com/dsjerry/testGitHub.git 1git branch -M main 1git push -u origin main originï¼šç”¨äºä»£æ›¿è¿™ä¸€é•¿ä¸²httpsæˆ–sshçš„åˆ«å -Mï¼šä¿®æ”¹åˆ†æ”¯çš„åå­—ã€‚ï¼ˆgitè‡ªåŠ¨ç”Ÿæˆçš„æ˜¯masteråˆ†æ”¯ï¼Œä¸è¿‡ä¼ åˆ°githubçš„æ—¶å€™ï¼Œgithubæ¨èçš„æ˜¯å°†masteræ”¹ä¸ºmainï¼‰å› æ­¤ä¸æ˜¯å¿…é¡»çš„ã€‚ ç¬¬ä¸€æ¬¡è¦è¿™ä¹ˆé•¿ï¼Œä»¥åç›´æ¥ git push å°±è¡Œã€‚ ä»¥ä¸Šæ“ä½œå°±å¯ä»¥å®ç°è¿æ¥è¿œç¨‹çš„ä»“åº“ï¼Œè¿æ¥çš„æ“ä½œå·²ç»å®Œæˆäº† å…¶å®ç¬¬ä¸€æ¡å‘½ä»¤å¯ä»¥è¯´æ˜¯å¤åˆå‘½ä»¤ï¼Œä¸‹é¢åˆ†è§£å…·ä½“æ­¥éª¤ï¼Œå½“ç„¶ç°å®ä¸­å°±éšä¾¿æ€ä¹ˆé€‰éƒ½è¡Œï¼Œå¦‚æœä½ ä¸æƒ³äº†è§£ï¼Œç›´æ¥è·³è¿‡å°±è¡Œ å›åˆ°å¼€å§‹çš„è¯ é¦–å…ˆ 1git push https://github.com/dsjerry/testGitHub.git master åæ¥å› ä¸ºè¿™ä¸²HTTPSæˆ–è€…SSHæ˜¯åœ¨å¤ªé•¿ï¼Œæ‰€ä»¥è¦ç»™è¿™ä¸²ä¸œè¥¿å–ä¸ªåˆ«åï¼ˆoriginå°±æ˜¯åˆ«åï¼‰ 1git remote add origin https://github.com/dsjerry/testGitHub.git ä»¥åä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å°±è¡Œã€‚ 1git push origin master ç¬¬ä¸€æ¬¡æäº¤è¦å¡«å¯†ç ï¼Œä»¥åå°±ä¸ç”¨äº†ã€‚å¯†ç åœ¨è¿™é‡Œçœ‹å¾—åˆ°ï¼šæ§åˆ¶é¢æ¿ â†’ å‡­æ®ç®¡ç†å™¨ â†’ Windowså‡­æ® ä½¿ç”¨-uè®°ä½ä»“åº“åœ°å€ã€åˆ«åå’Œåˆ†æ”¯ 1git push -u origin master ä»¥åç›´æ¥ä½¿ç”¨git pushå°±è¡Œ 1git push è¿™å°±æ˜¯åˆ†è§£çš„æ­¥éª¤ã€‚ å…‹éš† æ¨é€ æ‹‰å–å…‹éš†(clone)å…‹éš†ï¼ˆcloneï¼‰åˆ°æœ¬åœ°ï¼ˆå°æå…‹éš†å°æ˜çš„ï¼Œåˆ«åä¹Ÿä¼šä¸€èµ·å…‹éš†ï¼‰ 1git clone https://github.com/dsjerry/testGitHub.git æ¨é€(push)å°æå°†æœ¬åœ°ä»£ç æ¨é€ï¼ˆpushï¼‰åˆ°å°æ˜çš„è¿œç¨‹ä»“åº“ã€‚åœ¨æ¨é€å‰ï¼Œå°æç­‰äººæ˜¯æ²¡æœ‰æƒé™æ¨é€åˆ°å°æ˜çš„ä»“åº“çš„ã€‚éœ€è¦å°æ˜é‚€è¯·å°æã€‚ æ‰“å¼€å½“å‰githubä»“åº“é¡µé¢ï¼Œæ‰¾åˆ°settingsï¼Œé€‰ä¸­Manage accessï¼Œç‚¹å‡»Invite a collaboratorç„¶åæŠŠå°æçš„githubè´¦å·æ·»åŠ ä¸Šå»å°±è¡Œ å°æåœ¨æ¥æ”¶åˆ°é‚€è¯·é‚®ä»¶åï¼ŒåŒæ„é‚€è¯·å°±è¡Œäº†ã€‚ æ‹‰å–(pull)ç»è¿‡ä¸€è½®å¼€å‘åï¼Œå°æ˜å°±å¯ä»¥æŠŠå¤§å®¶çš„æˆæœæ‹‰å»åˆ°è‡ªå·±æœ¬åœ°å•¦ 1git pull https://github.com/dsjerry/testGitHub.git master æ‹‰å–å±äºè¯» æ“ä½œï¼Œä¸éœ€è¦å¯†ç éªŒè¯ å¯èƒ½çš„å†²çªä¸¤ä¸ªäººä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶æ—¶å¯èƒ½ä¼šé‡åˆ°å†²çªï¼Œå°æ˜å‘äº†æ–°çš„ç‰ˆæœ¬ï¼Œå°æçš„æ—§ç‰ˆæœ¬æ¨ä¸ä¸Šã€‚ å°æå¯ä»¥å…ˆæŠŠå°æ˜çš„æ–°ç‰ˆ pull ä¸‹æ¥ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­ä¼šæœ‰ &lt;&lt;&lt;......&gt;&gt;&gt;è¿™æ ·å‡ºç°ï¼ŒæŒ‡å‡ºäº†å†²çªçš„åœ°æ–¹ï¼Œç„¶åä»¥ =====å°†ä¸åŒçš„å†²çªåˆ†éš”å¼€ Forkå³ä½¿ä¸æ˜¯æœ¬åœ°æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åƒä»“åº“æäº¤ä»£ç ï¼Œå‰ææ˜¯è¿™äº›ä»£ç è¦ç»è¿‡å®¡æ ¸æ‰èƒ½å¹¶å…¥ä¸»è¦ä»£ç ã€‚ æ“ä½œæ–¹æ³• è®¿é—®åˆ«äººçš„ä»“åº“ï¼Œç„¶åç‚¹å‡»Forkï¼Œç›¸å½“äºå¤åˆ¶åˆ«äººçš„ï¼›ç„¶åcloneåˆ°æœ¬åœ°ä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆåpushä¸Šå» å¯¹äºä»“åº“çš„ç®¡ç†äººå‘˜ï¼Œè¦æ¥å—å¤–æ¥çš„æ¨é€ï¼Œåœ¨ä»“åº“é¡µé¢ä¸­ç‚¹Pull request â†’ New pull request â†’ Create pull request éšåï¼Œç‚¹å‡»commitsï¼Œä¼šçœ‹åˆ°ä¿®æ”¹çš„å†…å®¹ï¼Œç‚¹file changedå¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶çš„æ”¹å˜ã€‚ä»“åº“çš„ç®¡ç†äººå‘˜ç‚¹å‡»comfirm mergeå°±å¯ä»¥æ¥å—åˆå¹¶ã€‚ SSHå…ç™»é™†é€šè¿‡æœ¬æœºçš„ç§é’¥å’ŒæœåŠ¡å™¨ç«¯çš„å…¬é’¥è¿›è¡Œè¿æ¥è®¤è¯ï¼Œè®¤è¯é€šè¿‡ä¹‹åå°±è¡Œ ç”Ÿæˆç§é’¥ è¾“å…¥å‘½ä»¤ï¼Œç„¶åä¸€ç›´å›è½¦ã€‚ç”Ÿæˆçš„æ–‡ä»¶ä¼šåœ¨ç³»ç»Ÿç›®å½•ä¸‹çš„ç”¨æˆ·ç›®å½•ä¸‹çš„ .ssh æ–‡ä»¶ 1ssh-keygen id_rsaï¼šç§é’¥ï¼Œå­˜åœ¨æœ¬åœ°çš„ id_rsa.pubï¼šå…¬é’¥ï¼Œæ”¾åœ¨githubä¸Šçš„ è®¾ç½®å…¬é’¥ï¼Œåœ¨githubé¡µé¢ï¼Œç‚¹å‡»è‡ªå·±çš„å¤´åƒï¼Œç‚¹ settings â†’ SSH and GPG keysï¼Œé€‰ä¸­ New SSH keyæ·»åŠ è‡ªå·±çš„å…¬é’¥ ä»¥åå†ä½¿ç”¨ git pushçš„æ—¶å€™ï¼Œä½¿ç”¨ SSH é“¾æ¥çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨è¾“å…¥å¯†ç  gitæ–‡ä»¶å¿½ç•¥æœ‰äº›æ–‡ä»¶æ˜¯ä¸éœ€è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„ï¼Œæ¯”å¦‚é€šè¿‡NPMä¸‹è½½çš„åŒ…ï¼Œåªè¦ä¿å­˜package.jsonæ–‡ä»¶å°±è¡Œ åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ .gitignoreï¼Œä¸æƒ³è¦ä¼ ä»€ä¹ˆå†…å®¹ï¼Œç›´æ¥å¸è½½è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼ˆä¸€é¡¹å ä¸€è¡Œï¼‰ï¼Œå¦‚ï¼š 123node_modulesimagetest.html â€‹","link":"/2021/04/21/git%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B/"},{"title":"pythonçˆ¬è™«åŸºç¡€","text":"çˆ¬è™«ï¼šæ¨¡æ‹Ÿå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼Œå‘é€ç½‘ç»œè¯·æ±‚ å…¥é—¨é˜¶æ®µï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ·±ç©¶ã€æ¢ç´¢ å‰æè¦çŸ¥é“ url = è¯·æ±‚åè®® + ç½‘ç«™çš„åŸŸå + èµ„æºçš„è·¯å¾„ + å‚æ•° æµè§ˆå™¨è¯·æ±‚çš„ url åœ°å€ï¼Œæ‹¿åˆ°çš„ response é‡Œé¢æœ‰ä¸€äº› jsã€cssã€html ç­‰å†…å®¹ã€‚ä¹Ÿå°±æ˜¯æ‰€ä¸€æ¡ url è¯·æ±‚è¿”å›çš„ä¸œè¥¿æœ‰å¾ˆå¤š æµè§ˆå™¨ä¸­ element ä¸­çš„å†…å®¹å’Œçˆ¬è™«ä¸­è·å¾—çš„ url åœ°å€å“åº”ä¸åŒï¼Œæ‰€ä»¥éœ€è¦ä»¥å½“å‰çš„ url åœ°å€å¯¹åº”çš„å“åº”ä¸ºå‡†ã€‚åœ¨ network ä¸­å¯ä»¥æ‰¾åˆ°ï¼Œç‚¹å‡»é‡Œé¢çš„ responseï¼ˆé¡µé¢ä¸Šç‚¹å‡»å³é”®æ˜¾ç¤ºç½‘é¡µæºç  httpï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚ä»¥æ˜æ–‡çš„å½¢å¼ä¼ è¾“ï¼Œæ•ˆç‡é«˜ä½†æ˜¯ä¸å®‰å…¨ httpsï¼šhttp + sslï¼ˆå®‰å…¨å¥—æ¥å­—å±‚ ä¼ è¾“ä¹‹å‰æ•°æ®åŠ å¯†ï¼Œåæ¥å†é€šè¿‡è§£å¯†è·å–å†…å®¹ã€‚æ•ˆç‡ä½ä½†æ˜¯å®‰å…¨ å‰æçŸ¥è¯†http åè®® - è¯·æ±‚ è¯·æ±‚è¡Œï¼šæµè§ˆå™¨ä¸­å¯ä»¥æ‰¾åˆ°çš„é‚£ä¸ª request è¯·æ±‚å¤´ user-agentï¼šç”¨æˆ·ä»£ç†ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªçŸ¥é“åœ¨è¯·æ±‚èµ„æºçš„æ˜¯ä»€ä¹ˆè®¾å¤‡ã€å¹³å°ã€æµè§ˆå™¨ å¦‚æœæ˜¯æ¨¡æ‹Ÿæ‰‹æœºæ¥è¯·æ±‚æœåŠ¡å™¨ï¼Œå°±å¾—ä½¿ç”¨æ‰‹æœºçš„ user-agent cookieï¼šç”¨æ¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼ ç»™æœåŠ¡å™¨ ä¸€èˆ¬åœ¨é¢å¯¹è¦ç™»å½•çš„é¡µé¢çš„æ—¶å€™ä¼šä½¿ç”¨åˆ° cookie è¿™æ ·å°±åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æµè§ˆå™¨çŸ¥é“æ˜¯åœ¨çˆ¬è™« è¯·æ±‚ä½“ï¼šget è¯·æ±‚æ²¡æœ‰ï¼Œpost è¯·æ±‚æœ‰ å°±æ˜¯æºå¸¦æ•°æ®çš„ï¼Œget è¯·æ±‚çš„æ•°æ®åœ¨ url ä¸Šï¼Œpost çš„æ•°æ®åœ¨è¯·æ±‚ä½“é‡Œ post èƒ½æºå¸¦çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œt ä¸€èˆ¬ç”¨äºç™»å½•æ³¨å†Œã€ç”¨äºä¼ è¾“å¤§æ–‡æœ¬çš„æ—¶å€™ http å“åº” å“åº”å¤´ï¼šset-cookieï¼Œå¯¹æ–¹æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå­—æ®µè®¾ç½® cookie åˆ°æœ¬åœ° ç­‰å·å‰çš„æ˜¯ cookie çš„ name ï¼Œåçš„æ˜¯ cookie çš„ _value_ï¼Œåˆ†å·ç­‰é¢æ¯ä¸€æ¡ cookie å“åº”ä½“ï¼šurl åœ°å€å¯¹åº”çš„å“åº” requestspython çˆ¬è™«çš„å…³é”®æ‰€åœ¨ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—ã€‚ å®‰è£…ï¼š 1$ pip install requests ä½¿ç”¨ï¼šç›´æ¥å¼•å…¥ 1import requests å‘é€ get_ã€_post è¯·æ±‚ response = requests.get( url ) response = requests.post( url, data={ è¯·æ±‚ä½“çš„å­—å…¸ } ) 1234567891011url = &quot;xxxxx&quot;query_string = { &quot;xxx&quot;: &quot;zzz&quot;, &quot;hhh&quot;: &quot;sss&quot;}headers = { &quot;user-agent&quot;: &quot;qweasdzxc&quot;, &quot;cookie&quot;: &quot;ahhxixilala&quot;}response = requests.post(url, data=quert_string, headers=headers)print(response.content.decode()) é™¤äº†ä½¿ç”¨ cookie æ¥è®°å½•ç”¨æˆ·ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ session æ¥è®°å½•ç”¨æˆ· responseçš„æ–¹æ³• response.text()ï¼šè¿™ä¸ªæ–¹æ³•å¦‚æœå‡ºç°ä¹±ç ï¼Œå°±ä½¿ç”¨ response.encoding=&quot;utf-8&quot; 12345# è·å–ç½‘é¡µçš„htmlå­—ç¬¦ä¸²response = requests.get(url)# è¿”å›çš„æ˜¯éšæœºçš„ç¼–ç ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç›´æ¥ .text å¯ä»¥å¾—åˆ°ï¼Œå¦‚æœä¸è¡Œï¼Œå°±åŠ ä¸Šè¿™ä¸ªç¼–ç response.encoding = &quot;utf-8&quot;print(response.text) response.content.decode()ï¼šæŠŠå“åº”çš„äºŒè¿›åˆ¶å­—èŠ‚æµè½¬åŒ–ä¸º str ç±»å‹ response.request.urlï¼šå‘é€è¯·æ±‚çš„ ur l åœ°å€ response.urlï¼šresponse å“åº”çš„ url åœ°å€ response.request.headersï¼šè¯·æ±‚å¤´ response.headersï¼šå“åº”è¯·æ±‚ è·å–æºç çš„æ–¹å¼ï¼ˆè¿™ä¸‰ç§æ–¹å¼ä¸€å®šèƒ½è·å¾—ç½‘é¡µæ­£ç¡®è§£ç åçš„å­—ç¬¦ä¸²ï¼‰ response.content.decode() response.content.decode(â€œgbkâ€) response.text requests.sessionè¿™é‡Œæ˜¯ä½¿ç”¨äº† session æ¥ä»£æ›¿äº† cookie å®ä¾‹åŒ– session 1session = requests.session() ä¾‹å­ 123456789101112131415# ä½¿ç”¨ session å‘é€ post è¯·æ±‚ï¼Œè·å–æœåŠ¡å™¨åœ¨æœ¬åœ°ä¿å­˜çš„ cookieï¼Œæ¯”å¦‚ç™»å½•post_url = &quot;xxxssswww&quot;headers = { &quot;user-agent&quot;: &quot;zxcasdqwe&quot;}post_data = {&quot;username&quot;: &quot;jerry&quot;, &quot;password&quot;: &quot;123456&quot;}session.post(post_url, headers=headers, data=post_data)# å¯å†æ¬¡ä½¿ç”¨sessionï¼Œè¯·æ±‚ç™»å½•ä¹‹åçš„é¡µé¢url = &quot;xxxxxx&quot;response = session.get(url, headers=headers)# å°†å†…å®¹ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶with open(&quot;test.html&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f: f.write(response.content.decode()) æ•°æ®æå–æ–¹æ³•jsonä¸€ç§æ•°æ®äº¤æ¢çš„æ ¼å¼ï¼Œä¸€èˆ¬å§ç½‘é¡µåˆ‡æ¢æˆ æ‰‹æœºç‰ˆ ä¼šè¿”å› json ç±»å‹çš„æ•°æ®ã€‚å¯¼å…¥ï¼šimport jsonï¼Œå†…éƒ¨æ¨¡å—ï¼Œä¸éœ€è¦ä½¿ç”¨ pip ä¸‹è½½ json.load æŠŠ json å­—ç¬¦ä¸²è½¬åŒ–ä¸º python ç±»å‹ json.load(json å­—ç¬¦ä¸²) json.dumps æŠŠ python ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸² json.dumps( { } ) json.dumps( val, ensure_ascii=False, indent=2 ) ensure_ascii=Falseï¼šè®©ä¸­æ–‡æ˜¾ç¤ºæˆä¸­æ–‡ï¼ŒFalse é¦–å­—æ¯è¦å¤§å†™ indentï¼šè®©ä¸‹ä¸€è¡Œåœ¨ä¸Šä¸€è¡Œçš„åŸºç¡€ä¸Šç©ºæ ¼ xpath å’Œ lxmlxpath â€‹ xpath helper ï¼šä¸€æ¬¾æµè§ˆå™¨æ’ä»¶ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨çš„ elementsä¸­å®šä½æ•°æ® ä½¿ç”¨æ–¹æ³•ï¼š /html/head/metaï¼šé€‰ä¸­ html ä¸­ head ä¸‹çš„æ‰€æœ‰ meta æ ‡ç­¾ // ï¼šä»ä»»æ„èŠ‚ç‚¹å¼€å§‹é€‰æ‹© //li ï¼šå½“å‰é¡µé¢ä¸Šçš„æ‰€æœ‰ li æ ‡ç­¾ /html/head//link ï¼šhead ä¸‹çš„æ‰€æœ‰ link æ ‡ç­¾ @ é€‰æ‹©å…·ä½“æŸä¸ªå…ƒç´ ï¼š//div[@class='app']/ul/liï¼ˆé€‰æ‹©äº† class åä¸º app ä¸‹çš„ ul ä¸‹çš„ liï¼‰ @a/@hrefï¼šé€‰æ‹© a æ ‡ç­¾ä¸‹çš„ href å€¼ è·å–æ–‡æœ¬ï¼š /a/text()ï¼šè·å– a ä¸‹é¢çš„æ–‡æœ¬ /a//text()ï¼šè·å– a ä¸‹é¢çš„æ‰€æœ‰æ–‡æœ¬ . ./a ï¼šå½“å‰èŠ‚ç‚¹ä¸‹çš„ a æ ‡ç­¾ lxml å®‰è£…ï¼š$ pip install lxml ä½¿ç”¨ï¼š 123from lxml import etreeelement = etree.HTML(&quot;htmlå­—ç¬¦ä¸²&quot;)element.xpath(&quot;&quot;) ä¾‹å¦‚ 1 12345html_str = response.content.decode()html = etree.HTML(html_str)print(html)img_list = html.xpath(&quot;//div[@class='indent']/div/table//a[@class='nbg']/img/@src&quot;) # è·å–æŸä¸ªé¡µé¢å†…çš„å›¾ç‰‡print(img_list) ä¾‹å¦‚ 2ï¼Œè·å–ç½‘é¡µä¸Šçš„å¤šç§ç±»å‹æ•°æ®(æ¥ä¸Š) 1234567891011ret1 = html.xpath(&quot;//div[@class='indent']/div/table&quot;) # è®¾ç½®å‰ç¼€ï¼Œåé¢çš„ä½¿ç”¨å°±ä¸éœ€è¦é‡æ–°å†™è¿™äº›ç›¸åŒçš„éƒ¨åˆ†print(ret1)for table in ret1: item = {} # èµ·åˆæ˜¯å¾—åˆ°å¾ˆå¤šæ•°æ®ï¼Œåé¢ä½¿ç”¨[0].replace.....è¿‡æ»¤æ•°æ®ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨å…¶ä»–åŠæ³•ï¼Œè¿™é‡Œä½¿ç”¨è¿™ä¸ªç®€å•çš„æ–¹æ³• # [0] æ‰€ç¤ºæŠ•æœºå–å·§ï¼Œä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½èƒ½ç”¨ item[&quot;title&quot;] = table.xpath(&quot;.//div[@class='pl2']/a//text()&quot;)[0].replace(&quot;/&quot;, &quot;&quot;).strip() item[&quot;href&quot;] = table.xpath(&quot;.//div[@class='pl2']/a/@href&quot;)[0] item[&quot;img&quot;] = table.xpath(&quot;.//a[@class='nbg']/img/@src&quot;)[0] item[&quot;comment_num&quot;] = table.xpath(&quot;.//span[@class='pl']/text()&quot;)[0] print(item) strip() æ–¹æ³•ç”¨äºç§»é™¤å­—ç¬¦ä¸²å¤´å°¾æŒ‡å®šçš„å­—ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼æˆ–æ¢è¡Œç¬¦ï¼‰æˆ–å­—ç¬¦åºåˆ— ä¾‹å­å‰æå®‰è£…ï¼šrequestsï¼Œlxml ç½‘é¡µæ•°æ®çš„ç»“æ„å¯èƒ½å·²ç»æ”¹å˜ï¼Œäº†è§£çˆ¬è™«æ€è·¯å°±å¥½äº† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import requestsfrom lxml import etreeimport json'''å…ˆå®šä¹‰å¥½æ€è·¯ï¼Œç„¶åå°†æ€è·¯å˜æˆå…·ä½“çš„å®ç°æ–¹æ³•'''class QiuShi: def __init__(self): self.url_temp = &quot;https://www.qiushibaike.com/text/page/{}/&quot; self.headers = {&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, &quot; &quot;like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot;} def get_url_list(self): url_list = [self.url_temp.format(i) for i in range(1, 14)] return url_list def parse_url(self, url): response = requests.get(url, headers=self.headers) return response.content.decode() def get_content_list(self, html_str): html = etree.HTML(html_str) # 1. åˆ†ç»„ div_list = html.xpath(&quot;//div[@id='content-left']/div&quot;) content_list = [] for div in div_list: item = {} item[&quot;author_name&quot;] = div.xpath(&quot;./h2/text()&quot;)[0] if len(div.xpath(&quot;./h2/text()&quot;) &gt; 0) else None item[&quot;content&quot;] = div.xpath(&quot;.//div[@class='content']/span/text()&quot;) item[&quot;stats_vote&quot;] = div.xpath(&quot;.//span[@class='stats_vote']/i/text()&quot;) item[&quot;stats_vote&quot;] = item[&quot;stats_vote&quot;][0] if len(item[&quot;stats_vote&quot;]) &gt; 0 else None content_list.append(item) return content_list def save_content_list(self, content_list): with open(&quot;qiubai.txt&quot;, &quot;a&quot;, encoding=&quot;utf-8&quot;) as f: for content in content_list: f.write(json.dumps(content, ensure_ascii=False)) f.write(&quot;\\n&quot;) print(&quot;ä¿å­˜æˆåŠŸ&quot;) def run(self): &quot;&quot;&quot;å®ç°ä¸»è¦é€»è¾‘&quot;&quot;&quot; # 1. æ ¹æ®urlçš„è§„å¾‹ï¼Œæ„é€ url list url_list = self.get_url_list() # 2. å‘é€è¯·æ±‚ï¼Œè·å–å“åº” for url in url_list: html_str = self.parse_url(url) # 3. æå–æ•°æ® content_list = self.get_content_list(html_str) # 4. ä¿å­˜ self.save_content_list(content_list)if __name__ == '__main__': qiushi = QiuShi() qiushi.run() å°ç»“ çŸ¥é“è¦çˆ¬å–çš„ url å’Œ url çš„è§„å¾‹ï¼Œæ¯”å¦‚ç¿»é¡µä»€ä¹ˆçš„ã€ ä½¿ç”¨ requests å‘é€è¯·æ±‚ï¼Œè·å–å“åº” æå–æ•°æ® è¿”å› json å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ json æ¨¡å— è¿”å›çš„æ˜¯ html å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ lxml æ¨¡å— æ­é… xpath æå–æ•°æ® ä¿å­˜æ•°æ® åŠ æ²¹ï¼Œè„šè¸å®åœ°ã€‚","link":"/2020/06/30/python%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/"},{"title":"phpçš„å†…ç½®å‡½æ•°","text":"ä½œä¸ºæ¦‚è§ˆã€å‘å¯¼ï¼Œè¯¦ç»†æŸ¥çœ‹PHPæ‰‹å†Œ å­—ç¬¦ä¸²å‡½æ•°ã€æ•°å­¦å‡½æ•°ã€æ—¶é—´æ—¥æœŸå‡½æ•°ã€‚ å­—ç¬¦ä¸²å‡½æ•° å‡½æ•°åç§° åŠŸèƒ½æè¿° strlen() è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ strpos() æŸ¥æ‰¾å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½® strrpos() è·å–æŒ‡å®šå­—ç¬¦ä¸²åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½® str_replace() ç”¨äºå¯¹å­—ç¬¦ä¸²ä¸­çš„æŸäº›å­—ç¬¦è¿›è¡Œæ›¿æ¢æ“ä½œ substr() ç”¨äºè·å–å­—ç¬¦ä¸²ä¸­çš„å­ä¸² explode() ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²å¦ä¸€ä¸ªå­—ç¬¦ä¸² implode() ç”¨æŒ‡å®šçš„è¿æ¥ç¬¦å°†æ•°ç»„æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸² trim() å»é™¤å­—ç¬¦ä¸²é¦–å°¾å¤„çš„ç©ºç™½å­—ç¬¦ï¼ˆæˆ–æŒ‡å®šæˆå…¶ä»–å­—ç¬¦ï¼‰ str_repeat() é‡å¤ä¸€ä¸ªå­—ç¬¦ä¸² strcmp() ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å° æ•°å­¦å‡½æ•° å‡½æ•°å åŠŸèƒ½æè¿° abs() å–ç»å¯¹å€¼ ceil() å‘ä¸Šå–æœ€æ¥è¿‘çš„æ•´æ•° floor() å‘ä¸‹å»æœ€æ¥è¿‘çš„æ•´æ•° fmod() å–é™¤æ³•çš„æµ®ç‚¹æ•°ä½™æ•° is_nan() åˆ¤æ–­æ˜¯å¦ä¸ºåˆæ³•æ•°å€¼ max() å–æœ€å¤§å€¼ min() å–æœ€å°å€¼ pi() å–åœ†å‘¨ç‡çš„å€¼ pow() è®¡ç®— x çš„ y æ¬¡æ–¹ sqrt() å–å¹³æ–¹æ ¹ round() å¯¹æµ®ç‚¹æ•°è¿›è¡Œå››èˆäº”å…¥ rand() ç”Ÿäº§éšæœºæ•° æ—¶é—´æ—¥æœŸå‡½æ•° å‡½æ•°å åŠŸèƒ½æè¿° time() è·å–å½“å‰çš„ UNIX æ—¶é—´æˆ³ date() æ ¼å¼åŒ–ä¸€ä¸ªæœ¬åœ°æ—¶é—´ mktime() è·å–æŒ‡å®šæ—¥æœŸçš„ UNIX æ—¶é—´æˆ³ strotime() å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º UNIX æ—¶é—´æˆ³ microtime() è·å–å½“å‰ UNIX æ—¶é—´æˆ³å’Œå¾®ç§’æ•° UNIX æ—¶é—´æˆ³ï¼šæ˜¯ä¸€ç§æ—¶é—´çš„è¡¨ç¤ºæ–¹å¼ï¼Œå®šä¹‰äº†ä»æ ¼æ—å¨æ²»äº‹ä»¶ 1970 å¹´ 01 æœˆ 01 æ—¥ 00 æ—¶ 00 åˆ† 00 ç§’èµ·è‡³ç°åœ¨çš„æ€»ç§’æ•°ï¼Œä»¥ 32 ä½äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œè¿™ä¸ªäº‹ä»¶ä¹Ÿå« UNIX çºªå…ƒã€‚","link":"/2020/08/22/php%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/"},{"title":"phpå¼€å‘ç¯å¢ƒæ­å»º","text":"åœ¨Windowså¹³å°ä¸Šæ­å»º~~~(^â–½^) å…¶å®åœ¨ä¸‹è½½çš„æ–‡ä»¶ä¸­æ€ä¹ˆé…ç½®ä¸Šé¢éƒ½æœ‰è¯´æ˜ï¼Œåªæ˜¯å…¨æ˜¯é¸¡è‚ çœ‹èµ·æ¥è›‹ç–¼ æ“ä½œç³»ç»Ÿï¼šWindows 10 å®‰è£… ApacheApacheä¸‹è½½åœ°å€ é…ç½®Apacheè§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œæ‰“å¼€Apacheçš„é…ç½®æ–‡ä»¶conf/httpd.conf æ‰¾åˆ°é…ç½®é¡¹Define SRVROOTï¼Œå°†é‡Œé¢çš„è·¯å¾„æ›´æ”¹ä¸ºè‡ªå·±ä¸‹è½½çš„ apache çš„æ ¹ç›®å½• è·¯å¾„è¦ä½¿ç”¨ / è€Œä¸æ˜¯ \\ æ‰¾åˆ° ServerNameï¼Œå»æ‰å‰é¢çš„#ï¼Œè¿™é‡Œé…ç½®è‡ªå·±çš„åŸŸåï¼Œå¦‚æœæ²¡æœ‰åŸŸåï¼Œå°±å†™ä¸ªIPåœ°å€ä¸Šå»ã€‚ ä¾‹å¦‚ï¼šServerName 127.0.0.1:80ï¼Œä¹Ÿå¯ä»¥å†™æˆ localhost:80 å®‰è£… Apacheä»¥ç®¡ç†å‘˜çš„èº«ä»½æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œåˆ‡æ¢åˆ° Apacheç›®å½•ä¸‹çš„ bin ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š å®‰è£…ï¼š 1httpd.exe -k install æç¤ºï¼šè¿™é‡Œå®‰è£…ä¹‹å‰Apacheæ–‡ä»¶å¤¹çš„åå­—å«ä»€ä¹ˆï¼Œå®‰è£…åApacheæœåŠ¡çš„åå­—å°±å«ä»€ä¹ˆ å¸è½½ï¼š 1httpd.exe -k uninstall å¯åŠ¨ApacheæœåŠ¡æœ‰ä¸‰ç§å¯åŠ¨æ–¹å¼ï¼Œé€šè¿‡å‘½ä»¤è¡Œã€é€šè¿‡Apacheè½¯ä»¶å’Œé€šè¿‡ç³»ç»ŸæœåŠ¡ é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨ Apache1234# å¯åŠ¨æœåŠ¡net start Apache# åœæ­¢æœåŠ¡net stop Apache é€šè¿‡è½¯ä»¶å¯åŠ¨ Apacheæ‰“å¼€apacheç›®å½•ä¸‹çš„binç›®å½•ï¼ŒåŒå‡» ApacheMonitor.exe å¯åŠ¨ é€šè¿‡ç³»ç»ŸæœåŠ¡å¯åŠ¨Apacheä»»åŠ¡ç®¡ç† &gt; æœåŠ¡ &gt; æ‰“å¼€æœåŠ¡ &gt; å¯åŠ¨apache å¯åŠ¨å¤±è´¥è¿è¡Œä¹‹åæç¤ºå¤±è´¥æˆ–è€…æµè§ˆå™¨è¾“å…¥localhostæ²¡ååº”ï¼Œå¯èƒ½ç«¯å£å ç”¨é—®é¢˜ åœ¨binç›®å½•ä¸‹è¿è¡Œ 123httpd# æˆ–è€…powershellä¸‹è¿è¡Œ.\\httpd çœ‹çœ‹æç¤ºæ˜¯ä¸æ˜¯ç«¯å£å ç”¨ï¼Œæç¤º80ç«¯å£å ç”¨ï¼Œä¿®æ”¹httpd.confé‡Œé¢çš„Listenï¼›æç¤º443ç«¯å£å ç”¨ï¼Œä¿®æ”¹/extraä¸‹çš„httpd-ssl.confå’Œhttpd-ahssl.confé‡Œé¢çš„Listen è®¿é—®æµ‹è¯•æµè§ˆå™¨è¾“å…¥ï¼šlocalhostï¼Œå¦‚æœçœ‹åˆ°æœ‰é¡µé¢å‡ºç°å°±æ˜¯å®‰è£…æˆåŠŸäº†ã€‚çœ‹åˆ°çš„é¡µé¢æ˜¯/htdocs/index.htmlã€‚ å®‰è£…PHPPHP 7.4 ä¸‹è½½åœ°å€ï¼Œæ‰¾åˆ° Thread Safe ç‰ˆæœ¬ï¼Œä¸‹è½½ zip å‹ç¼©åŒ… åˆ›å»ºé…ç½®æ–‡ä»¶è§£å‹ä¹‹åï¼Œæ‰¾åˆ° php.ini-development æ–‡ä»¶ï¼Œå¤åˆ¶ç²˜è´´ä¸€ä»½ï¼Œç„¶åæ”¹åä¸º php.ini åœ¨Apacheä¸­å¼•å…¥PHPæ¨¡å— æ‰“å¼€Apacheçš„é…ç½®æ–‡ä»¶ httpd.confï¼Œå¼•å…¥ PHP ä¸º Apache æä¾›çš„DLL æ¨¡å— 123456LoadModule php7_module &quot;phpåœ¨ç”µè„‘ä¸­çš„è·¯å¾„/php7apache2_4.dll&quot;&lt;FilesMatch &quot;\\.php$&gt; setHandler application/x-httpd-php&lt;/FilesMatch&gt;PHPIniDir &quot;phpåœ¨ç”µè„‘ä¸­çš„è·¯å¾„/php-7.4.7&quot;LoadFile &quot;phpåœ¨ç”µè„‘ä¸­çš„è·¯å¾„/libssh2.dll&quot; é…ç½® Apache çš„ç´¢å¼•é¡µ è®¿é—® localhost çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—® localhost/index.htmlã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢ DirectoryIndex èµ·åˆçš„æ¨¡æ · 123&lt;IfModule dir_module&gt; DirectoryIndex index.html&lt;/IfModule&gt; åŠ ä¸Šå¦å¤–çš„ index.php 123&lt;IfModule dir_module&gt; DirectoryIndex index.php index.html&lt;/IfModule&gt; è®¿é—®æµ‹è¯•ä¿®æ”¹äº† Apache é…ç½®æ–‡ä»¶åï¼Œè¦é‡æ–°å¯åŠ¨ä¸€ä¸‹ã€‚ åœ¨ Apache çš„ htdoc ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª test.phpï¼Œç¼–è¾‘å†…å®¹ï¼š 123&lt;?php phpinfo();?&gt; é€šè¿‡è®¿é—® localhost/test.phpæµ‹è¯•æ˜¯éƒ½å®‰è£…æˆåŠŸ æ‰“å¼€å¸¸ç”¨æ‰©å±•æ‰“å¼€ php.iniï¼Œæœç´¢ extension_dirï¼Œå¢åŠ ä¸€è¡Œ extension_dir = &quot;phpå®‰è£…çš„ç›®å½•/ext&quot; ä¸€èˆ¬ä¼šå¯ç”¨çš„åŠŸèƒ½ï¼š 123456extension=curlextension=gd2extension=mbstringextension=mysqliextension=opensslextension=pdo_mysql webæœåŠ¡å™¨é…ç½®åœ¨æ¯æ¬¡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹åéƒ½è¦é‡å¯ Apache æ‰ä¼šç”Ÿæ•ˆã€‚å¦‚æœæƒ³æ¢å¤é»˜è®¤ï¼Œåœ¨conf/originalç›®å½•ä¸­è·å– é…ç½®è™šæ‹Ÿä¸»æœºå…¶å®åœ¨çœŸæ­£ä½¿ç”¨çš„æ—¶å€™ï¼Œåœ¨è´­ä¹°åŸŸåå¹³å°ä¸Šçš„æ§åˆ¶å°ä¸­å°±å¯ä»¥å¢åŠ å’Œä¿®æ”¹ dns çš„æ˜ å°„å…³ç³»ã€‚ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä½¿ç”¨Windowsç³»ç»Ÿé…ç½®ï¼Œå¯ä»¥æ›´æ”¹ç³»ç»Ÿçš„ hosts æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨äºé…ç½®åŸŸåå’ŒIPåœ°å€ä¹‹é—´çš„è§£æå…³ç³» é…ç½®åŸŸåç”¨ç®¡ç†å‘˜æ‰“å¼€ C:/Windows/System32/drivers/etc ç›®å½•ä¸‹çš„ hosts æ–‡ä»¶ï¼Œé…ç½®åŸŸåå’ŒIPåœ°å€çš„æ˜ å°„å…³ç³» 12127.0.0.1 php.test127.0.0.1 www.php.test å¯ç”¨è¾…é…ç½®æ–‡ä»¶è¾…é…ç½®æ–‡ä»¶æ˜¯ Apache é…ç½®æ–‡ä»¶ httpd.conf çš„æ‰©å±•æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¸å¯åŠ¨çš„ï¼Œå»æ‰ # å°†å®ƒå¯åŠ¨ 1Include conf/extra/httpd-vhost.conf é…ç½®è™šæ‹Ÿä¸»æœºæ‰“å¼€ httpd-vhost.confæ–‡ä»¶ å°†ä¸‹é¢è¿™ä¸€å—æ³¨é‡Šæ‰ï¼Œä½œä¸ºå‚è€ƒ 12345678#&lt;VirtualHost *:80&gt;# ServerAdmin webmaster@dummy-host.example.com# DocumentRoot &quot;${SRVROOT}/docs/dummy-host.example.com&quot;# ServerName dummy-host.example.com# ServerAlias www.dummy-host.example.com# ErrorLog &quot;logs/dummy-host.example.com-error.log&quot;# CustomLog &quot;logs/dummy-host.example.com-access.log&quot; common#&lt;/VirtualHost&gt; æ–°å¢è™šæ‹Ÿä¸»æœº 1234567891011# ç¬¬ä¸€ä¸ªè™šæ‹Ÿä¸»æœº&lt;VirtualHost *:80&gt; DocumentRoot &quot;D:/web/apache/htdocs&quot; ServerName localhost&lt;/VirtualHost&gt;# ç¬¬äºŒä¸ªè™šæ‹Ÿä¸»æœº&lt;VirtualHost *:80&gt; DocumentRoot &quot;D:/web/www/thinkphp/public&quot; ServerName thinkphp.test ServerAlias www.thinkphp.test&lt;/VirtualHost&gt; ServerAlias å–åˆ«åï¼Œä¸ç®¡è®¿é—®å“ªä¸ªï¼Œéƒ½æ˜¯æŒ‡å‘åŒä¸€ç½‘ç«™ è¿™æ—¶å·²ç»æ˜¯å¯ä»¥è®¿é—®é…ç½®å¥½çš„é¡µé¢äº†ï¼Œè®¿é—® localhost æˆ–è€… thinkphp.test æµ‹è¯•é…ç½® ä¸‹é¢çš„æ˜¯ä¸€äº›è‡ªå®šä¹‰çš„åŠŸèƒ½ [](ï¿£â–½ï¿£)* ï¼Œâœ¿âœ¿ãƒ½(Â°â–½Â°)ãƒâœ¿ï¼Œãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾ï¼Œ(^â–½^)ï¼Œ(^o^)/ï¼ŒThanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰ï¼ŒÙ©(à¹‘&gt;â—¡&lt;à¹‘)Û¶ï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ è®¿é—®æƒé™æ§åˆ¶æ§åˆ¶æœåŠ¡å™¨ä¸­å“ªäº›æ–‡ä»¶å…è®¸è¢«å¤–éƒ¨è®¿é—®ï¼Œåœ¨ httpd.conf ä¸­ï¼Œé»˜è®¤ç«™ç‚¹ç›®å½• htdocs å·²ç»é…ç½®ä¸ºå…è®¸å¤–éƒ¨è®¿é—®ï¼Œå…¶ä»–ç›®å½•è¦æ‰‹åŠ¨é…ç½®ã€‚ä»¥ www.admin.test ä¸ºä¾‹ åœ¨ httpd-vhost.conf æ–‡ä»¶ä¸­ï¼š 123456789&lt;VirtualHost *:80&gt; DocumentRoot &quot;D:/web/www.admin.test&quot; ServerName admin.test`&lt;/VirtualHost&gt;&lt;Directory &quot;D:/web/www.admin.test&quot;&gt; Require local #Require all grantedï¼ˆå……è®¸å±€åŸŸç½‘å†…å…¶ä»–ç”µè„‘è®¿é—®ï¼‰ #Require all deniedï¼ˆä¸å……è®¸å±€åŸŸç½‘å†…å…¶ä»–ç”µè„‘è®¿é—®ï¼‰&lt;/Directory&gt; Require localï¼šåªå…è®¸æœ¬åœ°è®¿é—® Require all grantedï¼šå…è®¸æ‰€æœ‰è®¿é—® Require all deniedï¼šæ‹’ç»æ‰€æœ‰è®¿é—® åˆ†å¸ƒå¼é…ç½®æ–‡ä»¶ä¸ºç›®å½•å•ç‹¬è¿›è¡Œé…ç½®çš„æ–‡ä»¶ï¼Œå¯ä»¥å®ç°åœ¨ä¸ä¸­æœŸæœåŠ¡å™¨çš„å‰æä¸‹æ›´æ”¹æŸä¸ªç›®å½•çš„é…ç½®ï¼Œç¼–è¾‘ httpd-vhost.conf æ–‡ä»¶ 1234&lt;Directory &quot;D:/web/www.admin.test&quot;&gt; Require local AllowOverride All&lt;/Directory&gt; æ·»åŠ  AllowOverride All åï¼Œ Apache å›åˆ°ç«™ç‚¹ä¸‹å„ä¸ªç›®å½•ä¸­è¯»å–åç§°ä¸º â€œ .htaccess â€ çš„åˆ†å¸ƒå¼é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­çš„é…ç½®å°†ä¼šè¦†ç›–åŸæœ‰çš„é…ç½® è¿™å¯èƒ½ä¼šå½±å“æœåŠ¡å™¨è¿è¡Œæ•ˆç‡ï¼Œå¦‚æœæƒ³å…³æ‰ï¼Œæ”¹ä¸º AllowOverride None ç›®å½•æµè§ˆåŠŸèƒ½åœ¨ç›®å½•â€œD:/web/w ww.admin.testâ€ä¸­åˆ›å»ºæ–‡ä»¶ .htaccessï¼Œç¼–å†™é…ç½®ï¼š 123Options Indexes# ä¸æƒ³ä½¿ç”¨çš„è¯Options -Indexes è‡ªå®šä¹‰é”™è¯¯é¡µé¢åœ¨é‡åˆ°é”™è¯¯çš„æ—¶å€™ï¼ŒApacheä¼šä½¿ç”¨ error ç›®å½•ä¸­çš„æ¨¡æ¿æ˜¾ç¤ºä¸€ä¸ªé¡µé¢ï¼Œé€šè¿‡ ErrorDocument æŒ‡ä»¤å¯¹ä¸åŒçš„çŠ¶æ€ç è¿›è¡Œé…ç½® åœ¨ æˆ– .htaccess ä¸­ï¼ŒåŠ å…¥ï¼š 123ErrorDocument 403/403.htmlErrorDocument 404/404.htmlErrorDocument 500/500.html âœ¿âœ¿ãƒ½(Â°â–½Â°)ãƒâœ¿ å¦‚æœæ·±å…¥é…ç½®çš„è¯ï¼Œåé¢è¿˜å¯ä»¥é…ç½® mysql å’Œ thinkPHP äº†è§£ä¸€ä¸‹äº†è§£å‘¨è¾¹å°çŸ¥è¯†ï¼Œæé«˜å­¦ä¹ å…´è¶£~~~å¥¥åˆ©ç»™ï¼ï¼ï¼ å…³äºApacheå› ä¸º Apache HTTP Server Project å®ƒæœ¬èº«ä¸æä¾›å‘è¡Œçš„è½¯ä»¶ä¸‹è½½ï¼Œæä¾›ä¸‹è½½çš„æ¯”å¦‚æœ‰ï¼šApacheHausï¼ŒApache Loungeç­‰ç­‰ã€‚è¿™é‡Œä½¿ç”¨çš„æœåŠ¡å™¨è½¯ä»¶ç®€ç§°æ˜¯ httpdï¼Œæ˜¯å…¶ä¸­çš„ä¸€é¡¹äº§å“ï¼Œåœ¨æµè§ˆå™¨æœç´¢çš„æ—¶å€™æœç´¢apache httpdå°±å¯ä»¥æ‰¾åˆ°ä¸‹è½½çš„åœ°æ–¹äº†ã€‚Apache æ——ä¸‹è¿˜æœ‰åˆ«çš„äº§å“ï¼Œæ¯”å¦‚å’Œ Java æ¯”è¾ƒèˆ¬é…çš„ Tomcatï¼Œä¹Ÿæ˜¯ Apache æ——ä¸‹çš„ã€‚ é…ç½®é¡¹ åœ¨ä¸Šé¢é…ç½®Apacheå¼•å…¥PHPæ–‡ä»¶çš„æ—¶å€™ï¼ŒLoadModule æ˜¯åŠ è½½æ¨¡å—çš„æŒ‡ä»¤ï¼ŒåŠ è½½äº† php7_module æ¨¡å—ï¼Œä¸‹é¢çš„ä»£ç æ—¶å¯¹PHPæ–‡ä»¶çš„è§£æï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… â€œ .php â€œ æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ setHandler æäº¤ç»™PHPå¤„ç†ã€‚PHPIniDir ç”¨äºæŒ‡å®š php.ini æ–‡ä»¶ä¿å­˜çš„ç›®å½• åœ¨ä¸Šé¢çš„è®¾ç½®é»˜è®¤å…¥å£æ–‡ä»¶çš„æ—¶å€™ï¼Œé¦–å…ˆæ£€æµ‹æ˜¯å¦å­˜åœ¨ inidex.phpï¼Œç„¶åå†æ£€æµ‹ index.html é…ç½®è™šæ‹Ÿä¸»æœºç›¸å…³çŸ¥è¯†è™šæ‹Ÿä¸»æœºæ˜¯ Apache æä¾›çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œé€šè¿‡è™šæ‹Ÿä¸»æœºå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²å¤šä¸ªç½‘ç«™ï¼Œè€Œä¸åŒçš„åŸŸåå¯ä»¥è§£æåˆ°åŒä¸€ä¸ªIPåœ°å€ä¸Šã€‚ å› æ­¤ï¼Œå½“ç”¨æˆ·é€šè¿‡ä¸åŒçš„åŸŸåè®¿é—®åŒä¸€å°æœåŠ¡å™¨æ—¶ï¼Œè™šæ‹Ÿä¸»æœºåŠŸèƒ½å°±å¯ä»¥è®©ç”¨æˆ·è®¿é—®åˆ°ä¸åŒçš„ç½‘ç«™ã€‚ ä¼šé‡åˆ°çš„é—®é¢˜ç«¯å£å ç”¨Apache é»˜è®¤ç›‘å¬ 80 ç«¯å£ï¼Œå¦‚æœç«¯å£è¢«å ç”¨ï¼ŒApacheå°†æ— æ³•å¯åŠ¨ã€‚ åœ¨Windowsä¸­å¯ä»¥åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­ä½¿ç”¨net -ano æŸ¥çœ‹å½“å‰çš„ç«¯å£æƒ…å†µ ä½¿ç”¨ tasklist | findstr &quot;PID&quot;å¯ä»¥æŸ¥çœ‹å½“å‰å ç”¨ç«¯å£çš„æ˜¯ä»€ä¹ˆåº”ç”¨ç¨‹åº å®‰è£…å¤šä¸ªApacheApacheå¯ä»¥å¤šä¸ªæœåŠ¡åŒæ—¶è¿›è¡Œå·¥ä½œï¼Œå‰ææ˜¯è¦æœåŠ¡åç§°å’Œç«¯å£å·ä¸å†²çªã€‚åœ¨Apacheé…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°Listenï¼Œå°±å¯ä»¥ä¿®æ”¹ç›‘å¬çš„ç«¯å£ å®‰è£…å¤šä¸ªApacheï¼š 1httpd.exe -k install -n apache2 å¸è½½ 1httpd.exe -k uninstall -n apache2 å…³äºPHPç‰ˆæœ¬PHPé™¤äº†ç‰ˆæœ¬çš„é€‰æ‹©ï¼Œè¿˜æœ‰ä¸€ä¸ªé€‰æ‹©å°±æ˜¯ Thread Safeï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰å’Œ No Thread Safeï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰ PHPå’ŒApacheæ­é…çš„æ—¶å€™ï¼Œé€‰æ‹©Thread Safe é…ç½®php.ini-developmentï¼šå¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ¿ php.ini-productionï¼šç”Ÿäº§æ¨¡å¼ï¼Œé€‚åˆä¸Šçº¿çš„æ—¶å€™ä½¿ç”¨","link":"/2020/07/24/php%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"title":"phpæ•°ç»„çš„å¸¸ç”¨å‡½æ•°","text":"æŒ‡é’ˆæ“ä½œå‡½æ•°æ•°ç»„æŒ‡é’ˆç”¨äºæŒ‡å‘æ•°ç»„ä¸­æŸä¸ªå…ƒç´ ï¼Œé»˜è®¤æƒ…å†µä¸‹æŒ‡å‘æ•°ç»„çš„ç¬¬1ä¸ªå…ƒç´ ã€‚é€šè¿‡ç§»åŠ¨æˆ–æŒ‡é’ˆçš„ä½ç½®ï¼Œå¯ä»¥è®¿é—®æ•°ç»„ä¸­çš„ä»»æ„å…ƒç´  å‡½æ•°åç§° åŠŸèƒ½æè¿° current() è·å–æ•°ç»„ä¸­å½“å‰æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ çš„å€¼ key() è·å–æ•°ç»„ä¸­å½“å‰æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ çš„å€¼ next() å°†æ•°ç»„ä¸­çš„å†…éƒ¨æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€ä½ prev() å°†æ•°ç»„ä¸­çš„å†…éƒ¨æŒ‡é’ˆå€’å›ä¸€ä½ each() è·å–æ•°ç»„ä¸­å½“å‰çš„é”®å€¼å¯¹å¹¶å°†æ•°ç»„æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€æ­¥ end() å°†æ•°ç»„çš„å†…éƒ¨æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´  reset() å°†æ•°ç»„çš„å†…éƒ¨æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´  æ•°ç»„å…ƒç´ æ“ä½œå‡½æ•° å‡½æ•°åç§° åŠŸèƒ½æè¿° aray_pop() å°†æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ å¼¹å‡ºï¼ˆå‡ºæ ˆï¼‰ array_push() å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ å‹å…¥æ•°ç»„çš„æœ«å°¾ï¼ˆå…¥æ ˆï¼‰ array_unshift() åœ¨æ•°ç»„å¼€å¤´æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´  array_shift() å°†æ•°ç»„å¼€å¤´çš„å…ƒç´ ç§»å‡ºæ•°ç»„ array_unique() ç§»é™¤æ•°ç»„ä¸­é‡å¤çš„å€¼ array_slice() ä»æ•°ç»„ä¸­æˆªå–éƒ¨åˆ†æ•°ç»„ array_splice å°†æ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†å…ƒç´ å»æ‰å¹¶ç”¨å…¶ä»–å€¼å–ä»£ æ’åºæ•°ç»„ å‡½æ•°åç§° åŠŸèƒ½æè¿° sort() å¯¹æ•°ç»„æ’åºï¼ˆä»ä½åˆ°é«˜ï¼‰ rsort() å¯¹æ•°ç»„é€†å‘æ’åºï¼ˆä»é«˜åˆ°ä½ï¼‰ asort() å¯¹æ•°ç»„è¿›è¡Œæ’åºå¹¶ä¿æŒé”®å€¼å…³ç³» ksort() å¯¹æ•°ç»„æŒ‰ç…§é”®åæ’åº arsort() å¯¹æ•°ç»„è¿›è¡Œé€†å‘æ’åºå¹¶ä¿æŒé”®å€¼å…³ç³» krsort() å¯¹æ•°ç»„æŒ‰ç…§é”®åé€†å‘æ’åº shuffle() å°†æ•°ç»„å…ƒç´ é¡ºåºæ‰“ä¹± array_multisort() å¯¹å¤šä¸ªæ•°ç»„æˆ–å¤šç»´æ•°ç»„è¿›è¡Œå¹³æ’åº æ£€ç´¢å‡½æ•° å‡½æ•°åç§° åŠŸèƒ½æè¿° in_array() æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼ array_search() åœ¨æ•°ç»„ä¸­æœç´¢ç»™å®šçš„å€¼ï¼Œå¦‚æœæˆåŠŸåˆ™è¿”å›ç›¸åº”çš„é”®å array_key_exists() æ£€æŸ¥ç»™å®šçš„é”®åæ˜¯å¦å­˜åœ¨äºæ•°ç»„ å…¶ä»–æ•°ç»„å‡½æ•° å‡½æ•°åç§° åŠŸèƒ½æè¿° count() è®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ æ•°ç›®æˆ–å¯¹è±¡ä¸­çš„å±æ€§ä¸ªæ•° range() å»ºç«‹ä¸€ä¸ªåŒ…å«æŒ‡å®šèŒƒå›´å…ƒç´ çš„æ•°å€¼ array_rand() ä»æ•°ç»„ä¸­éšæœºå–å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´  array_keys() è·å–æ•°ç»„ä¸­éƒ¨åˆ†æˆ–æ‰€æœ‰çš„é”®å array_values() è·å–æ•°ç»„ä¸­æ‰€æœ‰çš„å€¼ array_column() è·å–æ•°ç»„ä¸­æŒ‡å®šçš„ä¸€åˆ— array_sum() è®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å€¼å¾—å’Œ array_reverse() è¿”å›ä¸€ä¸ªå…ƒç´ é¡ºåºç›¸åçš„æ•°ç»„ array_merge() åˆå¹¶ä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„ array_flip() äº¤æ¢æ•°ç»„ä¸­çš„é”®å’Œå€¼ array_combine() åˆ›å»ºæ•°ç»„ï¼Œç”¨ä¸€ä¸ªæ•°ç»„çš„å€¼ä½œä¸ºå…¶é”®åï¼Œå¦ä¸€ä¸ªæ•°ç»„çš„å€¼ä½œä¸ºå…¶å€¼ array_chunk() å°†ä¸€ä¸ªæ•°ç»„åˆ†å‰²ä¸ºå¤šä¸ª array_fill() ç”¨ç»™å®šçš„å€¼å¡«å……æ•°ç»„ array_replace() ä½¿ç”¨ä¼ é€’çš„æ•°ç»„æ›¿æ¢ç¬¬ä¸€ä¸ªæ•°ç»„çš„å…ƒç´  array_map() ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å›è°ƒå‡½æ•° array_walk() ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ åšå›è°ƒå¤„ç†","link":"/2020/07/28/php%E6%95%B0%E7%BB%84%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"},{"title":"vscodeé…ç½®","text":"phpcs1. å®‰è£…è¿™é‡Œä½¿ç”¨ composer å®‰è£… å…¨å±€å®‰è£…1composer global require squizlabs/php_codesniffer å±€éƒ¨å®‰è£…1composer require --dev squizlabs/php_codesniffer å±€éƒ¨å®‰è£…æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½• 2. å®‰è£… vscode æ’ä»¶æ‰“å¼€ Visual Studio Code æœç´¢ phpcs è¿›è¡Œå®‰è£…ã€‚ å®‰è£…æˆåŠŸåç‚¹å‡»å¯ç”¨å°±è¡Œäº†ï¼Œæˆ–è€…åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® 1&quot;phpcs.enable&quot; : &quot;true&quot; å®‰è£…åé‡å¯ VSCode å¦‚æœè¿˜æç¤ºéœ€è¦å®‰è£…æˆ–è€…å…¨å±€å®‰è£…phpcsï¼Œæ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œå°†phpcsæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ 3. é…ç½®å‚æ•°åœ¨ setting.json ä¸­é…ç½®å‚æ•°ï¼Œé…ç½®ä»£ç çš„éªŒè¯æ ‡å‡† 1&quot;phpcs.standard&quot;: &quot;PSR2&quot; ä»£ç çš„æ ‡å‡†æœ‰ï¼šMySource, PEAR, PHPCS, PSR1, PSR2, Squiz, Zend ç­‰ å¯ä»¥åœ¨è‡ªå·± phpcs çš„å®‰è£…ç›®å½•ä¸­çœ‹è‡ªå·±å®‰è£…äº†å“ªäº› phpcs æ ‡å‡† ä½¿ç”¨ Composer å…¨å±€å®‰è£…çš„è¯ï¼Œphpcs ç›®å½•ä¹Ÿæ˜¯åœ¨ composer ç›®å½•ä¸‹çš„ æ–‡ä»¶ç›®å½•åœ¨xxx\\Composer\\vendor\\squizlabs\\php_codesniffer\\src\\Standards è¿™æ ·åŸºæœ¬é…ç½®å°±å®Œæˆäº† å…¶ä»–çš„é…ç½®æ ‡å‡†ï¼š æ²¡æœ‰ 1&quot;phpcs.standard&quot;: null ä½¿ç”¨é»˜è®¤çš„æ ‡å‡† 1&quot;phpcs.standard&quot;: &quot;&quot; è®¾ç½®é»˜è®¤æ ‡å‡†ï¼Œæ‰§è¡Œ 1phpcs --config-set default_standard &lt;æ ‡å‡†å&gt; æ›´å¤šé…ç½®å»å®˜ç½‘çœ‹æ–‡æ¡£ã€‚pear 4. vscode ä¸­å…¶ä»–çš„ PHP é…ç½®é…ç½® PHP æ‰§è¡Œè·¯å¾„1&quot;php.validate.executablePath&quot;: &quot;xxx/php/php7.3.4nts/php.exe&quot;, è¿™é‡Œä½¿ç”¨çš„æ˜¯ç»å¯¹è·¯å¾„","link":"/2020/07/23/vscode%E9%85%8D%E7%BD%AEphpcs/"},{"title":"test","text":"","link":"/2020/08/10/test/"},{"title":"æˆ‘çš„reactå¿«é€Ÿæ‰‹å†Œ","text":"ğŸ‰ å¸Œæœ›å¯ä»¥è®°å½•ä¸€äº›ç¬”è®°ï¼Œä¿æŒåŸæœ‰ä¹…ç¬”è®°çš„å‰æä¸‹åŠ¨æ€æ›´æ–°ï¼Œæ–¹ä¾¿å¯¹æ¯”å¤ä¹  ğŸ‘‰ å€¼å¾—å­¦ä¹ çš„ Thinking In React å‰è¨€ğŸ™ƒ è®°å½•æ—¶é—´ã€ç‰ˆæœ¬çš„ä¸åŒï¼Œä»£ç é£æ ¼ä¼šä¸åŒï¼Œæœ€æ–°çš„ç‰ˆæœ¬ç¤ºä¾‹ä¼šæ˜¯æœ€ä¸Šé¢ä¸€ä¸ªç„¶åç”¨ æ–°--- å’Œ æ—§--- æ ‡è¯† TBR æ ‡å‡ºçš„ï¼Œæ˜¯æ²¡çœ‹æ˜ç™½ï¼Œè¿˜éœ€ç»†å“çš„ ğŸ˜… åŸºæœ¬ä½¿ç”¨å®‰è£…ä½¿ç”¨ viteğŸŒ Getting Start å…ˆåˆ›å»º vite å†é€‰æ‹© react 1npm create vite@latest ç›´æ¥æŒ‡å®š react 1234567npm create vite@latest my-react-app -- --template react# yarnyarn create vite my-react-app --template react# pnpmpnpm create vite my-react-app --template react æˆ–è€…æ˜¯ react-ts éè„šæ‰‹æ¶1npm install react react-dom é€šè¿‡&lt;script&gt;å¯¼å…¥ï¼Œæ³¨æ„å¯¼å…¥é¡ºåº 123456789101112131415161718&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;&lt;script src=&quot;./node_modules/react/umd/react.development.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;./node_modules/react-dom/umd/react-dom.development.js&quot;&gt;&lt;/script&gt;&lt;script&gt; /* åˆ›å»ºreactå…ƒç´ ï¼ˆäº†è§£ï¼‰ - å‚æ•°ä¸€ï¼šå…ƒç´ åç§° - å‚æ•°äºŒï¼šå…ƒç´ å±æ€§ï¼Œæ˜¯å¯¹è±¡ - å‚æ•°ä¸‰ï¼šå…ƒç´ çš„å­èŠ‚ç‚¹ï¼ˆä»è¿™ä¸ªå‚æ•°å¼€å§‹ï¼Œä¹‹åæ·»åŠ çš„å‚æ•°éƒ½æ˜¯å­èŠ‚ç‚¹ï¼‰ */ const title = React.createElement(&quot;h1&quot;, null, &quot;hello react!&quot;); /* æ¸²æŸ“reactå…ƒç´  - å‚æ•°ä¸€ï¼šè¦æ¸²æŸ“çš„å…ƒç´  - å‚æ•°äºŒï¼šæŒ‚è½½ç‚¹ */ ReactDOM.render(title, document.getElementById(&quot;root&quot;));&lt;/script&gt; è„šæ‰‹æ¶React.createElement()å’ŒcreateRoot()çš„åŒºåˆ« å‰è€…ï¼šåˆ›å»º React Element åè€…ï¼šåˆ›å»ºä¸€ä¸ª root-level çš„å®¹å™¨æ¥æ¸²æŸ“ React ç¨‹åº React 18 React 18 ä»¥å‰ä¸‹è½½ 123456# æ¨ènpx create-react-app myReact## ä¸å¤ªæ¨ènpm init react-app myReactyarn create react-app myReact å¯åŠ¨ï¼ˆè¦è¿›å…¥é¡¹ç›®çš„æ ¹ç›®å½•ï¼‰ 1npm start ä½¿ç”¨ï¼Œé€šè¿‡ ES6 çš„ import å…³é”®å­— 12345678import React from &quot;react&quot;;import React from &quot;react-dom&quot;;// åˆ›å»ºreactå…ƒç´ const title = React.createElement(&quot;h1&quot;, null, &quot;hello react!&quot;);// æ¸²æŸ“å…ƒç´ ReactDOM.render(title, document.getElementById(&quot;root&quot;)); React 18 ä»¥å1npm install react react-dom 12345678import { createRoot } from &quot;react-dom/client&quot;;// æ¸…ç©ºç°æœ‰çš„HTMLå†…å®¹document.body.innerHTML = '&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;';// ä½¿ç”¨Reactç»„ä»¶å–è€Œä»£ä¹‹const root = createRoot(document.getElementById(&quot;app&quot;));root.render(&lt;h1&gt;Hello, world&lt;/h1&gt;); æˆ–è€…æ˜¯å¹¶ä¸æƒ³æ¸…ç©ºå½“å‰ HTML é¡µé¢çš„å†…å®¹ï¼Œé‚£å°±æ‰¾ä¸€ä¸ªå…ƒç´ å½“ä½œå®¹å™¨æ¥æ¸²æŸ“å½“å‰çš„ React ç»„ä»¶ 1234567891011&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;My app&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;This paragraph is a part of HTML.&lt;/p&gt; &lt;nav id=&quot;navigation&quot;&gt;&lt;/nav&gt; &lt;p&gt;This paragraph is also a part of HTML.&lt;/p&gt; &lt;/body&gt;&lt;/html&gt; 12345678910import { createRoot } from &quot;react-dom/client&quot;;function NavigationBar() { // TODO: Actually implement a navigation bar return &lt;h1&gt;Hello from React!&lt;/h1&gt;;}const domNode = document.getElementById(&quot;navigation&quot;);const root = createRoot(domNode);root.render(&lt;NavigationBar /&gt;); React å’Œ JSXjsx æ˜¯ JavaScript XML çš„ç®€å†™ï¼Œåœ¨ JavaScript æ–‡ä»¶ä¸­å†™ HTML-like æ ‡ç­¾ å› ä¸ºjsxä¸æ˜¯æ ‡å‡†çš„ECMAScriptè¯­æ³•ï¼Œè€Œæ˜¯å®ƒçš„è¯­æ³•æ‰©å±•ï¼Œæ‰€ä»¥åœ¨æ™®é€šç¯å¢ƒæ˜¯ä¸å¯ä»¥ä½¿ç”¨çš„ï¼›è¦åœ¨è„šæ‰‹æ¶ä¸­ä½¿ç”¨ï¼ˆå› ä¸ºè„šæ‰‹æ¶ä¸­åŒ…å«äº†babelï¼Œ@babel/preset-reactï¼‰ JSX å’Œ React æ˜¯ä¸¤ä¸ªä¸œè¥¿ï¼Œå‰è€…æ˜¯è¯­æ³•æ‹“å±•ï¼Œåè€…æ˜¯ä¸€ä¸ª JavaScript åº“ã€‚React æ˜¯ä½¿ç”¨äº†è¿™ç§è¯­æ³•æ‹“å±•ã€‚é€šå¸¸æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œä½†ä¹Ÿå¯ä»¥åˆ†å¼€ä½¿ç”¨ã€‚æ›´å¤šä»‹ç» è¯­æ³•è§„åˆ™1. å•æ ¹èŠ‚ç‚¹ åŸå› ï¼šJSX çœ‹èµ·æ¥åƒ HTMLï¼Œä½†æ˜¯æ˜¯è½¬æ¢æˆåŸç”Ÿçš„ JavaScript å¯¹è±¡ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯ä¸å¯ä»¥è¿”å›ä¸¤ä¸ªå¯¹è±¡çš„ï¼Œæ‰€ä»¥æ‰éœ€è¦åŒ…è£¹èµ·æ¥ 123456789&lt;div&gt; &lt;p&gt;123&lt;/p&gt; &lt;p&gt;456&lt;/p&gt;&lt;/div&gt;// æˆ–è€…ç©ºç™½çš„&lt;&gt; &lt;p&gt;123&lt;/p&gt; &lt;p&gt;456&lt;/p&gt;&lt;/&gt; è¿™ä¸ªç©ºç™½çš„æ ‡ç­¾å«åš Fragment ï¼ˆç‰‡æ®µ ï¼Ÿï¼Ÿï¼‰ å®Œæ•´æ ·å­ï¼š&lt;Fragment&gt;&lt;/Fragment&gt; å‘ Fragment ä¼  _key_ï¼Œä¸èƒ½ä½¿ç”¨çŸ­æ ‡ç­¾ &lt;&gt;&lt;/&gt;ï¼Œéœ€è¦ä» react å¯¼å…¥ Fragment ç„¶å s ä½¿ç”¨&lt;Fragment key={yourKey}&gt;...&lt;/Fragment&gt; ä¸ä¼šé‡ç½®stateï¼Œåœ¨ä»&lt;&gt;&lt;Child /&gt;&lt;/&gt;åˆ°[&lt;Child&gt;]æˆ–åè½¬çš„æ—¶å€™ï¼›&lt;&gt;&lt;&gt;&lt;Child /&gt;&lt;/&gt;&lt;/&gt;å°±ä¼šé‡ç½®ã€‚å…³äºé‡ç½® stateï¼Œéœ€è¦è·³è½¬çœ‹åˆ°stateç« èŠ‚ 123456789101112import React from &quot;react&quot;;import React from &quot;react-dom&quot;;// åˆ›å»ºreactå…ƒç´ const title = ( &lt;h1 className=&quot;title&quot;&gt; Hello Hi &lt;span /&gt; &lt;/h1&gt;);// æ¸²æŸ“å…ƒç´ ReactDOM.render(title, document.getElementById(&quot;root&quot;)); class =&gt; className ã€for =&gt; htmlForï¼Œç­‰ç­‰ å¦‚æœå…ƒç´ æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå¯ä»¥è½¬ä¸ºå•æ ‡ç­¾ï¼š&lt;span&gt;&lt;/span&gt; =&gt; &lt;span /&gt;ï¼Œå½“ç„¶ä¸è½¬ä¹Ÿè¡Œ 2. å¿…é¡»è¦å…³é—­æ ‡ç­¾ â€¦å…¶å®ä¸€ç›´ä¸çŸ¥é“æ ‡ç­¾è¿˜å¯ä»¥ä¸ç”¨å…³é—­çš„ ğŸ¥² 1234567&lt;ul&gt; &lt;li&gt;12 &lt;li&gt;34 &lt;li&gt;56&lt;/ul&gt;&lt;img&gt; 1234567&lt;ul&gt; &lt;li&gt;12&lt;/li&gt; &lt;li&gt;34&lt;/li&gt; &lt;li&gt;56&lt;/li&gt;&lt;/ul&gt;&lt;img /&gt; 3. é©¼å³°å¼å±æ€§å å› ä¸º JSX è¦è½¬æ¢æˆ JavaScript å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œä¾‹å¦‚ HTML-like ä¸­çš„æ ·å¼ç±»classæ”¹æˆäº†classNameï¼Œä¸ç„¶å¾—å’Œ JavaScript ç±»çš„å…³é”®å­—å†²çª DOM èŠ‚ç‚¹çš„classNameå±æ€§ä¹Ÿæ˜¯è¿™ä¸ªæ„æ€ï¼Œé¿å…ä¸æ“ä½œ DOM çš„ç¼–ç¨‹è¯­è¨€ä¿ç•™çš„classå…³é”®å­—å†²çª å¯¹äºæ ·å¼ç±»ï¼Œclass æ˜¯å±äº HTML çš„ï¼Œè€Œ className æ˜¯ DOM å±æ€§ ğŸ‘‰ è¿™é‡ŒæŸ¥çœ‹æ‰€æœ‰çš„å±æ€§å ç”±äºå†å²åŸå› aria-* å’Œ data-* ä¾ç„¶ä½¿ç”¨ - è€Œä¸æ˜¯é©¼å³°å¼ã€‚ä¸»è¦åŸå› æœ‰ W3C å®šçš„ä¸€äº› HTML è§„èŒƒï¼Œç„¶å React ä¹Ÿéµå¾ªè¿™äº›è§„èŒƒä»¥é€‚é…å¾ˆå¤šåº“ã€å¼€å‘å·¥å…·ã€ä¸åŒæŠ€æœ¯ç­‰ç­‰ aria è§„èŒƒ: Accessible Rich Internet Applicationsï¼Œæä¾›ä¸€ç»„å±æ€§å¢å¼º web åº”ç”¨ç¨‹åºçš„å¯è®¿é—®æ€§ã€‚ ä½¿ç”¨ js è¡¨è¾¾å¼ (JSX çš„èŠ±æ‹¬å·) â— èŠ±æ‹¬å·å¤–é¢æ˜¯ä¸éœ€è¦åŠ  åŒå¼•å·æˆ–è€…å•å¼•å· çš„ï¼›èŠ±æ‹¬å·é‡Œé¢å¦‚æœæ˜¯å­—ç¬¦ä¸² return è¯­å¥ä¸­ JS è¡¨è¾¾å¼è¦å†™åœ¨èŠ±æ‹¬å·é‡Œé¢ 12345export default function Avatar() { const avatar = &quot;https://i.imgur.com/7vQD0fPs.jpg&quot;; const description = &quot;Gregorio Y. Zara&quot;; return &lt;img className=&quot;avatar&quot; src={avatar} alt={description} /&gt;;} 123const name = &quot;Jerry&quot;; // ä½¿ç”¨ä¸€ä¸ªèŠ±æ‹¬å·ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ªconst title = &lt;h1&gt;{name}&lt;/h1&gt;;ReactDOM.render(title, document.getElementById(&quot;root&quot;)); åœ¨{}ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„åˆæ³•çš„JavaScriptè¡¨è¾¾å¼ï¼Œä¸è¿‡ä¹Ÿæœ‰ä¾‹å¤– 123456789101112const hello = () =&gt; &quot;hello&quot;;const myDiv = &lt;div&gt;æˆ‘æ˜¯ä¸€ä¸ªdiv&lt;/div&gt;;const title = ( &lt;div&gt; &lt;p&gt;{1 + 1}&lt;/p&gt; &lt;p&gt;{1 &lt; 2 ? &quot;å¯¹å‘€&quot; : &quot;ä¸å¯¹&quot;}&lt;/p&gt; &lt;p&gt;{hello()}&lt;/p&gt; {div} &lt;/div&gt;);ReactDOM.render(title, document.getElementById(&quot;root&quot;)); jsx è‡ªèº«ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œæ‰€ä»¥{div}ä¹Ÿé€‚ç”¨ &lt;p&gt;{ {a: &quot;æˆ‘æ˜¯a&quot;} }&lt;/p&gt;ï¼Œè¿™ç§å¯¹è±¡æ˜¯ä¸è¡Œçš„ï¼Œä½†æ˜¯åœ¨styleæ ·å¼ä¸­åˆå¯ä»¥ä½¿ç”¨ åœ¨é‡Œé¢ä½¿ç”¨è¯­å¥ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼šifã€for è¿™äº› JSX ä½¿ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·çš„åœºæ™¯ CSSï¼š&lt;ul style={{backgroundColor: 'black', color: 'pink'}}&gt; css å±æ€§åè¦é©¼å³°å¼ JSX ä¼ é€’å¯¹è±¡ï¼šperson={{ name: \"Hedy Lamarr\", inventions: 5 }} æ¡ä»¶æ¸²æŸ“123456789101112function Item({ name, isPacked }) { return &lt;li className=&quot;item&quot;&gt;{isPacked ? name + &quot;âœ”&quot; : name}&lt;/li&gt;;}export default function Pane() { return ( &lt;div&gt; &lt;Item name=&quot;mike&quot; isPacked={false}&gt;&lt;/Item&gt; &lt;Item name=&quot;amy&quot; isPacked={true}&gt;&lt;/Item&gt; &lt;/div&gt; );} å¦‚æœä¸æ¸²æŸ“ä¸œè¥¿ï¼Œå¯ä»¥è¿”å›nullã€‚ä¸€èˆ¬ä¸ä¼šè¿™æ ·åš ä½¿ç”¨é€»è¾‘ä¸ç®€åŒ–æ¡ä»¶åˆ¤æ–­ 12345return ( &lt;li className=&quot;item&quot;&gt; {name} {isPacked &amp;&amp; &quot;âœ”&quot;} &lt;/li&gt;); React considers false as a â€œholeâ€ in the JSX treeï¼Œåƒundefinedå’Œnullä¸€æ ·ä¸æ¸²æŸ“ä¸œè¥¿ å¯ç”¨å¤šä¸ªèŠ±æ‹¬å· æ³¨æ„ &amp;&amp; å·¦è¾¹æœ‰æ•°å­—ï¼Œå› ä¸ºå¦‚æœæ˜¯ 0 çš„è¯ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯falseï¼›å¯ä»¥åŠ ä¸ªå‰æåˆ¤æ–­å½“å·¦è¾¹å¤§äº 0 å¦‚æœè¦ç®€åŒ–è¿”å›è¯­å¥ï¼Œæˆ–è€…æœ‰ä¸ªé»˜è®¤è¿”å›ï¼Œå¯ä»¥ä½¿ç”¨ç»“åˆä½¿ç”¨å˜é‡å’Œ JSX 12345678function Item({ name, isPacked }) { let content = name; if (isPacked) { // å¤šè¡Œè¦ä½¿ç”¨æ‹¬å· content = &lt;del&gt;{name + &quot;âœ”&quot;}&lt;/del&gt;; } return &lt;li className=&quot;item&quot;&gt;{content}&lt;/li&gt;;} åˆ—è¡¨æ¸²æŸ“ ç®­å¤´å‡½æ•°=&gt;åé¢éšå¼è¿”å›ï¼Œä¸ç”¨åŠ ä¸Šreturnï¼Œä½†æ˜¯åªè¿”å›ä¸€è¡Œï¼›è¿”å›å¤šè¡Œ=&gt;éœ€è¦åŠ ä¸Š{}å’Œreturn å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„map()æ–¹æ³• 1234567891011const songs = [ { id: 1, name: &quot;æˆ‘å¾ˆå¿«ä¹&quot; }, { id: 2, name: &quot;ä½ å¾ˆå¿«ä¹&quot; }, { id: 3, name: &quot;ä»–å¾ˆå¿«ä¹&quot; },];export default function SongList() { // å†³å®šåˆ—è¡¨ç»“æ„ï¼ˆæ¯ä¸€é¡¹éå†éœ€è¦æœ‰ä¸€ä¸ªkeyï¼‰ const songItems = songs.map(item =&gt; &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;); return &lt;ul&gt;{songItems}&lt;/ul&gt;;} ä¸€èˆ¬ä¼šç”¨æ•°æ®åº“ä¸­å¯¹åº”çš„ ID ä½œä¸º key å¦‚æœæ˜¯æœ¬åœ°æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ crypto.randomUUID() æˆ–è€…æ˜¯åŒ…uuid ç”Ÿæˆ ä¸è¦ä½¿ç”¨Math.random()ç”Ÿæˆ keyï¼Œkey é™¤äº†æ ‡è¯†å½“å‰ DOMï¼Œè¿˜ä¼šæœ‰ç¼“å­˜ä½œç”¨ï¼Œæ•°æ®ä¸å˜åŒ–çš„ä¸ä¼šé‡æ–°æ¸²æŸ“ä»¥ä½¿å¾—æ¸²æŸ“æ›´å¿«ï¼Œå¦‚æœç”¨äº†éšæœºæ•°ï¼Œæ‰€æœ‰çš„ DOM éƒ½ä¼šåœ¨æ•°æ®æ›´æ–°æ—¶é‡æ–°æ¸²æŸ“ key åœ¨propsæ˜¯è·å–ä¸åˆ°çš„ æƒ³è¦æ¸²æŸ“å¤šä¸ª DOM èŠ‚ç‚¹ä½†æ˜¯åˆä¸æƒ³åœ¨å¤–é¢åŒ…ä¸€ä¸ªå¤šä½™çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚ 123456const listItems = people.map(person =&gt; ( &lt;div key={person.id}&gt; &lt;h1&gt;{person.name}&lt;/h1&gt; &lt;p&gt;{person.bio}&lt;/p&gt; &lt;/div&gt;)); ä¸æƒ³ï¼Œè¦è¿™ä¸ªå¤–é¢çš„&lt;div&gt;ï¼Œå¯ç”¨&lt;Fragment&gt;ä»£æ›¿ï¼Œåœ¨ DOM ä¸­ Fragments ä¸ä¼šå‡ºç° 123456789// è®°å¾—è¦äº‹å…ˆå¯¼å…¥import { Fragment } from &quot;react&quot;;const listItems = people.map(person =&gt; ( &lt;Fragment key={person.id}&gt; &lt;h1&gt;{person.name}&lt;/h1&gt; &lt;p&gt;{person.bio}&lt;/p&gt; &lt;/Fragment&gt;)); è®°å¾—è¦äº‹å…ˆå¯¼å…¥ï¼š ä¸èƒ½ä½¿ç”¨ &lt;&gt;&lt;/&gt;ï¼Œå› ä¸ºå®ƒä¸èƒ½ä¼ é€’ key æ ·å¼å¤„ç†è¡Œå†…æ ·å¼ï¼šstyleï¼ˆä¸æ¨èï¼‰ï¼Œä½¿ç”¨æ ·å¼æ—¶å¯ä»¥åœ¨{}ä¸­ä½¿ç”¨å¯¹è±¡ 123const list = ( &lt;h1 style={{ color: &quot;red&quot;, backgroundColor: &quot;yellow&quot; }}&gt;JSXè¡Œå†…æ ·å¼&lt;/h1&gt;); ç±»åï¼šclassName 12345/* index.css */.title { color: &quot;red&quot;; background-color: &quot;yellow&quot;;} 1import &quot;index.css&quot;const list = ( &lt;h1 className=&quot;title&quot;&gt;JSXç±»æ ·å¼&lt;/h1&gt; ) å°ç»“ï¼šReact æ˜¯åˆ©ç”¨ JavaScript è¯­è¨€è‡ªèº«æ¥ç¼–å†™ç•Œé¢ï¼Œè€Œä¸æ˜¯åƒ Vue ä¸€æ ·é€šè¿‡å¢å¼º HTML çš„åŠŸèƒ½ã€‚ ç»„ä»¶åŸºç¡€ ä¸€ä¸ªé¡µé¢å¯ä»¥å…¨éƒ¨éƒ½æ˜¯ React ç»„ä»¶ã€‚ a React component is a JavaScript function that you can sprinkle with markup ä¸¤ç§åˆ›å»ºæ–¹å¼ React 16.8 ä»¥å æ¨èåˆ›å»ºç»„ä»¶çš„æ–¹æ³•ä¸å†æ˜¯ ç±»ç»„ä»¶ ï¼Œè€Œæ˜¯ å‡½æ•°ç»„ä»¶ å‡½æ•°çš„æ–¹å¼å’Œç±»çš„æ–¹å¼ å‡½æ•°ç»„ä»¶ ä½¿ç”¨functionå…³é”®å­— å‡½æ•°åç§°å¤§å†™å¼€å¤´ å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼ï¼ˆè¿”å›nullè¡¨ç¤ºä¸æ¸²æŸ“å†…å®¹ï¼‰ è¿”å›å•è¡Œå¯ä¸éœ€è¦æ‹¬å·ï¼Œè¿”å›å¤šè¡Œå¿…é¡»æ‹¬å· ä¸è¦åœ¨ç»„ä»¶é‡Œé¢å†å®šä¹‰å…¶ä»–ç»„ä»¶ 123456function Hello() { return &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶&lt;/div&gt;;}// æˆ–è€…const Hello = ()=&gt; &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶&lt;/div&gt;// å‡½æ•°åä½œä¸ºæ ‡ç­¾åReactDOM.render(&lt;Hello /&gt;, document.getElementById(&quot;root&quot;)); 1234567export default function Profile() { return ( &lt;div&gt; &lt;img src=&quot;https://i.imgur.com/MK3eW3Am.jpg&quot; alt=&quot;Katherine Johnson&quot; /&gt; &lt;/div&gt; );} è™½ç„¶é‡Œé¢æœ‰srcã€_alt_ï¼Œä½†æ˜¯å®åˆ™ä¸º JavaScriptï¼Œè¿™ç§å†™æ³•å« React ä¼šä»¥å¤§å°å†™æ¥åŒºåˆ† HTML æ ‡ç­¾å’Œ React ç»„ä»¶ ç±»ç»„ä»¶ ä½¿ç”¨classå…³é”®å­— ç±»åè¦å¤§å†™å¼€å¤´ï¼Œå¹¶ä¸”ç»§æ‰¿äºReact.Component å¿…é¡»æœ‰render()æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•è¦æœ‰è¿”å›å€¼ 1234567class Hello extends React.Component { render ( return ( &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªç±»ç»„ä»¶&lt;/div&gt; ) )}ReactDOM.render(&lt;Hello /&gt;, document.getElementById(&quot;root&quot;)) ç»„ä»¶çš„å¯¼å…¥å¯¼å‡º ä¸€èˆ¬ä¼šå°†ä¸€ä¸ªç»„ä»¶æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ä¸­ 12345678910111213141516// åç¼€åå¯çœç•¥import NavMenu from &quot;./navMenu.js&quot;;// å†…éƒ¨ä½¿ç”¨çš„è¯ï¼Œæ— éœ€å¯¼å‡ºfunction HeaderTitle() { return &lt;h1&gt;&lt;/h1&gt;;}export default function Header() { return ( &lt;div&gt; &lt;NavMenu /&gt; &lt;HeaderTitle /&gt; &lt;/div&gt; );} 1234567891011/* Hello.js */import React from &quot;react&quot;class Hello extends React.Component { render ( return ( &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶ç»„ä»¶&lt;/div&gt; ) )}export default Hello 12345678/* index.js */import React from &quot;react&quot;;import React from &quot;react-dom&quot;;import Hello from &quot;./Hello.js&quot;;ReactDOM.render(&lt;Hello /&gt;, document.getElementById(&quot;root&quot;)); é»˜è®¤ä¸å‘½åå¯¼å‡ºå¯¼å…¥ ä¸€ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡º è¯­æ³• å¯¼å‡º å¯¼å…¥ é»˜è®¤ export default function Button() {} import Button from './Button.js'; å‘½å export function Button() {} import { Button } from './Button.js'; é»˜è®¤å¯¼å‡ºï¼Œå¯¼å…¥çš„æ—¶å€™ï¼Œå¯¼å…¥åå­—éšä¾¿å†™ å‘½åçš„æ—¶å€™ï¼Œåå­—éœ€è¦å¯¹åº” è™½ç„¶é»˜è®¤å¯¼å‡ºexport default () =&gt; {}æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¸æ¨èæ²¡æœ‰åå­— äº‹ä»¶å¤„ç†åŸºæœ¬ä½¿ç”¨ on+äº‹ä»¶åç§°={äº‹ä»¶å¤„ç†ç¨‹åº}ï¼ŒonClick={()=&gt;{}} é©¼å³°å¼å‘½å äº‹ä»¶å¤„ç†å‡½æ•°å¿…é¡»æ˜¯ä¼ é€’è€Œä¸æ˜¯è°ƒç”¨ï¼Œå°±æ˜¯è¯´ä¸ç”¨åœ¨å‡½æ•°åé¢åŠ ä¸Šæ‹¬å· ç»™ç»„ä»¶æ·»åŠ äº‹ä»¶å¤„ç†ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åä½œä¸ºpropsä¼ é€’ç»™&lt;button&gt; è¿™ä¸ªå‡½æ•°ä¸€èˆ¬åœ¨å½“å‰è¿™ä¸ªç»„ä»¶é‡Œé¢ ä»¥handleå¼€å¤´ï¼šonClick={handleClick}, onMouseEnter={handleMouseEnter} 1234567export default function Button() { function handleClick() { alert(&quot;You clicked me!&quot;); } return &lt;button onClick={handleClick}&gt;ç‚¹å‡»&lt;/button&gt;;} 12345678class Button extends React.Component { handleClick() { console.log(&quot;è§¦å‘å•å‡»äº‹ä»¶&quot;); } render() { return &lt;button onClick={this.handleClick}&gt;ç‚¹å‡»&lt;/button&gt;; }} äº‹ä»¶å¯¹è±¡ äº‹ä»¶å¤„ç†å™¨ä¼šæ•è·åˆ°å­ç»„ä»¶å¯èƒ½ä¼šæœ‰çš„äº‹ä»¶ï¼šç§°ä¸ºå†’æ³¡æˆ–è€…ä¼ æ’­ï¼›åœ¨äº‹ä»¶å‘ç”Ÿçš„åœ°æ–¹å¼€å§‹ï¼Œç„¶åé¡ºç€ç»„ä»¶æ ‘å¾€ä¸Šä¼ é€’ã€‚æ¯”å¦‚å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶éƒ½æœ‰ç‚¹å‡»äº‹ä»¶ã€‚ æ‰€æœ‰äº‹ä»¶éƒ½ä¼šå†’æ³¡ï¼Œé™¤äº†onScrollï¼Œåªåœ¨ä½¿ç”¨çš„åœ°æ–¹ä¿ƒå‘ äº‹ä»¶å¤„ç†å‡½æ•°ä»…æœ‰çš„ä¸€ä¸ªå‚æ•°å°±æ˜¯äº‹ä»¶å¯¹è±¡ï¼Œä¸€èˆ¬ç”¨eæ¥è¡¨ç¤º e.stopPropagation() é˜»æ­¢å†’æ³¡ çˆ¶ç»„ä»¶æ·»åŠ onClickCapture={()=&gt;{ /* ... */}} æ•è·å­ç»„ä»¶äº‹ä»¶ 12345// æ•è·äº‹ä»¶&lt;div onClickCapture={() =&gt; {}}&gt; &lt;button onClick={e =&gt; e.stopPropagation()} /&gt; &lt;button onClick={e =&gt; e.stopPropagation()} /&gt;&lt;/div&gt; 12345678910111213class Button extends React.Component { handleClick(e) { // é˜»æ­¢é»˜è®¤äº‹ä»¶ e.preventDefault(); } render() { return ( &lt;a href=&quot;www.baidu.com&quot; onClick={this.handleClick}&gt; å»ç™¾åº¦ &lt;/a&gt; ); }} äº‹ä»¶å¤„ç†å‡½æ•°è¯»å– props å’Œä½œä¸º props ä¼ é€’123456789101112131415161718192021function Button({ onClick, children }) { return &lt;button onClick={onClick}&gt;{children}&lt;/button&gt;;}function PlayButton({ movieName }) { // ä¹‹æ‰€ä»¥åœ¨è¿™å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ˜¯å› ä¸ºå¯¹äº&lt;Button&gt;çš„ä¸åŒè°ƒç”¨æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæ‰€ä»¥ä¸æŠŠå¤„ç†å‡½æ•°æ”¾&lt;button&gt;é‡Œé¢ function handlePlayClick() { // ç›´æ¥ä½¿ç”¨ props alert(`Playing ${movieName}!`); } // è¿™é‡Œçš„onClickå¯¹åº”çš„æ˜¯åŸç”Ÿ&lt;button&gt;é‚£é‡Œçš„onClickï¼Œæ‰€ç¤ºä½¿ç”¨äº†é»˜è®¤å return &lt;Button onClick={handlePlayClick}&gt;Play &quot;{movieName}&quot;&lt;/Button&gt;;}export default function Toolbar() { return ( &lt;div&gt; &lt;PlayButton movieName=&quot;Kiki's Delivery Service&quot; /&gt; &lt;/div&gt; );} è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•° props åå­— ä½œä¸º props ä¼ é€’æ—¶ä½¿ç”¨çš„åå­— ä¸Šé¢çš„handlePlayClickä½œä¸º props ä¼ é€’çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯onClickï¼Œç®—æ˜¯ä½¿ç”¨äº†é»˜è®¤åå­— ä¸€èˆ¬ä»¥onå¼€å¤´ï¼Œç„¶åé©¼å³°å¼å‘½å 123456789101112function Button({ onSmash, children }) { return &lt;button onClick={onSmash}&gt;{children}&lt;/button&gt;;}export default function App() { return ( &lt;div&gt; &lt;Button onSmash={() =&gt; alert(&quot;Playing!&quot;)}&gt;Play Movie&lt;/Button&gt; &lt;Button onSmash={() =&gt; alert(&quot;Uploading!&quot;)}&gt;Upload Image&lt;/Button&gt; &lt;/div&gt; );} å¯¹äºåŸç”Ÿçš„ HTML å…ƒç´ ï¼Œè¦å°½é‡ä½¿ç”¨å¯¹åº”åŠŸèƒ½çš„å…ƒç´ å…¶å¯¹åº”çš„äº‹ä»¶ã€‚æ¯”å¦‚ç‚¹å‡»äº‹ä»¶ä¼šç”¨åˆ°&lt;button&gt;è€Œä¸æ˜¯div stateéšç€æ—¶é—´æ”¹å˜çš„æ•°æ®å« _state_ï¼Œå¯¹äºå¯¹è±¡å’Œæ•°ç»„ï¼Œreact æ¨èå®ƒä»¬çš„ä½¿ç”¨æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œè¦æƒ³æ›´æ–°ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„ æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ç»„ä»¶ æ— çŠ¶æ€ç»„ä»¶ï¼šå‡½æ•°ç»„ä»¶ï¼›æœ‰çŠ¶æ€ç»„ä»¶ï¼šç±»ç»„ä»¶ React 16.8 çŠ¶æ€ï¼ˆstateï¼‰è´Ÿè´£æ•°æ® å‡½æ•°ç»„ä»¶æ²¡çŠ¶æ€ï¼Œå¯ä»¥ç”¨äºå±•ç¤ºæ•°æ®ï¼ˆé™æ€ï¼‰ React 16.8 ç±»ç»„ä»¶æœ‰è‡ªå·±çŠ¶æ€ï¼Œå¯ä»¥ç”¨äºæ›´æ–°ç•Œé¢ï¼ˆåŠ¨æ€ï¼‰React 16.8 åä¸å†æ˜¯ä¸»æ¨çš„ state åŸºæœ¬ä½¿ç”¨(æ–°)12345678import { useState } from &quot;react&quot;;const [index, setIndex] = useState(0);// æ”¹å˜å€¼function handleClick() { setIndex(index + 1);} useState è¿”å›ä¸¤ä¸ªä¸œè¥¿é€šè¿‡è§£æ„è·å¾—ï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªæ˜¯æ›´æ–°è¿™ä¸ªå€¼äºŒç‚¹æ–¹æ³• åå­—éšä¾¿èµ·ï¼Œä½†ä¹ æƒ¯ä½¿ç”¨ åå­— å’Œ setåå­— æ¯ä¸ªç»„ä»¶é‡Œçš„ state éƒ½æ˜¯ç‹¬ç«‹çš„ useå¼€å¤´çš„Hooksæ–¹æ³•ï¼Œåªå¯åœ¨ç»„ä»¶çš„top levelæ‰§è¡Œï¼Œä¸å¯å†æ¡ä»¶åˆ¤æ–­ã€åˆ—è¡¨å¾ªç¯ä¸­ä½¿ç”¨ æ›´æ”¹ å¯¹è±¡ ç±»å‹çš„ stateç›´æ¥æ›´æ–°å¯¹è±¡é‡Œçš„å±æ€§æ˜¯ä¸ä¼šè§¦å‘é¡µé¢æ›´æ–°çš„ 123456const [position, setPosition] = useState({ x: 0, y: 0 });// ..position.x = e.clientX;position.y = e.clientY; è™½ç„¶åœ¨æŸäº›æƒ…å†µè¿™æ ·åšä¼šæœ‰æ•ˆï¼Œä½†æ˜¯å¹¶ä¸æ¨èã€‚æ‰€ä»¥è¦ä½¿ç”¨setPositionä¼ é€’ä¸€ä¸ªæ–°çš„å¯¹è±¡è¿‡å»ï¼Œç„¶åç»„ä»¶é‡æ–°æ¸²æŸ“ é‡ç‚¹æ˜¯ä½¿ç”¨setXXXè¿™ä¸ªå‡½æ•°ï¼Œä¸ç®¡è¦æ›´æ–°çš„å€¼ä»¥ä»€ä¹ˆå½¢å¼å˜åŒ–ï¼Œæ¯”å¦‚ 12345678const nextPosition = {};nextPosition.x = e.clientX;nextPosition.y = e.clientY;setPosition(nextPosition); // äº‹å®ä¸Šå’Œä¸‹é¢è¿™ä¸ªç›¸åŒsetPosition({ x: e.clientX, y: e.clientY }); ä¸è¿‡è¿™æ ·ä¼šæœ‰ä¸ªæ–°çš„é—®é¢˜ï¼Œå°±æ˜¯åªæ˜¯æƒ³è¦æ”¹å˜æŸä¸€ä¸ªå±æ€§çš„å€¼ï¼Œä¸æƒ³è¦æ”¹å˜å…¶ä»–å€¼ã€‚ å¦‚æœé‡æ–°å°†æ•´ä¸ªå¯¹è±¡ä¼ ä¸€æ¬¡ï¼Œå±æ€§å¤šäº†ä¼šå¾ˆéº»çƒ¦ ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å°†ä¸éœ€è¦æ”¹å˜çš„å¯¹è±¡å±æ€§å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ 123456789101112// å¦‚æœåªéœ€è¦æ”¹å˜ firstNameï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†setPerson({ firstName: e.target.value, lastName: person.lastName, email: person.email,});// è¿™æ ·ä¼˜åŒ–setPerson({ ...person, // å¤åˆ¶æ—§çš„å€¼ firstName: e.target.value, // ä»…é‡å†™ firstName}); å±•å¼€è¿ç®—ç¬¦ä»…åœ¨å¯¹è±¡çš„ç¬¬ä¸€å±‚èµ·ä½œç”¨ï¼Œå¦‚æœè¦å¤åˆ¶æ›´æ·±å±‚çš„ï¼Œå¾—å¤šæ¬¡ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ 12345678const [person, setPerson] = useState({ name: &quot;Niki de Saint Phalle&quot;, artwork: { title: &quot;Blue Nana&quot;, city: &quot;Hamburg&quot;, image: &quot;https://i.imgur.com/Sd1AgUOm.jpg&quot;, },}); åªæƒ³è¦æ›´æ–° artwork çš„ city 12345678910111213const nextArtwork = { ...person.artwork, city: &quot;New Delhi&quot; };const nextPerson = { ...person, artwork: nextArtwork };setPerson(nextPerson);// æˆ–è€…ç›´æ¥åœ¨é‡Œé¢setPerson({ ...person, // Copy other fields artwork: { // but replace the artwork ...person.artwork, // with the same one city: &quot;New Delhi&quot;, // but in New Delhi! },}); â” å…¶ä»–æƒ…å†µï¼šæ›´æ”¹ obj3.artworkï¼Œobj1 å’Œ obj2.artwork ä¹Ÿä¼šæ”¹å˜ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„å¯¹è±¡ 123456789101112131415let obj1 = { title: &quot;Blue Nana&quot;, city: &quot;Hamburg&quot;, image: &quot;https://i.imgur.com/Sd1AgUOm.jpg&quot;,};let obj2 = { name: &quot;Niki de Saint Phalle&quot;, artwork: obj1,};let obj3 = { name: &quot;Copycat&quot;, artwork: obj1,}; æ›´æ–° æ•°ç»„ ç±»å‹çš„ state åŒæ ·æ¨èä¸å¯å˜ï¼ˆimmutableï¼‰ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨arr[0] = &quot;qaq&quot;æ¥ä¿®æ”¹å…¶ä¸­çš„å€¼ åŒæ ·ä¹Ÿä¸æ¨èä½¿ç”¨pop()ã€push()ç­‰æ–¹æ³•æ¥æ”¹å˜å®ƒ æ¨èä»æ—§æ•°ç»„çš„åŸºç¡€ä¸Šåˆ›å»ºæ–°çš„æ•°ç»„ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸ä¼šæ”¹å˜æ—§æ•°ç»„çš„æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚filter()ã€map() React ä¸­ state ä¸­æ•°ç»„çš„æ“ä½œæ–¹æ³•æ¨èï¼ˆé¿å…ä½¿ç”¨è¯¥ç™¾å¹´æ•°ç»„çš„ï¼Œæ¨èä½¿ç”¨è¿”å›æ–°æ•°ç»„çš„ï¼‰ï¼š é¿å… æ¨è æ·»åŠ  push, unshift concat, [â€¦arr] åˆ é™¤ pop, shift, splice filter, slice æ›¿æ¢ splice, arr[i]=xx map æ’åº reverse, sort å…ˆå¤åˆ¶è¿™ä¸ªæ•°ç»„ æ·»åŠ å†…å®¹ï¼šå’Œå¯¹è±¡ä¸€æ ·ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥å¤åˆ¶ä»¥è¾¾åˆ°æ”¹å˜æŸä¸€ä¸ªå€¼çš„ç›®çš„ 12345678910const [artists, setArtists] = useState([]);setArtists( // Replace the state [ // with a new array ...artists, // that contains all the old items { id: nextId++, name: name }, // and one new item at the end ]); è¦æ”¹å˜æ–°æ’å…¥å€¼çš„ä½ç½®ï¼Œå°†æ–°æ’å…¥çš„å€¼è¿™è¡Œæ”¾åˆ°æ‰©å±•è¿ç®—çš„ä¸Šé¢å°±è¡Œ åˆ é™¤å†…å®¹ï¼šæœ€ç®€å•çš„å°±æ˜¯è¿‡æ»¤æ‰è¿™ä¸ªä¸éœ€è¦çš„ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸ªæ–°æ•°ç»„çš„ä¸åŒ…å«è¿™ä¸ªè¦åˆ é™¤çš„å†…å®¹ æ›¿æ¢å†…å®¹ï¼šåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä½¿ç”¨mapï¼Œå¦‚æœç¬¦åˆï¼Œæ”¹å˜è¿™ä¸ªå€¼ç„¶åè¿”å›ï¼Œä¸ç¬¦åˆçš„è¿”å›åŸæ¥çš„æ ·å­ 123456789101112const [counters, setCounters] = useState([xx, xxx]);const nextCounters = counters.map((c, i) =&gt; { if (i === index) { // +1 return c + 1; } else { // ä¸æ”¹å˜ return c; }});setCounters(nextCounters); æ’å…¥å†…å®¹ï¼šç¡®å®šè¦æ·»åŠ çš„ä½ç½®ï¼Œç„¶åä½¿ç”¨sliceåˆ†å‰²æ•°ç»„ï¼Œå°†è¦æ·»åŠ çš„æ”¾åˆ°ä¸¤ä¸ªåˆ‡ç‰‡ä¸­é—´ 12345678910111213const [artists, setArtists] = useState([xxx, xx, x]);// ...const insertAt = 1; // ä»»ä½•è¦æ’å…¥çš„ä½ç½®const nextArtists = [ // æ’å…¥ç‚¹å‰: ...artists.slice(0, insertAt), // è¦æ’å…¥çš„: { id: nextId++, name: name }, // æ’å…¥ç‚¹å: ...artists.slice(insertAt),];setArtists(nextArtists); å…¶ä»–æ“ä½œï¼šæ¯”å¦‚ _åè½¬_ï¼Œ_æ’åº_ï¼Œjs æ–¹æ³•ä¼šæ”¹å˜æ—§çš„æ•°ç»„ï¼Œæ‰€ä»¥è¦å…ˆå¤åˆ¶å‡ºä¸€ä¸ªæ•°ç»„ç„¶åå†åšå‡ºæ”¹å˜ï¼Œå¦‚nextList.sort()ï¼ŒnextList[0] = {name: &quot;zs&quot;, age: 18} å¯¹äºæ•°ç»„ list å’Œ _nextList_ï¼Œè™½ç„¶ä¸æ˜¯ç›¸åŒçš„æ•°ç»„ï¼Œä½†æ˜¯list[0]å’ŒnextList[0]æŒ‡å‘çš„æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥ç›´æ¥nextList[0].age=19è¿™æ ·çš„è¿˜æ˜¯ä¸æ¨èçš„ï¼Œå› ä¸ºè¿™æ˜¯æµ…æ‹·è´ï¼Œæ˜¯ç›´æ¥æ”¹æ‰äº†å¯¹è±¡é‡Œé¢çš„ä¸œè¥¿ ğŸ‘‰ æ›´æ–°æ•°ç»„é‡Œé¢çš„å¯¹è±¡ å¯¹è±¡å…¶å®å¹¶ä¸æ˜¯å†æ•°ç»„é‡Œé¢çš„ï¼Œåªæ˜¯åœ¨ä»£ç è¿™é‡Œçœ‹èµ·æ¥æ˜¯åœ¨é‡Œé¢ï¼›ä½†äº‹å®ä¸Šå½“ä½¿ç”¨æ•°ç»„æ—¶ï¼ˆè™½ç„¶å·²ç»ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦å¤åˆ¶å‡ºä¸åŒçš„æ•°ç»„ï¼‰ï¼Œå°è¯•æ”¹å˜å…¶ä¸­æ•°ç»„å†…å…ƒç´ çš„å€¼ï¼Œå¦å¤–çš„å¼•ç”¨ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼Œå› ä¸ºæ•°ç»„å®ƒå†…å®¹æœ¬èº«è¿˜æ˜¯å’Œæ—§æ•°ç»„ä¸€æ ·ï¼Œåªæ˜¯åœ¨æ–°çš„æ•°ç»„é‡Œé¢å‘†ç€ç½¢äº† æ‰€ä»¥æ”¹å˜æ•°ç»„é‡Œé¢ä½ çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨mapæ‰¾å‡ºè¦æ”¹å˜çš„å¯¹è±¡ï¼Œç„¶åä½¿ç”¨æ›´æ–°å¯¹è±¡çš„æ–¹æ³•æ›´æ–°ç›®æ ‡å¯¹è±¡ state åŸºæœ¬ä½¿ç”¨ ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ç»„ä»¶å†…éƒ¨ç§æœ‰çš„æ•°æ®ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ 123456789101112131415161718192021222324class Hello extends React.component { construtor() { // ES6 ä¸­ç±»çš„ç»§æ‰¿ä¸­è¦æ±‚è¦æœ‰çš„ï¼Œå¦‚æœæœ‰å‚æ•°å°±å¾—åœ¨å…¶ä¸­ä¼ é€’ super(); // åˆå§‹åŒ–state this.state = { count: 0, }; } render() { return ( &lt;div&gt; &lt;h1&gt;è®¡æ•°å™¨ï¼š{this.state.count}&lt;/h1&gt; &lt;button onClick={() =&gt; { this.setState({ count: this.state.count + 1 }); }} &gt; +1 &lt;/button&gt; &lt;/div&gt; ); }} â— æ³¨ï¼šä¸èƒ½ç›´æ¥ä¿®æ”¹ state ä¸­çš„å€¼ï¼šthis.state.count++ï¼Œè¿™æ ·æ˜¯é”™çš„ ä¸Šé¢çš„è¯­æ³•æœ‰ä¸ªç®€åŒ–ç‰ˆçš„ï¼Œå»æ‰äº†æ„é€ å™¨å’Œ super 123456789101112class Hello extends React.component { state = { count: 0, }; render() { return ( &lt;div&gt; &lt;h1&gt;è®¡æ•°å™¨ï¼š{this.state.count}&lt;/h1&gt; &lt;/div&gt; ); }} this æŒ‡å‘é—®é¢˜è§£å†³ 1 ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³ 1234567891011121314151617181920class Hello extends React.component { construtor() { super(); this.state = { count: 0 }; } // å°†äº‹å‡å¤„ç†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œä¼šå¸¦æ¥thisæŒ‡å‘é—®é¢˜,ä½¿ç”¨ç®­å¤´å‡½æ•°è§£å†³ add() { this.setState({ count: this.state.count + 1, }); } render() { return ( &lt;div&gt; &lt;h1&gt;è®¡æ•°å™¨ï¼š{this.state.count}&lt;/h1&gt; &lt;button onClick={() =&gt; this.add()}&gt;+1&lt;/button&gt; &lt;/div&gt; ); }} â— æ³¨ï¼šåœ¨&lt;button&gt;ä¸­è°ƒç”¨æ—¶ï¼Œå‡½æ•°åé¢è¦åŠ ä¸Š() this æŒ‡å‘é—®é¢˜è§£å†³ 2 åˆ©ç”¨ ES5 ä¸­çš„bindæ–¹æ³•ç»‘å®š this 1234567891011121314151617181920212223class Hello extends React.component { construtor() { super(); // å°†äº‹å‡å¤„ç†ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œä¼šå¸¦æ¥thisæŒ‡å‘é—®é¢˜,ä½¿ç”¨bind()ç»‘å®š this.add = this.add.bind(this); this.state = { count: 0, }; } add() { this.setState({ count: this.state.count + 1, }); } render() { return ( &lt;div&gt; &lt;h1&gt;è®¡æ•°å™¨ï¼š{this.state.count}&lt;/h1&gt; &lt;button onClick={this.add}&gt;+1&lt;/button&gt; &lt;/div&gt; ); }} â— æ³¨ï¼šåœ¨&lt;button&gt;ä¸­è°ƒç”¨æ—¶ï¼Œè¿™é‡Œå·²ç»ä¸æ˜¯å‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥å‡½æ•°åé¢ä¸ç”¨åŠ ä¸Š() this æŒ‡å‘é—®é¢˜è§£å†³ 3åŸºäºä¸Šé¢çš„å†…å®¹ï¼Œåªéœ€è¦ä¿®æ”¹add() 12345add = () =&gt; { this.setState({ count: this.state.count + 1, });}; è¿™æ˜¯å®éªŒæ€§è¯­æ³•ï¼Œä½†æ˜¯åœ¨babelä¸­ä½¿ç”¨ä¸å¿…æ‹…å¿ƒ è¡¨å•å¤„ç†å—æ§ç»„ä»¶ HTML ä¸­çš„çŠ¶æ€ï¼ˆæ•°æ®ï¼‰æ˜¯å…ƒç´ è‡ªå·±æ§åˆ¶çš„ï¼Œä½†æ˜¯åœ¨ React ä¸­è¦åœ¨ state ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ setState æ¥ä¿®æ”¹ è§£å†³è¿™ä¸ªå†²çªï¼ŒReact å°†stateå’Œå…ƒç´ çš„valueç»‘å®šåœ¨ä¸€èµ· å—æ§ç»„ä»¶ï¼Œå°±æ˜¯å…¶å€¼æ˜¯å—åˆ° React æ§åˆ¶çš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344class App extends React.Component { // ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œä½¿ç”¨ç®€å†™å½¢å¼ state = { txt: &quot;&quot;, city: &quot;gz&quot;, isCheck: false, }; handleChange = e =&gt; { this.setState({ txt: e.target.value, }); }; handleCity = e =&gt; { this.setState({ city: e.target.value, }); }; handleChecked = e =&gt; { this.setState({ isCHecked: e.target.checked, }); }; render() { return ( &lt;div&gt; &lt;input type=&quot;text&quot; value={this.state.txt} onChange={this.handleChange} /&gt; &lt;select value={this.state.city} onChange={this.handleCity}&gt; &lt;option value=&quot;sh&quot;&gt;ä¸Šæµ·&lt;/option&gt; &lt;option value=&quot;bj&quot;&gt;åŒ—äº¬&lt;/option&gt; &lt;option value=&quot;gz&quot;&gt;å¹¿å·&lt;/option&gt; &lt;/select&gt; &lt;input type=&quot;checkbox&quot; checked={this.state.isChecked} onChange={this.handleChecked} /&gt; &lt;/div&gt; ); }} ğŸŒ å¯ä»¥å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œä¼˜åŒ– ç»™è¡¨å•å…ƒç´ æ·»åŠ nameå±æ€§ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒçš„è¡¨å•å…ƒç´ ï¼Œåç§°ä¸å¯¹åº”çš„stateç›¸åŒã€‚ æ ¹æ®è¡¨å•å…ƒç´ ç±»å‹è·å–å¯¹åº”çš„å€¼ã€‚ï¼ˆvalueã€checkedï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142class App extends React.Component { state = { txt: &quot;&quot;, city: &quot;gz&quot;, isCheck: false, }; handleForm = e =&gt; { // è·å–å½“å‰DOMå¯¹è±¡ const target = e.target; // æ ¹æ®ç±»å‹è·å–å€¼ const value = target.type === &quot;checkbox&quot; ? target.checked : target.value; // è·å–name const name = target.name; // å¦‚æœä¸‹é¢çš„nameæ²¡æœ‰[]ï¼Œä»£è¡¨çš„æ˜¯åœ¨stateæ–°å¢ä¸€ä¸ªnameå±æ€§ï¼›ä½¿ç”¨[]è¡¨ç¤ºä¿®æ”¹stateå¯¹è±¡ä¸­å¯¹åº”çš„å€¼ this.setState({ [name]: value, }); }; render() { return ( &lt;div&gt; &lt;input type=&quot;text&quot; name=&quot;txt&quot; value={this.state.txt} onChange={this.handleForm} /&gt; &lt;select name=&quot;city&quot; value={this.state.city} onChange={this.handleForm}&gt; &lt;option value=&quot;sh&quot;&gt;ä¸Šæµ·&lt;/option&gt; &lt;option value=&quot;bj&quot;&gt;åŒ—äº¬&lt;/option&gt; &lt;option value=&quot;gz&quot;&gt;å¹¿å·&lt;/option&gt; &lt;/select&gt; &lt;input name=&quot;isChecked&quot; type=&quot;checkbox&quot; checked={this.state.isChecked} onChange={this.handleForm} /&gt; &lt;/div&gt; ); }} éå—æ§ç»„ä»¶ é€šè¿‡refï¼Œä½¿ç”¨åŸç”Ÿ DOM æ¥è·å–è¡¨å•å…ƒç´ çš„å€¼ åˆ›å»ºä¸€ä¸ª ref å¯¹è±¡ 1constructor() { super() // thisç‚¹åé¢è¿™ä¸ªåå­—éšä¾¿å– this.txtRef = React.createRef()} å°†åˆ›å»ºå¥½çš„ ref å¯¹è±¡æ”¾åˆ°ç›®æ ‡å…ƒç´ ä¸­ 1&lt;input type=&quot;text&quot; ref={this.txtRef} /&gt; é€šè¿‡ ref è·å–åˆ°ç›®æ ‡å…ƒç´ çš„å€¼ 1console.log(this.txtRef.current.value); react ä¸­ä¸æ¨èç›´æ¥æ“ä½œ DOM ä¿æŒç»„ä»¶æ•´æ´1ï¼š ç»„ä»¶å°±åƒæ˜¯å…¬å¼ï¼Œä¸ä¼šæœ‰æ„æ–™ä¹‹å¤–çš„ç»“æœï¼Œæ¯”å¦‚ 123function double(number) { return 2 * number;} ä¸€ç›´ä¼  2 å®ƒä¸€ç›´è¿”å› 4ï¼›ä¼  4ï¼Œå°±è¿”å› 8ï¼› 2ï¼š ä¿æŒä¸ºä¸€ä¸ªçº¯å‡½æ•°ï¼Œåªç®¡è‡ªå·±çš„äº‹ï¼Œåœ¨è°ƒç”¨è¿™ä¸ªç»„ä»¶ä¹‹å‰ï¼Œä¸ä¼šæ”¹å˜å­˜åœ¨çš„å˜é‡æˆ–å¯¹è±¡ âŒ ä¸å¥½çš„ç¤ºä¾‹ï¼šæ¯ä½¿ç”¨ä¸€æ¬¡ç»„ä»¶guestçš„å€¼å¢åŠ äº† 1234567891011121314151617let guest = 0;function Cup() { // Bad: changing a preexisting variable! guest = guest + 1; return &lt;h2&gt;Tea cup for guest #{guest}&lt;/h2&gt;;}export default function TeaSet() { return ( &lt;&gt; &lt;Cup /&gt; &lt;Cup /&gt; &lt;Cup /&gt; &lt;/&gt; );} æ­£ç¡®åšæ³•æ˜¯é€šè¿‡propså°†å€¼ä¼ è¿›å» æˆ–è€…å°†æ•°æ®åœ¨TeaSetä¸­æ“ä½œ 3ï¼š â€œå‰¯ä½œç”¨â€ ä¸éœ€è¦ä¿æŒæ•´æ´ï¼Ÿ å°±æ˜¯ä¸€äº› äº‹ä»¶å¤„ç†å™¨ ä¸éœ€è¦ è¿™æ ·ï¼Œå› ä¸ºæ¸²æŸ“çš„æ—¶å€™å®ƒä»¬å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ç­‰æ—¶é—´è§¦å‘ã€‚æ‰€ä»¥åœ¨è¿™å¯ä»¥æ”¹å˜ä¸€äº›ç”¨æˆ·çš„è¾“å…¥ã€å“åº”ç­‰ TBR: Keeping Components Pure ç»„ä»¶è¿›é˜¶props æ¥æ”¶ä¼ é€’ç»™ç»„ä»¶çš„æ•°æ® ä¼ é€’æ•°æ®ï¼šç»™ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§ æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶é€šè¿‡å‚æ•°propsæ¥æ”¶æ•°æ®ï¼Œç±»ç»„ä»¶é€šè¿‡this.propsæ¥æ”¶æ•°æ® propsåªå¯è¯» props æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸æ˜¯ç»„ä»¶è¢«åˆ›å»ºä¹‹åå°±å†™æ­»äº†çš„ ä½†æ˜¯ props æ˜¯ä¸å¯å˜å¯¹è±¡ å½“ç»„ä»¶è¦æ”¹å˜å®ƒçš„ propsï¼Œé¦–å…ˆä¼šå‘çˆ¶ç»„ä»¶è¯·æ±‚æ‰€éœ€æ•°æ®æ¥ä¼ é€’ä¸åŒçš„ props æ—§çš„ props è¢«ä¸¢å¼ƒï¼Œéšåè¢« JavaScript å¼•æ“å›æ”¶è¿™ä¸ª props å çš„å†…å­˜ ä¸è¦ç›´æ¥æ”¹å˜ props çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨ set state æ–°--- 12345678910111213141516171819202122232425export default function Profile() { return ( &lt;Avatar person={{ name: &quot;Lin Lanying&quot;, imageId: &quot;1bX5QH6&quot; }} size={100} /&gt; );}/* * è¿™é‡Œçš„å‚æ•°ä¹Ÿå¯ä»¥ä¸å±•å¼€ï¼Œç›´æ¥ç”¨ä¸ªå¯¹è±¡ï¼Œæ•ˆæœä¸€æ ·ã€‚ä¸è¿‡å¯èƒ½é€šå¸¸ä¸éœ€è¦æ•´ä¸ªå¯¹è±¡ * å¦‚æœè§£æ„ï¼Œä¸è¦å¿˜äº†å¤§æ‹¬å· */function Avatar({ person, size }) { return ( &lt;img className=&quot;avatar&quot; src={getImageUrl(person)} alt={person.name} width={size} height={size} /&gt; );}function getImageUrl() { // ...} æŒ‡å®šé»˜è®¤å€¼ å’Œ js ä¸€æ ·ï¼Œåœ¨å‚æ•°é‚£æŒ‡å®šå°±è¡Œ 123function Avatar({ person, size = 10 }) { // ...} æ²¡ä¼ é€’ size çš„æ—¶å€™ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œæˆ–è€…æ˜¯ä¼ é€’ size={undefined} size={null}æˆ–è€…size={0}ï¼Œä¸ä¼šä½¿ç”¨é»˜è®¤å€¼ æ›´ç®€æ´çš„ä¼ é€’ props å‰ææ˜¯è¦æƒ³å¥½ä½¿ç”¨åœºæ™¯ï¼Ÿæ¯”å¦‚çˆ¶ç»„ä»¶å°±æ˜¯éœ€è¦è§£æ„ï¼Œé‚£æ²¡åŠæ³• ä¸ç®€æ´çš„ 123456789101112function Profile({ person, size, isSepia, thickBorder }) { return ( &lt;div className=&quot;card&quot;&gt; &lt;Avatar person={person} size={size} isSepia={isSepia} thickBorder={thickBorder} /&gt; &lt;/div&gt; );} è¿™é‡Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°çš„ props ç„¶ååˆåŸå°ä¸åŠ¨å†å†™ä¸€æ¬¡ä¼ ç»™å­ç»„ä»¶ï¼Œæœ‰ç‚¹éº»çƒ¦ å¯ä»¥è¿™æ · 1234567function Profile(props) { return ( &lt;div className=&quot;card&quot;&gt; &lt;Avatar {...props} /&gt; &lt;/div&gt; );} æ—§--- å‡½æ•°ç»„ä»¶ 1234567891011// 2. æ¥æ”¶æ•°æ®const Hello = props =&gt; { // propsæ˜¯ä¸€ä¸ªå¯¹è±¡ return ( &lt;div&gt; &lt;h1&gt;{props.name}&lt;/h1&gt; &lt;/div&gt; );};// 1. ä¼ é€’å‚æ•°ReactDOM.render(&lt;Hello name=&quot;tom&quot; age={10} /&gt;, document.getElementById(&quot;root&quot;)); ç±»ç»„ä»¶ 12345678910111213141516171819202122232425262728// 2. æ¥æ”¶æ•°æ®class Hello extends React.Component { // å¦‚æœä½¿ç”¨æ„é€ å™¨ï¼Œsuperçš„å‚æ•°å¿…é¡»ä¼ propsï¼ˆåªé’ˆå¯¹æ„é€ å™¨é‡Œé¢ï¼‰ constructor(props) { super(props); } // ä¸Šé¢æ„é€ å™¨çš„superä¼ ä¸ä¼ å‚æ•°ï¼Œä¸‹é¢çš„renderéƒ½å¯ä»¥æ¥æ”¶åˆ°props render() { return ( &lt;div&gt; &lt;h1&gt;{this.props.age}&lt;/h1&gt; {tag} &lt;/div&gt; ); }}// 1. ä¼ é€’å‚æ•°ReactDOM.render( &lt;Hello name=&quot;tom&quot; age={10} fn={() =&gt; { console.log(&quot;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°&quot;); }} tag={&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªpæ ‡ç­¾&lt;/p&gt;} /&gt;, document.getElementById(&quot;root&quot;)); ä¼ é€’éå­—ç¬¦ä¸²çš„å†…å®¹è¦ä½¿ç”¨{}åŒ…èµ·æ¥ props æ·±å…¥children å±æ€§ ä¼ é€’ JSX ä½œä¸ºå­ç»„ä»¶ é€šè¿‡props.childrenè·å¾— 12345678910111213import Avatar from &quot;./Avatar.js&quot;;function Card({ children }) { return &lt;div className=&quot;card&quot;&gt;{children}&lt;/div&gt;;}export default function Profile() { return ( &lt;Card&gt; &lt;Avatar size={100} /&gt; &lt;/Card&gt; );} 12345678910111213const App = props =&gt; { return ( &lt;div&gt; &lt;h1&gt;ç»„ä»¶æ ‡ç­¾å­èŠ‚ç‚¹&lt;/h1&gt; {props.children} &lt;/div&gt; );};// æ­£å¸¸æƒ…å†µä¸‹ï¼Œprops.children ä¸ºç©ºReactDOM.render(&lt;App /&gt;, document.getElementById(&quot;root&quot;));// åŠ ä¸Šå­èŠ‚ç‚¹åï¼Œprops.children ä¸ºï¼šæˆ‘æ˜¯å­èŠ‚ç‚¹ReactDOM.render(&lt;App&gt;æˆ‘æ˜¯å­èŠ‚ç‚¹&lt;/App&gt;, document.getElementById(&quot;root&quot;)); å­èŠ‚ç‚¹å¯ä»¥ä¸ºä»»æ„çš„jsxè¡¨è¾¾å¼ã€ç»„ä»¶ã€å‡½æ•° å¦‚æœæ˜¯å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨props.children()ï¼Œå¤–é¢ä¸ç”¨åŠ  {} props æ ¡éªŒ åœ¨åˆ›å»ºç»„ä»¶çš„æ—¶å€™å°±æŒ‡å®špropsçš„ç±»å‹æˆ–è€…æ ¼å¼ åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆå®‰è£…prop-types 1npm install props-types 1234567891011121314151617import PropTypes from &quot;prop-types&quot;;const App = props =&gt; { const arr = props.colors; const list = arr.map((item, index) =&gt; &lt;li&gt;{item}&lt;/li&gt;);};// æ·»åŠ æ ¡éªŒApp.propTypes = { // è§„å®šä¸ºæ•°ç»„ç±»å‹ colors: PropTypes.array,};ReactDOM.render( &lt;App colors={[&quot;red&quot;, &quot;yellow&quot;]} /&gt;, document.getElementById(&quot;root&quot;)); PropTypes.åé¢çš„å°±æ˜¯çº¦æŸè§„åˆ™ âš  çº¦æŸè§„åˆ™ï¼š å¸¸è§çš„çº¦æŸç±»å‹ï¼šarrayã€boolã€funcã€numberã€objectã€string React å…ƒç´ ç±»å‹ï¼šelement å¿…å¡«é¡¹ï¼šisRequiredï¼ˆåœ¨çº¦æŸè§„åˆ™åç‚¹ä½¿ç”¨ï¼‰ ç‰¹å®šç»“æ„çš„å¯¹è±¡ï¼šshape({ }) â€¦â€¦ 123456789101112131415161718import PropTypes from &quot;prop-types&quot;;const App = props =&gt; { return &lt;div&gt;&lt;/div&gt;;};// æ·»åŠ æ ¡éªŒApp.propTypes = { a: PropTypes.number, fn: PropTypes.func.isRequired, tag: PropTypes.element, filter: PropTypes.shape({ area: PropTypes.string, price: PropTypes.number, }),};ReactDOM.render(&lt;App fn={() =&gt; {}} /&gt;, document.getElementById(&quot;root&quot;)); props é»˜è®¤å€¼1234// æ·»åŠ é»˜è®¤å€¼ï¼Œå½“ç»„ä»¶ä¸ä¼ å€¼çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨è¿™ä¸ªé»˜è®¤å€¼App.defaultProps = { pageSize: 10,}; render props ç”¨äºç»„ä»¶å¤ç”¨ å¤ç”¨ state å’Œæ“ä½œ state çš„æ–¹æ³• render è¿™ä¸ª render åå­—æ˜¯éšä¾¿å–çš„ ä½¿ç”¨ç»„ä»¶æ—¶æ‹¿åˆ°ç»„ä»¶å†…éƒ¨çš„ propsï¼Œå¯ä»¥ç»™ç»„ä»¶æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åé€šè¿‡å‡½æ•°çš„å‚æ•°æ¥è·å–ã€‚&lt;Mouse render={ (mouse) =&gt; {} } /&gt;ï¼Œç„¶åå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºé¡µé¢è¦æ¸²æŸ“çš„ç»“æ„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// ä½¿ç”¨å›¾ç‰‡å…ˆè¦å¯¼å…¥import img from &quot;./image/cat.jpg&quot;;// å½“å‰ç»„ä»¶æœ‰çŠ¶æ€ï¼Œä¹Ÿæœ‰ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•class Mouse extends React.Component { state = { x: 0, y: 0, }; // é¼ æ ‡ç§»åŠ¨å¤„ç†ç¨‹åº handleMouseMove = e =&gt; { this.setState({ x: e.clientX, y: e.clientY, }); }; // ç›‘å¬é¼ æ ‡ç§»åŠ¨çš„ä»£ç  componentDidMount() { window.addEventListener(&quot;mousemove&quot;, this.handleMouseMove); } // this.props.renderæ˜¯åœ¨ä½¿ç”¨&lt;Mouse /&gt;çš„æ—¶å€™ä¼ é€’çš„ã€‚è¿™ä¸ªrenderåå­—æ˜¯éšä¾¿çš„ï¼Œç”±&lt;Mouse /&gt;è°ƒç”¨æ—¶æä¾› render() { return this.props.render(this.state); }}class App extends React.Component { render() { reutrn( &lt;div&gt; &lt;h1&gt;render props æ¨¡å¼&lt;/h1&gt; &lt;Mouse render={mouse =&gt; { return ( &lt;p&gt; é¼ æ ‡ä½ç½®ï¼š{mouse.x} {mouse.y} &lt;/p&gt; ); }} /&gt; {/* å¤ç”¨ä¸€ä¸ª&lt;Mouse /&gt; */} &lt;Mouse render={mouse =&gt; { return ( &lt;img src={img} alt=&quot;çŒ«&quot; style={{ position: &quot;absolute&quot;, top: &quot;mouse.y&quot;, left: &quot;mouse.x&quot;, }} /&gt; ); }} /&gt; &lt;/div&gt; ); }} åœ¨class Mouseä¸­ï¼Œç»„ä»¶æ˜¯è¦è¿”å›å†…å®¹çš„ï¼Œä½†æ˜¯åœ¨å¤ç”¨ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œclass Mouseå¹¶ä¸çŸ¥é“è¦è¿”å›ä»€ä¹ˆï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨&lt;Mouse /&gt;æ—¶å€™æä¾›çš„è¦æ¸²æŸ“çš„å†…å®¹ï¼Œç„¶ååœ¨this.props.renderä¸­æ¥æ”¶ æ„æ€å°±æ˜¯å£°æ˜&lt;Mouse /&gt;ï¼Œå’Œä½¿ç”¨&lt;Mouse /&gt; children å–ä»£ renderğŸ¡ æ ¼å¼ï¼š 1234567891011121314// ...// åœ¨ class Mouseä¸­ä¿®æ”¹render() { return this.props.children(this.state)}// åœ¨ä½¿ç”¨&lt;Mouse /&gt;æ—¶// åŒæ ·ï¼Œåœ¨ä½¿ç”¨æ—¶å‚æ•°å¯¹åº”çš„æ˜¯çŠ¶æ€å€¼ï¼Œè¿”å›å€¼å¯¹åº”çš„æ˜¯è¦æ¸²æŸ“çš„å†…å®¹&lt;Mouse&gt; { mouse =&gt; { return ( &lt;p&gt;é¼ æ ‡ä½ç½®ï¼š{mouse.x} {mouse.y}&lt;/p&gt; ) } }&lt;/Mouse&gt; ä»£ç ä¼˜åŒ–æ ¡éªŒ 123Mouse.propTypes = { children: Proptypes.func.isRequired,}; ç§»é™¤mousemoveäº‹ä»¶ 123componentWillUnmount() { windows.removeEventListener(&quot;mousemove&quot;, this.handleMouseMove)} ç»„ä»¶ä¹‹é—´çš„é€šè®¯çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶ çˆ¶ç»„ä»¶æä¾›è¦ä¼ é€’çš„stateæ•°æ® å­ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§ï¼Œå€¼ä¸ºstateä¸­çš„æ•°æ® å­ç»„ä»¶é€šè¿‡propsæ¥æ”¶çˆ¶ç»„ä»¶ä¸­ä¼ é€’çš„æ•°æ® 123456789101112131415161718192021222324class Parent extends React.Component { constructor() { super(); this.state = { lastName: &quot;tom&quot;, }; } render() { return ( &lt;div&gt; çˆ¶ç»„ä»¶ï¼š &lt;Child name={this.state.lastName} /&gt; &lt;/div&gt; ); }}const Child = props =&gt; { return ( &lt;div&gt; &lt;p&gt;å­ç»„ä»¶ï¼Œæ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ã€‚{props.name}&lt;/p&gt; &lt;/div&gt; );};ReactDOM.render(&lt;Parent /&gt;, document.getElementById(&quot;root&quot;)); å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶ çˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼Œç”¨æ¥æ¥æ”¶æ•°æ®ï¼ˆè°è¦æ¥æ”¶æ•°æ®ï¼Œè°å°±æä¾›å›è°ƒå‡½æ•°ï¼‰ å°†æ”¹å‡½æ•°ä½œä¸ºå±æ€§çš„å€¼ï¼Œä¼ é€’ç»™å­ç»„ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243class Parent extends React.Component { constructor() { super(); this.state = { parentMsg: &quot;&quot;, }; } getChildMsg = data =&gt; { console.log(&quot;æ¥æ”¶å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®&quot;, data); this.setState({ parentMsg: data, }); }; render() { return ( &lt;div&gt; çˆ¶ç»„ä»¶ï¼šç»™å­ç»„ä»¶æä¾›äº†å‡½æ•° &lt;Child getMsg={this.getChildMsg} /&gt; {this.state.parentMsg} &lt;/div&gt; ); }}class Child extends React.Component { constructor() { super(); this.state = { msg: &quot;ä½ å¥½&quot;, }; } handleClick = () =&gt; { // å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶æä¾›çš„å›è°ƒå‡½æ•°ï¼Œä»è€Œä¼ é€’å†…å®¹ this.props.getMsg(this.state.msg); }; render() { return ( &lt;div&gt; å­ç»„ä»¶ï¼š&lt;button onClick={this.handleClick}&gt;ç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®&lt;/button&gt; &lt;/div&gt; ); }} å…„å¼Ÿç»„ä»¶ä¼ å€¼ å°†è¦å…±äº«çš„æ•°æ®æå‡åˆ°æœ€è¿‘çš„å…¬å…±åº¦ç»„ä»¶ä¸­ å…¬å…±çˆ¶ç»„ä»¶è¦åšçš„äº‹ï¼šæä¾›å…±äº«æ•°æ®ã€æä¾›æ“ä½œå…±äº«æ•°æ®çš„æ–¹æ³• è¦ä¼ å€¼çš„å­ç»„ä»¶é€šè¿‡propsæ¥æ”¶æ•°æ®æˆ–æ˜¯æ¥æ”¶æ“ä½œæ•°æ®çš„æ–¹æ³• 12345678910111213141516171819202122232425262728class Counter extends React.Component { // æä¾›å…±äº«çŠ¶æ€ state = { count: 0, }; // æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³• add = () =&gt; { this.setState({ count: this.state.count + 1, }); }; render() { return ( &lt;div&gt; &lt;Child1 count={this.state.count} /&gt; &lt;Child2 add={this.add} /&gt; &lt;/div&gt; ); }}const Child1 = props =&gt; { return &lt;h1&gt;è®¡æ•°å™¨ï¼š{props.count}&lt;/h1&gt;;};const Child2 = props =&gt; { return &lt;button onClick={() =&gt; props.add()}&gt;+1&lt;/button&gt;;};ReactDOM.render(&lt;Counter /&gt;, document.getElementById(&quot;root&quot;)); Context ä½¿ç”¨React.createContext()åˆ›å»ºProviderå’ŒConsumerä¸¤ä¸ªç»„ä»¶ ä½¿ç”¨&lt;Provider&gt;å°†çˆ¶ç»„ä»¶åŒ…èµ·æ¥ è®¾ç½®valueå±æ€§ï¼Œè¡¨ç¤ºè¦ä¼ é€’çš„å€¼ ä½¿ç”¨&lt;Consumer&gt;ç»„ä»¶æ¥æ”¶æ•°æ® 123456789101112131415161718192021222324252627282930313233343536const { Provider, Consumer } = React.createContext();class App extends React.Component { render() { return ( &lt;Provider value=&quot;pink&quot;&gt; &lt;div&gt; &lt;Node /&gt; &lt;/div&gt; &lt;/Provider&gt; ); }}const Node = props =&gt; { return ( &lt;div&gt; &lt;SubNode /&gt; &lt;/div&gt; );};const SubNode = props =&gt; { return ( &lt;div&gt; &lt;SubNode /&gt; &lt;/div&gt; );};const Child = props =&gt; { return ( &lt;div&gt; &lt;Consumer&gt;{data =&gt; &lt;span&gt;æˆ‘æ˜¯å­èŠ‚ç‚¹ {data}&lt;/span&gt;}&lt;/Consumer&gt; &lt;/div&gt; );}; ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸğŸ“š è¯¦ç»†æŒ‡å¯¼ ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼šç»„ä»¶ä»è¢«åˆ›å»ºåˆ°æŒ‚è½½åˆ°é¡µé¢ä¸­è¿è¡Œï¼Œå†åˆ°ç»„ä»¶ä¸ç”¨æ—¶å¸è½½çš„è¿‡ç¨‹ åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ ğŸ’¤ ä¸å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼šç‚¹æˆ‘ğŸ˜ åˆ›å»ºæ—¶ æ›´æ–°æ—¶ å¸è½½æ—¶ constructorã€æ›´æ–° DOM å’Œ refs æ—¶ã€componentDidMount constructorã€æ›´æ–° DOM å’Œ refs æ—¶ã€renderã€componentDidUpdate componentWillUnmount åˆ›å»ºæ—¶ğŸš² æ‰§è¡Œé¡ºåºï¼š 123graph LRA(constructor) --&gt;B(render)B--&gt;C(componentDidMount) é’©å­å‡½æ•° è§¦å‘æ—¶æœº ä½œç”¨ constructor åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ€å…ˆæ‰§è¡Œ 1. åˆå§‹åŒ– stateã€2. ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºç»‘å®š this render æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘ æ¸²æŸ“ç•Œé¢ï¼ˆ**ä¸èƒ½è°ƒç”¨setState()**ï¼‰ componentDidMount ç»„ä»¶æŒ‚è½½ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å 1. å‘é€ç½‘ç»œè¯·æ±‚ã€2. DOM æ“ä½œ componentDidMountæ˜¯åœ¨render()ã€constructor()å¤–é¢ç›´æ¥å‡½æ•°è°ƒç”¨çš„ï¼Œæ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜ æ›´æ–°æ—¶ å¯¼è‡´ç»„ä»¶æ›´æ–°çš„æƒ…å†µï¼šnew propsã€setState()ã€forceUpdate() 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647class App extends React.Component { constructor(props) { super(props) this.state = { count: 0 } } handleClick = () =&gt; { // åªè¦è°ƒç”¨setStateï¼Œé¡µé¢å°±ä¼šé‡æ–°æ¸²æŸ“ï¼Œå°±æ˜¯è°ƒç”¨render this.setState({ count: this.state.count + 1 }) // å¼ºåˆ¶æ›´æ–° // this.forceUpdate() } render() { console.log(&quot;ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&quot;) return ( &lt;div&gt; &lt;Counter count={this.state.count} /&gt; &lt;button onClick={this.handleClick}&gt;æ‰“è±†è±†&lt;/button&gt; &lt;/div&gt; ) }}class Counter extends React.Component { render() { console.log(&quot;å­ç»„ä»¶---ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender&quot;) return ( &lt;h1&gt;ç»Ÿè®¡æ‰“è±†è±†çš„æ¬¡æ•°ï¼š{this.props.count}&lt;/h1&gt; ) }}componentDidUpdate(prevProps) { // æ¯”è¾ƒæ›´æ–°å‰åpropsæ˜¯å¦ç›¸åŒï¼Œè¿›è€Œå†³å®šè¦ä¸è¦é‡æ–°æ¸²æŸ“å†…å®¹ // prevPropsï¼šä¸Šä¸€æ¬¡props // this.propsï¼šå½“å‰props if (prevProps.count !== this.props){ this.setState({ // TODO }) } console.log(&quot;componentDidUpdate&quot;)} ğŸš™ æ‰§è¡Œé¡ºåºï¼š 12graph LRA(render) --&gt; B(componentDidUpdate) é’©å­å‡½æ•° è§¦å‘æ—¶æœº ä½œç”¨ render æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘ æ¸²æŸ“ç•Œé¢ componentDidUpdate ç»„ä»¶æ›´æ–°ï¼ˆå®Œæˆ DOM æ¸²æŸ“ï¼‰å 1. å‘é€ç½‘ç»œè¯·æ±‚ã€2. DOM æ“ä½œã€å¦‚æœè¦setState()ï¼Œå¿…é¡»æ”¾åœ¨ä¸€ä¸ªifæ¡ä»¶ä¸­ å¦‚æœæ²¡æœ‰åœ¨ if é‡Œé¢è°ƒç”¨ï¼Œå°±ä¼šé€ æˆé€’å½’æ›´æ–°ï¼ˆæ‰§è¡Œå¤ªå¤šæ¬¡ååœä¸‹æ¥æŠ¥é”™ï¼‰ å¸è½½æ—¶ é’©å­å‡½æ•° è§¦å‘æ—¶æœº ä½œç”¨ componentWillUnmount ç»„ä»¶å¸è½½ï¼ˆä»é¡µé¢æ¶ˆå¤±ï¼‰ æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆå¦‚ï¼šæ¸…ç†å®šæ—¶å™¨ï¼‰ 1234567891011121314&lt;div&gt; { this.state.count &gt; 3 ? &lt;span&gt;è±†è±†è¢«æ‰“GGäº†&lt;/span&gt; : &lt;Counter count={this.state.count} /&gt; } &lt;button onClick={this.handleClick}&gt;æ‰“è±†è±†&lt;/button&gt;&lt;/div&gt;// .....componentWillUnmount() { console.log(&quot;è±†è±†è¢«GGï¼Œæˆ‘è¢«è§¦å‘äº†&quot;)} é«˜é˜¶ç»„ä»¶ ä¹Ÿæ˜¯ç”¨äºç»„ä»¶çš„å¤ç”¨ï¼ŒåŒ…è£…ç»„ä»¶ï¼Œå¢å¼ºç»„ä»¶çš„åŠŸèƒ½ HOC,Higher-Order Componentï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¦åŒ…è£…çš„ç»„ä»¶ï¼Œè¿”å›å¢å¼ºåçš„ç»„ä»¶ 1const EnhancedComponent = withHOC(WrappedComponent); é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªç±»ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œé€šè¿‡ prop å°†å¤ç”¨çš„çŠ¶æ€ä¼ é€’ç»™è¢«åŒ…è£…ç»„ä»¶ 12345class Mouse extends React.Component { render() { return &lt;WrappedComponent {...this.state} /&gt;; }} åŸºæœ¬ä½¿ç”¨12345678910111213141516171819202122232425262728293031323334353637383940414243444546// 1. åˆ›å»ºé«˜é˜¶ç»„ä»¶ï¼Œå‚æ•°è¦ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œå› ä¸ºæ˜¯è¦ä½œä¸ºè¢«æ¸²æŸ“çš„ç»„ä»¶function withMouse(WrappedComponent) { // 2. è¯¥ç»„ä»¶æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ class Mouse extends React.Component { // 2.1 é¼ æ ‡çŠ¶æ€ state = { x: 0, y: 0, }; // 2.2 æ§åˆ¶é¼ æ ‡çŠ¶æ€çš„é€»è¾‘ componentDidMount() { window.addEventListener(&quot;mousemove&quot;, this.handleMouseMove); } componentWillUnmount() { window.removeEventListener(&quot;mousemove&quot;, this.handleMouseMove); } // 3. æ¸²æŸ“ç»„ä»¶å¹¶ä¸”å°†çŠ¶æ€ä½œä¸ºå‚æ•°ä¼ é€’ã€‚åŒæ ·ä¸æä¾›å…·ä½“ç•Œé¢ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™æä¾›ç•Œé¢ render() { return &lt;WrappedComponent {...this.state} /&gt;; } } return Mouse;}// 4. æµ‹è¯•é«˜é˜¶ç»„ä»¶const Position = props =&gt; ( &lt;p&gt; é¼ æ ‡å½“å‰ä½ç½®ï¼š( x: {props.x}, y: {props.y} ) &lt;/p&gt;);// æµ‹è¯•é«˜é˜¶ç»„ä»¶2const Cat = props =&gt; &lt;img src={src} alt=&quot;cat&quot; /&gt;;// 5. è·å–å¢å¼ºåçš„ç»„ä»¶const MousePosition = withMouse(Position);// è·å–å¢å¼ºåçš„ç»„ä»¶2const CatPosition = withMouse(Cat);class App extends React.Component { render() { &lt;div&gt; {/* 6. æ¸²æŸ“å¢å¼ºåçš„é«˜é˜¶ç»„ä»¶ */} &lt;MousePosition /&gt; &lt;CatPosition /&gt; &lt;/div&gt;; }} displayName åœ¨æµè§ˆå™¨çš„ React å¼€å‘è€…å·¥å…·ä¸­ï¼Œå¤ç”¨çš„ç»„ä»¶åå­—æ˜¾ç¤ºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¦è®¾ç½®displayNameï¼Œè®¾ç½®ä¸ä¸€æ ·çš„åå­—ï¼Œä¾¿äºè°ƒè¯•ï¼ˆReact Developer Toolsï¼‰ 123456789101112function withMouse(WrappedComponent) { class Mouse extends React.component { // ... } // è®¾ç½®displayName Mouse.displayName = ` WithMouse${getDisplayName(WrappedComponent)} `; return Mouse;}function getDisplayName(WrappedComponent) { return WrappedComponent.displayName || WrappedComponent.name || &quot;Component&quot;;} ä¼ é€’ props props ä¸¢å¤± 123456789101112131415161718const Position = props =&gt; { // 2. propsä¸­æ²¡å¾—åˆ°a console.log(props); return ( &lt;p&gt; é¼ æ ‡å½“å‰ä½ç½®ï¼š( x: {props.x}, y: {props.y} ) &lt;/p&gt; );};class App extends React.Component { // 1. åœ¨ç»„ä»¶ä¸­ä¼ é€’å‚æ•° render() { &lt;div&gt; &lt;MousePosition a=&quot;1&quot; /&gt; &lt;/div&gt;; }} åœ¨&lt;Mosue /&gt;ä¸­æ˜¯å¯ä»¥å¾—åˆ° props çš„ï¼Œä½†æ˜¯å°±æ²¡å†å¾€ä¸‹ä¼ äº† ä¿®æ”¹ï¼Œåœ¨class Mouseï¼Œç»§ç»­ä¼ ä¸‹å» 123render() { return &lt;WrappedComponent {...this.state} {...this.props} /&gt;} React åŸç† ç»„ä»¶æ›´æ–°æœºåˆ¶ï¼šçˆ¶ç»„ä»¶æ›´æ–°ï¼Œå…¶ä¸‹é¢çš„å­ç»„ä»¶éƒ½ä¼šæ›´æ–°ï¼Œå­ç»„ä»¶çš„å­ç»„ä»¶ä¹Ÿä¼šæ›´æ–° HooksHooks æ˜¯ä»…åœ¨ React æ˜¾ç„¶çš„æ—¶å€™å¯ç”¨çš„å‡½æ•°ï¼Œéƒ½æ˜¯ä»¥useå¼€å¤´çš„ï¼Œæ¯”å¦‚useState setState è¯´æ˜1ï¸âƒ£ setState()æ•°æ®æ›´æ–°æ˜¯å¼‚æ­¥çš„ 123456789101112handleClick = () =&gt; { // 2. å†æ›´æ–° this.setState({ count: this.state.count + 1, // 1+1 }); // 2.1 å¦‚æœå†æ¬¡è°ƒç”¨ this.setState({ count: this.state.count + 1, // 1+1 }); // 1. å…ˆè¾“å‡º console.log(&quot;count: &quot;, this.state.count);}; setState()æ˜¯å¯ä»¥è°ƒç”¨å¤šæ¬¡çš„ï¼Œå› ä¸ºæ˜¯å¼‚æ­¥çš„åŸå› ï¼Œæ‰€ä»¥åé¢setState()çš„æ‰§è¡Œä¸è¦ä¾èµ–å‰é¢æ‰§è¡Œçš„ç»“æœ ä½†æ˜¯render()åªä¼šæ‰§è¡Œä¸€æ¬¡ 2ï¸âƒ£ æ¨èè¯­æ³•ï¼šsetState( (state, props) =&gt; {} ) 1234567891011121314151617handleClick = () =&gt; { // åŒæ ·ä¹Ÿæ˜¯å¼‚æ­¥æ›´æ–°çš„ this.setState((state, props) =&gt; { return { count: state.count + 1, // 1+1 }; }); // è°ƒç”¨ä¸¤æ¬¡çš„è¯ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œstateæ˜¯ä¸Šä¸€ä¸ªstateçš„è¿”å›ç»“æœ this.setState((state, props) =&gt; { console.log(&quot;ç¬¬äºŒæ¬¡è°ƒç”¨&quot;, state); return { count: state.count + 1, // 2+1 }; }); console.log(&quot;count: &quot;, this.state.count);}; 3ï¸âƒ£ setState()çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•° å¦‚æœå¸Œæœ›æ›´æ–°åæ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå›è°ƒå‡½æ•° åœ¨ DOM æ¸²æŸ“åæ‰§è¡Œï¼ˆå’ŒcomponentDidMountå¯ä»¥ç›¸äº’ä½¿ç”¨ï¼‰ 123456789101112handleClick = () =&gt; { this.setState( (state, props) =&gt; { return { count: state.count + 1 }; }, // çŠ¶æ€æ›´æ–°ï¼Œå¹¶ä¸”ç•Œé¢é‡æ–°æ¸²æŸ“åæ‰§è¡Œ () =&gt; { console.log(&quot;çŠ¶æ€æ›´æ–°å®Œæˆï¼&quot;, this.state.count); } // 2 ); console.log(&quot;count: &quot;, this.state.count); // 1}; JSX è¯­æ³•è½¬æ¢è¿‡ç¨‹ JSX ä»…ä»…æ˜¯createElement()çš„è¯­æ³•ç³–ï¼ˆç®€åŒ–è¯­æ³•ï¼‰ JSX è¯­æ³•è¢«@babel/preset-reactæ’ä»¶ç¼–è¯‘ä¸ºcreateElement()æ–¹æ³• 12graph LRA(JSXè¯­æ³•) --&gt; B(createElement) --&gt; C(Reactå…ƒç´ ) React å…ƒç´ ï¼šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥æè¿°å¸Œæœ›åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹ 1234567891011121314151617181920// JSXè¯­æ³•const element = { &lt;h1 className=&quot;app&quot;&gt;Hello&lt;/h1&gt;}// createElement()const element = React.createElement( &quot;h1&quot;, { className: &quot;app&quot; }, &quot;hello&quot;)// Reactå…ƒç´ ï¼ˆç®€åŒ–ç»“æ„ï¼‰const element = { type: &quot;h1&quot;, props: { className: &quot;app&quot;, children: &quot;hello&quot; }} åœ¨ ES6 ä¸­ï¼Œclass å®ç°çš„ç±»å°±æ˜¯ ES5 ä¸­æ„é€ å‡½æ•°å’ŒåŸå½¢çš„è¯­æ³•ç³–ï¼Œå¯ä»¥ä½¿ç”¨typeofæ¥æµ‹ä¸€ä¸‹ ç»„ä»¶æ€§èƒ½ä¼˜åŒ–å‡è½» state state ä¸­åªå­˜æ”¾è·Ÿç»„ä»¶æ¸²æŸ“ç›¸å…³çš„æ•°æ® æ¯”å¦‚åƒå®šæ—¶å™¨ id è¿™æ ·çš„ä¸ç”¨æ”¾åœ¨ state ä¸­ï¼Œç›´æ¥æ”¾åœ¨ this ä¸­ï¼ˆthis.timeId = setTimeout()ï¼‰ é¿å…ä¸å¿…è¦çš„æ¸²æŸ“1ï¸âƒ£ çˆ¶ç»„ä»¶æ›´æ–°å­ç»„ä»¶ä¹Ÿä¼šè·Ÿç€æ›´æ–°ï¼Œæœ‰æ—¶å€™å­ç»„ä»¶ä¼šè·Ÿç€æœ‰äº›ä¸å¿…è¦çš„æ›´æ–° ä½¿ç”¨é’©å­å‡½æ•°shouldComponentUpdate(nextProps, nextState)ï¼Œé€šè¿‡è¿”å›å€¼å†³å®šè¯¥ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ã€‚trueé‡æ–°ï¼Œfalseä¸é‡æ–° é’©å­å‡½æ•°è§¦å‘æ—¶æœºï¼šç»„ä»¶é‡æ–°æ¸²æŸ“å‰æ‰§è¡Œã€‚shouldComponentUpdate -&gt; render 12345678910111213141516171819202122232425262728293031323334class App extends React.Component { state = { count: 0 }; handleClick = () =&gt; { this.setState(state =&gt; { return { count: state.count + 1, }; }); }; shouldComponentUpdate(nextProps, nextState) { // è¿”å›falseï¼Œé˜»æ­¢ç»„ä»¶é‡æ–°æ¸²æŸ“ // return false // è·å¾—æœ€æ–°çŠ¶æ€ console.log(nextState); // è·å¾—å½“å‰çŠ¶æ€ console.log(this.state); // ä¸¾ä¸ªä¾‹å­ï¼ˆå‡è®¾è¿™é‡Œçš„countæ˜¯éšæœºçš„ï¼‰ if (nextState.count === this.state.count) { return false; } return true; } render() { console.log(&quot;ç»„ä»¶æ›´æ–°äº†&quot;); return ( &lt;div&gt; &lt;h1&gt;è®¡æ•°å™¨ï¼š{this.state.count}&lt;/h1&gt; &lt;button onClick={this.handleClick}&gt;+1&lt;/button&gt; &lt;/div&gt; ); }} çº¯ç»„ä»¶ PureComponentï¼Œå…¶å†…éƒ¨è‡ªåŠ¨å®ç°äº†shouldComponentUpdateé’©å­ï¼Œä¸éœ€è¦è¿›è¡Œæ‰‹åŠ¨æ¯”è¾ƒ ç»„ä»¶å†…éƒ¨é€šè¿‡åˆ†åˆ«å¯¹æ¯”å‰åä¸¤æ¬¡propså’Œstateçš„å€¼ï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ 1234// æ”¹ä¸ºçº¿é¢çš„å½¢å¼class App extends React.PureComponent { // TODO} çº¯ç»„ä»¶å†…éƒ¨çš„å®ç°æ–¹å¼ï¼šshallow conpareæµ…å±‚å¯¹æ¯”ã€‚ å¯¹äºå€¼ç±»å‹ï¼Œç›´æ¥å¤åˆ¶ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼š 12345// å¼•ç”¨ç±»å‹const obj = { number: 0 };const newObj = obj;newObj.number = 2;console.log(newObj === obj); // true æ¥ç€ä¸Šé¢çš„å¼•ç”¨ç±»å‹ï¼Œè‹¥æœåœ¨ React ä¸­ 12345state = { obj: { number: 0 } };// é”™è¯¯åšæ³•state.obj.number = 2;setState({ obj: state.obj });// PureComponentå†…éƒ¨æ¯”è¾ƒï¼šç½ªè¡Œçš„state.obj===ä¸Šæ¬¡çš„state.onjï¼Œè¿”å›trueï¼Œä¸é‡æ–°æ¸²æŸ“ â— æ‰€ä»¥ï¼šstateæˆ–propsä¸­å±æ€§çš„å€¼ä¸ºå¼•ç”¨ç±»å‹æ—¶ï¼Œåº”è¯¥åˆ›å»ºæ–°çš„æ•°æ®ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹åŸæ•°æ® 12345678910111213// æ­£ç¡®åšæ³•// åˆ›å»ºæ–°å¯¹è±¡const newObj = { ...this.state.obj, number: Math.floor(Math.random() * 3) };this.setState(() =&gt; { return { obj: newObj };});// å¦‚æœæ˜¯æ•°ç»„ï¼Œä¸ä½¿ç”¨pushï¼Œunshiftè¿™ç§åœ¨åŸå§‹æ•°ç»„ä¸Šæ“ä½œçš„æ–¹å¼// ä½¿ç”¨concatã€sliceè¿™ç§this.setState({ list: [...this.state.list, { æ–°æ•°æ® }],}); è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³• åªè¦stateå˜åŒ–å°±é‡æ–°æ¸²æŸ“è§†å›¾ï¼Œæœ‰æ—¶å€™ä¼šæµªè´¹æ€§èƒ½ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”¨åˆ°è™šæ‹Ÿ DOM å’Œ Diff ç®—æ³• è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œç”¨æ¥æè¿°å¸Œæœ›çœ‹åˆ°çš„å†…å®¹ã€‚ï¼ˆå®é™…ä¸Šå°±æ˜¯ jsx å¯¹è±¡ï¼‰ æ‰§è¡Œè¿‡ç¨‹ åˆæ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä¼šæ ¹æ®åˆå§‹ Stateã€‚åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡ï¼ˆæ ‘ï¼‰ æ ¹æ®è™šæ‹Ÿ DOM ç”ŸæˆçœŸæ­£çš„ DOM ç„¶åæ¸²æŸ“åˆ°é¡µé¢ä¸­ å½“æ•°æ®å˜åŒ–åï¼ˆsetState()ï¼‰ï¼Œé‡æ–°æ ¹æ®æ–°çš„æ•°æ®ï¼Œåˆ›å»ºæ–°çš„è™šæ‹Ÿ DOM å¯¹è±¡ ä½¿ç”¨diffç®—æ³•ï¼Œæ‰¾åˆ°ä¸ä¸Šä¸€ä¸ªè™šæ‹Ÿ DOM å¯¹æ¯”ï¼Œç„¶åæ¸²æŸ“éœ€è¦æ›´æ–°çš„å†…å®¹ ç„¶å React åªæ›´æ–°ï¼ˆpatchï¼‰å˜åŒ–çš„å†…å®¹ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸­ render æ–¹æ³•çš„è°ƒç”¨å¹¶ä¸æ„å‘³ç€æµè§ˆå™¨ä¸­çš„é‡æ–°æ›´æ–°ï¼Œä»…ä»…è¯´æ˜è¦è¿›è¡Œ diff è™šæ‹Ÿ DOM ä¸æ˜¯çœŸæ­£çš„ DOMï¼Œåªè¦å¯ä»¥è¿è¡Œ JavaScript çš„åœ°æ–¹å°±å¯ä»¥ä½¿ç”¨ï¼Œè¿™å°±ä½¿å¾— React å¯ä»¥è„±ç¦»æµè§ˆå™¨è€Œå­˜åœ¨ï¼Œå¯ä»¥åœ¨ Android å’Œ IOS ä¸­ä½¿ç”¨ HooksContext Hooks è¿œè·ç¦»ä¼ è¾“æ•°æ®ï¼Œä¸å±€é™äºçˆ¶å­ç»„ä»¶ï¼Œä¸ä½¿ç”¨ props Ref Hooks ä¿å­˜ä¸€äº›åœ¨æ¸²æŸ“ä¸­ä¸ä¼šç”¨åˆ°çš„æ•°æ®ï¼Œæ¯”å¦‚ DOM èŠ‚ç‚¹å’Œè®¡æ—¶å™¨çš„ ID æ›´æ–° ref ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ ä¸€èˆ¬ä¼šç”¨åˆ°é React ä½“ç³»ä¸­ Effect Hooks è®©ç»„ä»¶è¿æ¥åˆ°å¤–éƒ¨ç³»ç»Ÿï¼Œå¹¶ä¸ä¹‹åŒæ­¥ è·¯ç”±åŸºç¡€SPAï¼šå•é¡µåº”ç”¨ç¨‹åºï¼Œå°±æ˜¯åªæœ‰ä¸€ä¸ª HTML é¡µé¢çš„åº”ç”¨ç¨‹åºã€‚ç”¨æˆ·ä½“éªŒå¥½ï¼Œå¯¹æœåŠ¡å™¨å‹åŠ›å°ã€‚è·¯ç”±ï¼šå°±æ˜¯ç»„ä»¶å’Œ URL çš„å¯¹åº”å…³ç³»ï¼Œè®©ç”¨æˆ·åˆ°ä¸€ä¸ªè§†å›¾åˆ°å¦å¤–çš„è§†å›¾ä¸­ã€‚ åŸºæœ¬ä½¿ç”¨å®‰è£… 123npm install react-router-dom# æˆ–è€…yarn add react-router-dom å¯¼å…¥ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ 1import { BrowserRouter as Router, Route, Link } from &quot;react-router-dom&quot;; é™¤äº†BrowserRouterå¤–è¿˜æœ‰HashRouterï¼Œæ›¿æ¢æ‰å°±è¡Œï¼Œä¸è¿‡æ¨èä½¿ç”¨å‰è€…ï¼ˆä½¿ç”¨çš„æ˜¯ HTML5 çš„history APIï¼‰ ä½¿ç”¨&lt;Router&gt;ç»„ä»¶åŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼Œç„¶åä½¿ç”¨&lt;Link to=&quot;/xxx&quot;&gt;æŒ‡å®šè·¯ç”±å…¥å£ï¼Œä½¿ç”¨Routeç»„ä»¶æŒ‡å®šè·¯ç”±å‡ºå£ 123456789101112const First = () =&gt; { return &lt;div&gt;æˆ‘æ˜¯First&lt;/div&gt;;};const App = () =&gt; { &lt;Router&gt; &lt;div&gt; &lt;h1&gt;æˆ‘æ˜¯è·¯ç”±&lt;/h1&gt; &lt;Link to=&quot;/first&quot;&gt;é¡µé¢ä¸€&lt;/Link&gt; &lt;Route path=&quot;/first&quot; component={First}&gt;&lt;/Route&gt; &lt;/div&gt; &lt;/Router&gt;;}; &lt;Link&gt;æœ€ç»ˆç¼–è¯‘æˆ&lt;a&gt;ï¼Œto è¢«ç¼–è¯‘æˆ hrefï¼›å¯ä»¥é€šè¿‡location.pathnameå¾—åˆ° to &lt;Route&gt;çš„ä½ç½®åœ¨å“ªï¼Œå°±åœ¨å“ªä¸ªä½ç½®æ¸²æŸ“ ç¼–ç¨‹å¼å¯¼èˆª å°±æ˜¯é€šè¿‡ JavaScript ä»£ç æ¥å®ç°é¡µé¢è·³è½¬ 123456789101112131415161718192021222324252627282930313233343536373839class Login extends React.Component { handleLogin = () =&gt; { // .... // push è·³è½¬åˆ°æŸä¸ªé¡µé¢ this.props.history.push(&quot;/home&quot;); }; render() { return ( &lt;div&gt; &lt;p&gt;ç™»å½•é¡µé¢&lt;/p&gt; &lt;button onClick={handleLogin}&gt;ç™»å½•&lt;/button&gt; &lt;/div&gt; ); }}const Home = props =&gt; { const handleBack = () =&gt; { // è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ props.history.go(-1); }; return ( &lt;div&gt; &lt;h2&gt;æˆ‘æ˜¯åå°é¦–é¡µ&lt;/h2&gt; &lt;button onClick={handleLogin}&gt;è¿”å›ç™»å½•é¡µé¢&lt;/button&gt; &lt;/div&gt; );};const App = () =&gt; ( &lt;Router&gt; &lt;div&gt; &lt;h1&gt;ç¼–ç¨‹å¼å¯¼èˆª&lt;/h1&gt; &lt;Link to=&quot;/login&quot;&gt;å»ç™»å½•é¡µé¢&lt;/Link&gt; &lt;Route path=&quot;/login&quot; component={Login}&gt;&lt;/Route&gt; &lt;Route path=&quot;/home&quot; component={Home}&gt;&lt;/Route&gt; &lt;/div&gt; &lt;/Router&gt;); é»˜è®¤è·¯ç”±ï¼šè¿›å…¥é¡µé¢æ—¶å°±ä¼šåŒ¹é…çš„è·¯ç”±ï¼Œä½¿ç”¨/ï¼Œåé¢ä¸åŠ å†…å®¹ 1&lt;Route path=&quot;/&quot;, component={Home}&gt;&lt;/Route&gt; åŒ¹é…æ¨¡å¼æ¨¡ç³ŠåŒ¹é…æ¨¡å¼ é»˜è®¤æƒ…å†µä¸‹ React ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…æ¨¡å¼ æ¨¡ç³ŠåŒ¹é…è§„åˆ™ï¼šåªè¦ pathname ä»¥/å¼€å¤´å°±ä¼šåŒ¹é…æˆåŠŸ 123456789&lt;Route&gt; &lt;div&gt; &lt;h1&gt;é»˜è®¤è·¯ç”±&lt;/h1&gt; &lt;Link to=&quot;/login&quot;&gt;ç™»å½•é¡µé¢&lt;/Link&gt; &lt;Route path=&quot;/&quot; component={Home}&gt;&lt;/Route&gt; &lt;Route path=&quot;/login&quot; component={Login}&gt;&lt;/Route&gt; &lt;/div&gt;&lt;/Route&gt; ä¸ç®¡&lt;Link&gt;ä¸­çš„ to é‡Œé¢çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼ˆto=â€/aâ€ï¼Œto=â€/abcâ€ï¼‰ï¼Œ&lt;Route path=&quot;/&quot;&gt;éƒ½ä¼šè¢«åŒ¹é…åˆ° åŒæ ·ï¼Œto=&quot;/login/a/b&quot;ä¹Ÿèƒ½åŒ¹é…åˆ°path=&quot;/first&quot; ç²¾ç¡®æ¨¡å¼ ç»™&lt;Route&gt;æ·»åŠ exactå±æ€§ 1&lt;Route exact path=&quot;/login&quot; component={Login}&gt;&lt;/Route&gt; æ¨èä½¿ç”¨ç²¾ç¡®æ¨¡å¼ å…¶ä»–ä¸€äº›ç½‘ç«™ç»„ä»¶ chakra UI Material UI ä¸€äº›åº“immerï¼šä¿®æ”¹stateçš„å¥½å¸®æ‰‹ï¼Œæ¯”å¦‚å¯¹äºåµŒå¥—å¥½æ·±çš„å¯¹è±¡ NOTE ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé”™è¯¯éƒ½å¯ä»¥åœ¨é¡µé¢æŠ¥é”™ä¿¡æ¯ä¸­æ‰¾åˆ°","link":"/2021/06/10/react/"},{"title":"webå®‰å…¨","text":"","link":"/2021/07/10/web%E5%AE%89%E5%85%A8/"},{"title":"webpack","text":"webpackï¼Œå‰ç«¯å·¥ç¨‹åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚ ä»£ç å‹ç¼©ã€å¤„ç†æµè§ˆå™¨ç«¯å¯¹ JavaScript çš„å…¼å®¹ åŸºæœ¬ä½¿ç”¨åœ¨ä½¿ç”¨ webpack ä¹‹å‰ï¼Œå…ˆ npm init ç”Ÿæˆ package.json æ–‡ä»¶ç„¶åå®‰è£… webpack å’Œ webpack-cliï¼Œnpm install webpack webpack-cli -D è¿™é‡Œ-Dæˆ–è€…--save--devè¡¨ç¤ºå°†åŒ…è®°å½•åœ¨package.jsonä¸­çš„devDependenciesï¼ˆä»…åœ¨å¼€å‘é˜¶æ®µç”¨åˆ°ï¼‰èŠ‚ç‚¹ä¸‹ -Sæˆ–è€…--saveè¡¨ç¤ºè®°å½•åœ¨dependencies (å¼€å‘é˜¶æ®µå’Œéƒ¨ç½²é˜¶æ®µéƒ½è¦ç”¨åˆ°) èŠ‚ç‚¹ä¸‹ ç”¨-Sæˆ–-Dåœ¨ npm å®˜ç½‘å¯ä»¥çœ‹åˆ°ã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥åœ¨åŒ…åå‰ï¼Œä¹Ÿå¯åœ¨åŒ…åå åœ¨æ ¹ç›®å½•åˆ›å»ºé…ç½®æ–‡ä»¶ webpack.config.js ï¼Œåˆå§‹è¯é…ç½®æ–‡ä»¶ 123module.exports = { mode: &quot;development&quot;,}; å…¶ä¸­ mode ç”¨æ¥æŒ‡å®šå¯¼æŠ¥æ¨¡å¼ development æ¨¡å¼ä¸ä¼šå‹ç¼©ä»£ç ï¼Œproduction æ¨¡å¼åˆ™ä¼šå‹ç¼©ä»£ç ã€‚æ‰€ä»¥å‰è€…é€‚ç”¨äºå¼€å‘æ¨¡å¼ï¼Œåè€…é€‚ç”¨äºå‘å¸ƒä¸Šçº¿ åœ¨ package.json é…ç½®æ–‡ä»¶ä¸­çš„ script èŠ‚ç‚¹ä¸‹å¢åŠ  dev è„šæœ¬ 123&quot;scripts&quot;: { &quot;dev&quot;: &quot;webpack&quot;} devï¼šéšä¾¿å–ã€‚webpackï¼šè¦æ‰§è¡Œçš„åŠ¨ä½œï¼Œå­—ç¬¦ä¸²çš„å½¢å¼ scripts èŠ‚ç‚¹ä¸‹çš„è„šæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ npm run æ¥æ‰§è¡Œã€‚æ¯”å¦‚è¿™é‡Œæ˜¯ 1npm run dev è¿™æ ·ä¸€ä¸ªç®€å•çš„ webpack æ‰“åŒ…å°±å®Œæˆäº†ï¼Œæ‰“åŒ…é»˜è®¤ç”Ÿæˆçš„æ–‡ä»¶æ˜¯ main.js åœ¨è¿è¡Œnpm run devä¹‹å‰ï¼Œä¼šå…ˆè¯»å–webpack.config.jsé‡Œé¢çš„é…ç½®å†…å®¹ é…ç½®å…¥å£å‡ºå£é…ç½®é»˜è®¤å…¥å£æ–‡ä»¶ä½ç½®æ˜¯**./src/ï¼Œå‡ºå£./dis/** é…ç½®æ‰“åŒ…çš„å…¥å£å’Œå‡ºå£ã€‚åœ¨ webpack.config.js ä¸­ 123456789const path = require(&quot;path&quot;);module.exports = { /* ... */ entry: path.join(__dirname, &quot;è¦æ‰“åŒ…çš„æ–‡ä»¶è·¯å¾„åŠæ–‡ä»¶&quot;), output: { path: path.join(__dirname, &quot;./dist&quot;), // æ–‡ä»¶è¾“å‡ºè·¯å¾„ filename: &quot;bundle.js&quot;, // è¾“å‡ºçš„æ–‡ä»¶åï¼ˆä¸æ˜¯å›ºå®šåç§°ï¼‰ },}; è‡ªåŠ¨æ‰“åŒ…webpack è‡ªåŠ¨æ‰“åŒ…ï¼Œä¿®æ”¹åä¿å­˜ï¼Œè‡ªåŠ¨åˆ·æ–°æ–‡ä»¶ï¼Œæ¯”å¦‚ cssã€‚å®‰è£…è‡ªåŠ¨æ‰“åŒ…å·¥å…· 1npm install webpack-dev-server -D è¿™ä¸ªæ’ä»¶ç”Ÿæˆçš„bundle.jsä¸åœ¨ç£ç›˜ä¸Šï¼Œè€Œæ˜¯åœ¨å†…å­˜ä¸Šï¼Œæ‰€ä»¥çœ‹ä¸åˆ°ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥ url æŸ¥çœ‹ã€‚è¦å¼•ç”¨ï¼Œåœ¨ HTML æ–‡ä»¶ä¸­&lt;script src=&quot;./bundle.js&quot;&gt;&lt;/script&gt; åœ¨ webpack.config.js ä¸­ 12345devServer: { open: true, host: '127.0.0.1', port: 8080} åœ¨ package.json ä¸­ 1&quot;dev&quot;: &quot;webpack server&quot; æˆ–è€…ï¼š --open è¡¨ç¤ºæ‰“åŒ…åˆ›å»ºæœåŠ¡å™¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚ --host é…ç½® IP åœ°å€ --port é…ç½®ç«¯å£ â€œwebpack-dev-server â€“open â€“host 127.0.0.1 â€“port 8080â€ å…¶ä»–ä¸Šé¢é…ç½®åï¼Œæµè§ˆå™¨æ‰“å¼€å¯¹åº” url å’Œç«¯å£åï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œä¸€ä¸‹é…ç½®æ‰“å¼€æµè§ˆå™¨åé»˜è®¤æ˜¾ç¤ºçš„é¡µé¢ï¼ˆå¤åˆ¶é¡µé¢åˆ°æ ¹ç›®å½•ï¼‰ æ­¤å¤–ï¼Œè¿™ä¸ªæ’ä»¶ä¼šè‡ªåŠ¨åœ¨å…¥å£çš„index.htmlä¸­çš„&lt;head&gt;é‡Œé¢æ’å…¥&lt;script defer src=&quot;bundle.js&quot;&gt;&lt;/script&gt; npm install html-webpack-plugin -D å®‰è£…ç”Ÿæˆé¢„è§ˆé¡µé¢çš„æ’ä»¶ã€‚ åœ¨ webpack.config.js æ–‡ä»¶ä¸­ 12345const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);const htmlPlugin = new HtmlWebpackPlugin({ template: &quot;./src/index.html&quot;, filename: &quot;./index.html&quot;, // è¯¥æ–‡ä»¶ç”Ÿæˆåœ¨å†…å­˜ä¸­ï¼Œåœ¨ç›®å½•ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥}); åœ¨ webpack.config.js çš„æš´éœ²ä¸­æ·»åŠ é…ç½®èŠ‚ç‚¹ 1234module.exports = { /* ... */ plugins: [htmlPlugin],}; plugins æ•°ç»„æ˜¯ webpack æ‰“åŒ…æœŸé—´ä¼šç”¨åˆ°çš„ä¸€äº›æ’ä»¶åˆ—è¡¨ æµè§ˆå™¨ä¸­å±•ç¤ºçš„é¡µé¢ä¸æ˜¯srcä¸‹çš„æ–‡ä»¶ï¼Œè€Œæ˜¯å†…å­˜ä¸­çš„æ–‡ä»¶ webpack ä¸­çš„åŠ è½½å™¨ webpack é»˜è®¤åªèƒ½å¤„ç† .js ç»“å°¾çš„æ¨¡å—ï¼Œè¦æ‰“åŒ…å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œéœ€è¦è°ƒç”¨ loader åŠ è½½å™¨ webpack æ‰“åŒ…å¤„ç†è¿‡ç¨‹ï¼š æ‰“åŒ… css æ–‡ä»¶ å®‰è£… css æ–‡ä»¶ loader 1npm install style-loader css-loader -D åœ¨ webpack.config.js ä¸­çš„ module ä¸­ é…ç½® _rules_ï¼Œæ·»åŠ åŒ¹é…è§„åˆ™ 123module: { rules: [{ test: /\\.css$/, use: [&quot;style-loader&quot;, &quot;css-loader&quot;] }];} test æ ‡è¯†æ–‡ä»¶ç±»å‹ï¼Œuse æ ‡è¯†è¦ä½¿ç”¨çš„ loader loader æ˜¯æœ‰é¡ºåºçš„ï¼Œä»å³å¾€å·¦ï¼Œæ˜¯ä¾èµ–å…³ç³» æ‰“åŒ… less æ–‡ä»¶ npm install less-loader -D 12345module: { rules: [ { test: /\\.less$/, use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;less-loader&quot;] }, ];} æ³¨æ„ï¼Œä½¿ç”¨ less ä¹‹å‰è¦å…ˆå®‰è£… lessã€‚npm install less &gt; less-loader è¦ä¾èµ–äº css-loader less çš„æ ¼å¼ï¼š 123456body { background-color: darkcyan; ul { font-size: 23px; }} æ‰“åŒ…å¤„ç† scss æ–‡ä»¶ npm install sass-loader node-sass -D ï¼Œå®‰è£…çš„æ—¶å€™æ˜¯ sass_ï¼Œä½†åç¼€åæ˜¯ _scss 12345module: { rules: [ { test: /\\.scss$/, use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;scss-loader&quot;] }, ];} é…ç½® postCSS è‡ªåŠ¨æ·»åŠ  css çš„æµè§ˆå™¨å…¼å®¹å‰ç¼€ npm i postcss-loader autoprefixer -D æ ¹ç›®å½•åˆ›å»º postcss.config.js æ–‡ä»¶ï¼Œé…ç½®ï¼š 1234const autoprefixer = require(&quot;autoprefixer&quot;);module.exports = { plugins: [autoprefixer], // æŒ‚è½½æ’ä»¶}; åœ¨ webpack.config.js ä¸­æ·»åŠ åŒ¹é…è§„åˆ™ï¼Œä¾èµ–äº cssï¼š 12345module: { rules: [ { test: /\\.scss$/, use: [&quot;style-loader&quot;, &quot;css-loader&quot;, &quot;postcss-loader&quot;] }, ];} æ‰“åŒ…å›¾ç‰‡å’Œå­—ä½“ npm i url-loader file-loader -D åœ¨ webpack.config.js ä¸­æ·»åŠ åŒ¹é…è§„åˆ™: 12345module: { rules: [ { test: /\\.jpg|png|gif|bmp|ttf|svg$/, use: &quot;url-loader?limit=10000&quot; }, ];} è¿™é‡Œä¸éœ€è¦å…¶ä»–çš„ loader æ”¯æŒï¼Œæ‰€ä»¥ä¸ç”¨å¼•å…¥ã€‚ä¸€ä¸ªå€¼æ—¶å¯ä»¥å§æ•°ç»„å»æ‰ï¼Œ? ä¹‹åæ˜¯ loader çš„å‚æ•°ï¼Œ limit æŒ‡å®šå›¾ç‰‡çš„å¤§å°ï¼Œå•ä½æ˜¯å­—èŠ‚ï¼Œå½“å¼ ç‰‡å°äº limit çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¼šè¢«è½¬åŒ– wei base64ï¼Œï¼ˆå›¾ç‰‡ url æ”¹å˜äº†ï¼‰ æ‰“åŒ…å¤„ç† js ä¸­çš„é«˜çº§è¯­æ³• å®‰è£… babel è½¬æ¢å™¨ç›¸å…³çš„åŒ…ï¼šnpm i babel-loader @babel/core @babel/plugin-proposal-decorators -D åœ¨æ ¹ç›®å½•åˆ›å»º babel é…ç½®æ–‡ä»¶ babel.config.jsï¼Œé…ç½®ï¼š 123module.exports = { plugins: [[&quot;@babel/plugin-proposal-decrators&quot;, { legacy: true }]],}; åœ¨ webpack.config.js ä¸­ï¼Œæ·»åŠ  loader è§„åˆ™ï¼š 1{test: /\\.js$/, use: &quot;babel-loader&quot;, exclude: /node_modules/} exclude è¡¨ç¤ºåœ¨ babel-loader å¤„ç†çš„æ—¶å€™è¦æ’é™¤çš„æ–‡ä»¶ å¯¹åº”ä¸åŒçš„æ’ä»¶é…ç½®ä¸åŒï¼Œå» babel çš„å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ webpack ä¸­ä½¿ç”¨ Vue $ npm install vue -S åœ¨å…¥å£æ–‡ä»¶ index.js ä¸­ï¼Œimport Vue from â€œvueâ€ å¯¼å…¥ Vue åˆ›å»º vue å®ä¾‹å¯¹è±¡ ç»„ä»¶ä¸­è¦æœ‰ä¸€ä¸ªæ ¹ç»„ä»¶ï¼ŒApp.vue ä½¿ç”¨ render å‡½æ•°æ¸²æŸ“ APP æ ¹ç»„ä»¶ 123456import Vue from &quot;vue&quot;;import App from &quot;./components/App.vue&quot;;const vm = new Vue({ el: &quot;#app&quot;, render: (h) =&gt; h(App),}); App.vue å’Œå…¶è·¯å¾„æ˜¯æ ¹æ®æƒ…å†µè€Œå®š webpack æ‰“åŒ… vueï¼Œä½¿ç”¨ render å‡½æ•°æ¸²æŸ“ï¼Œåœ¨å±€éƒ¨ä¸­ä¸ä½¿ç”¨ componentsï¼Œè¿™æ˜¯å› ä¸º webpack ä¸­å¯¼å…¥çš„ vue ä¸æ˜¯å®Œæ•´çš„ vue render å‡½æ•°ï¼š webpack é…ç½® Vue å•æ–‡ä»¶ç»„ä»¶ loader npm i vue-loader vue-template-compiler -D åœ¨ webpack.config.js ä¸­ï¼Œæ·»åŠ  loader è§„åˆ™ï¼š 1234567const VueLoaderPlugin = require(&quot;vue-loader/lib/plugin&quot;);module.exports = { module: { rules: [{ test: /\\.vue$/, loader: &quot;vue-loader&quot; }], }, plugins: [new VueLoaderPlugin()],}; webpack æ‰“åŒ…å‘å¸ƒä¸Šçº¿ä¹‹å‰è¦é€šè¿‡ webpack å°†åº”ç”¨è¿›è¡Œæ•´ä½“æ‰“åŒ…ï¼ˆä»å†…å­˜åˆ°ç£ç›˜ï¼‰ï¼Œåœ¨ package.json ä¸­: 123&quot;scripts&quot;: { &quot;build&quot;: &quot;webpack --mode production&quot;} æ•´ç†æ–‡ä»¶ å°†æ–‡ä»¶åˆ†ç±»ä¿å­˜ åœ¨ webpack.config.js ä¸­ 1234output: { path: path.join(__dirname, &quot;dist&quot;), filename: 'js/bundle.js'} å›¾ç‰‡å­˜æ”¾ä½ç½®é…ç½®ï¼Œåœ¨å¤„ç†å›¾ç‰‡çš„loaderä¸­ 123{ test: /\\.jpg|png|gif|bmp|ttf|svg$/, use: &quot;url-loader?limit=10000&amp;outputPath=image&quot;}, å…¶ä»–ï¼š è‡ªåŠ¨æ¸…é™¤distæ–‡ä»¶å¤¹ï¼Œåœ¨ npm æŸ¥æ‰¾æ’ä»¶clean-webpack-pluginï¼ŒæŒ‰ç…§æ–‡æ¡£åŒ¹é… source map è§£å†³æ‰“åŒ…åä»£ç æ‰€å¤„è¡Œå’Œæºä»£ç æ‰€å¤„è¡Œçš„ä½ç½®ä¿¡æ¯ä¸ä¸€è‡´ åœ¨å¼€å‘æ—¶ï¼Œä¿®æ”¹ webpack çš„é…ç½®æ–‡ä»¶ï¼ŒåŠ å…¥devtool: 'eval-source-map'ï¼Œæµè§ˆå™¨å‡ºç°çš„æŠ¥é”™è¡Œæ•°å’Œç°å®å¼€å‘ä¸­çš„è¡Œæ•°æ˜¯å¯¹åº”çš„ã€‚ åœ¨å‘å¸ƒåï¼Œè¦å–æ¶ˆè¿™ä¸ªåŠŸèƒ½ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶åªæœ‰ä¸€è¡Œï¼Œä¸ä¼šå¯¹åº”åˆ°åœ¨å“ªè¡Œå‡ºé”™ï¼Œå¤„äºå®‰å…¨æ€§è€ƒè™‘ åªæ ‡è®°è¡Œå·ï¼Œä¸æš´éœ²æºä»£ç ï¼Œä¿®æ”¹ä¸ºdevtool: 'nosource-source-map' å…¶ä»–å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå°‘ä¼šæ‰‹åŠ¨é…ç½® webpack ï¼Œä¸€èˆ¬ä¼šé€šè¿‡å…¶ä»–çš„è„šæ‰‹æ¶ç”Ÿæˆã€‚ å¯ç”¨@ä»£æ›¿srcï¼Œæ·»åŠ é…ç½® 12345resolve: { alias: { '@': path.join(__dirname, './src') }}","link":"/2020/04/18/webpack-D1/"},{"title":"Vuexå­¦ä¹ ","text":"Vuex æ˜¯å®ç°ç»„ä»¶å…¨å±€çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°ç»„ä»¶ä¹‹é—´æ•°æ®çš„å…±äº« ä¼ ç»Ÿç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®çš„æ–¹å¼ï¼š çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼šv-bind å±æ€§ç»‘å®š å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ï¼šv-on äº‹ä»¶ç»‘å®š å…„å¼Ÿç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®ï¼šEventBus $onï¼šæ¥æ”¶æ•°æ®çš„ç»„ä»¶ $emitï¼šå‘é€æ•°æ®çš„ç»„ä»¶ ä½¿ç”¨ Vuex è¿™ä¸ªçŠ¶æ€ç®¡ç†æ¨¡å¼ï¼š åœ¨ Vuex ä¸­é›†ä¸­ç®¡ç†å…±äº«çš„æ•°æ®ï¼Œæ˜“äºå¼€å‘å’ŒåæœŸç»´æŠ¤ èƒ½å¤Ÿé«˜æ•ˆåœ°å®ç°ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œæé«˜å¼€å‘æ•ˆç‡ å­˜å‚¨åœ¨ Vuex ä¸­çš„æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ï¼Œèƒ½å¤Ÿå®æ—¶ä¿æŒæ•°æ®ä¸é¡µé¢çš„åŒæ­¥ ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Vuex ï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®æ‰æœ‰å¿…è¦ä½¿ç”¨ Vuexï¼Œå¦‚æœæ˜¯ç»„ä»¶çš„ç§æœ‰æ•°æ®ï¼Œä¿å­˜åœ¨ç»„ä»¶è‡ªå·±çš„ data ä¸­å°±å¥½äº† å¦‚æœä¸æ˜¯å¤§å‹çš„å•é¡µé¢åº”ç”¨ï¼Œä½¿ç”¨ Vuex å¯èƒ½æ˜¯ç¹çå†—ä½™çš„ã€‚ç®€å•çš„é¡¹ç›®å°±ä¸ç”¨ä½¿ç”¨äº†ã€‚ åŸºæœ¬ä½¿ç”¨å®‰è£… Vuex ä¾èµ–åŒ… npm install vuex --save å¯¼å…¥ 12import Vuex from &quot;vuex&quot;;Vue.use(Vuex); åˆ›å»º store å¯¹è±¡ 12345const store = new Vuex.Store({ state: { count: 0, },}); å°† store å¯¹è±¡æŒ‚è½½åˆ° Vue å®ä¾‹ä¸­ 123456new Vue({ el: &quot;#app&quot;, render: (h) =&gt; h(app), router, store,}); ä¹Ÿå¯ä»¥åœ¨è„šæ‰‹æ¶ç›´æ¥åˆ›å»º æ ¸å¿ƒæ¦‚å¿µæ ¸å¿ƒæ¦‚å¿µæœ‰ï¼šstateã€mutationã€getterã€actionã€‚è¦è®¿é—®å®ƒä»¬ï¼Œå„è‡ªéƒ½æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯æ­£å¸¸ä½¿ç”¨ï¼Œç¬¬äºŒç§æ˜¯åœ¨è¦ä½¿ç”¨æ•°æ®çš„ç»„ä»¶ä¸­å¯¼å…¥ mapXXX å‡½æ•° Statestate æä¾›å”¯ä¸€çš„å…¬å…±æ•°æ®æºï¼Œæ‰€æœ‰å…±äº«çš„æ•°æ®æ”¾åˆ° store ä¸­çš„ state ä¸­ã€‚ç±»ä¼¼äº data åœ¨ Vuex çš„å…¥å£æ–‡ä»¶ä¸­åˆ›å»º Vuex å¯¹è±¡åï¼Œåˆ›å»º Vuex å¯¹è±¡ ç»„ä»¶ä¸­è¦è®¿é—® state ä¸­æ•°æ®çš„ æ–¹æ³• â‘ ï¼š 1this.$store.state.å…¨å±€æ•°æ®åç§°; åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­ä½¿ç”¨ä¸Šé¢ä»£ç æ—¶ï¼Œthis å¯ä»¥çœç•¥ 1&lt;h1&gt;æ•°å€¼ï¼š{{ $store.state.count }}&lt;/h1&gt; æ–¹æ³• â‘¡ ä» Vuex ä¸­æŒ‰éœ€å¯¼å…¥mapState å‡½æ•° 1import { mapState } from &quot;vuex&quot;; ç„¶åé€šè¿‡è¿™ä¸ªå¯¼å…¥çš„å‡½æ•°ï¼Œå°†å½“å‰ç»„ä»¶éœ€è¦çš„å…¨å±€æ•°æ®æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„è®¡ç®—å±æ€§ computed 123computed: { ...mapState(['count'])} ... å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ mapState è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¦å°†å®ƒä¸å±€éƒ¨è®¡ç®—å±æ€§æ··åˆä½¿ç”¨ï¼Œå°±éœ€è¦å°†å¤šä¸ªå¯¹è±¡åˆå¹¶æˆä¸€ä¸ªã€‚æ‰€ä»¥è¿™é‡Œä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ï¼ˆä¸çŸ¥é“æ€ä¹ˆç¿»è¯‘ï¼Œå°±è¿™æ ·å§ï¼‰ Reset Properties 12let { x, y, ...z } = { x: 1, y: 2, a: 3, b: 4 };// x:1, y:2, z: {a: 3, b:4} Spread Properties 12let n = { x, y, ...z };n; // {x: 1, y: 2, a: 3, b: 4} æ–¹æ³• â‘¡ ä¾‹å­ åœ¨éœ€è¦çš„ç»„ä»¶ä¸­å¼•å…¥ mapState 1import { mapState } from &quot;vuex&quot;; åœ¨å½“å‰ç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§å®šä¹‰ 1...mapState( [&quot;count&quot;] ) åœ¨ html ä¸­ä½¿ç”¨ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰ 1&lt;h3&gt;{ count }&lt;/h3&gt; Mutationæ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€ï¼ˆæ•°æ®ï¼‰çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚ç±»ä¼¼äºäº‹ä»¶ å®šä¹‰åœ¨ Vuex çš„å…¥å£æ–‡ä»¶ä¸­ 123456789101112131415const store = new Vuex.Store({ state: { count: 0 }, mutations: { // æ²¡æœ‰å‚æ•° add(state) { state.count++ }ï¼Œ // æºå¸¦å‚æ•° addN(state, step){ state.count += step } }}) è§¦å‘æœ‰ä¸¤ç§æ–¹æ³•ï¼šthis.$store.commit() å’Œ mapMutations æ–¹æ³• â‘  åœ¨ è¦ä½¿ç”¨åˆ°çš„ç»„ä»¶ é‡Œé¢ é‡Œé¢å…ˆè¦æœ‰å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ¯”å¦‚ addBtn äº‹ä»¶ 12345678methods: { addBtn() { this.$store.commit(&quot;add&quot;) }, addNBtn() { this.$store.commit(&quot;addN&quot;, 3) }} commit é‡Œé¢å¯¹åº”çš„å‚æ•°å°±æ˜¯åœ¨ mutation é‡Œé¢å®šä¹‰çš„å†…å®¹ æ–¹æ³• â‘¡ ä»éœ€è¦çš„ç»„ä»¶ä¸­æŒ‰éœ€å¯¼å…¥ mapMutations å‡½æ•° 1import { mapMutations } from &quot;vuex&quot;; é€šè¿‡å±•å¼€è¿ç®—ç¬¦å°† mutations ä¸­çš„å‡½æ•°æ˜ å°„ä¸ºå½“å‰ç»„ä»¶ä¸­çš„ methods 123methods: { ...mapMutations( ['add', 'addN'] )} ç„¶ååœ¨ methods ä¸­åŠ å…¥å¯¹åº”çš„æ—¶é—´å¤„ç†å‡½æ•°ï¼Œæ¯”å¦‚æ˜¯é¡µé¢çš„ addBtn å’Œ addNBtn 123456789methods: { ...mapMutations( ['add', 'addN'] ), addBtn() { this.add() }, addNBtn() { this.addN(3) }} å…¶å®æ˜¯å¯ä»¥ç›´æ¥è°ƒç”¨æ˜ å°„æ¥çš„æ–¹æ³•çš„ï¼Œå› ä¸ºå®ƒæœ¬æ¥å°±æ˜¯æ˜ å°„è¿‡æ¥çš„æ–¹æ³•ï¼Œä¸ç”¨åœ¨å¦å¤–çš„æ–¹æ³•é‡Œé¢è°ƒç”¨ä¹Ÿè¡Œ ActionAction ç±»ä¼¼äº Mutationï¼Œä½†ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œï¼Œæ˜¯é€šè¿‡è§¦å‘ Mutation æ¥ä¿®æ”¹æ•°æ® å®šä¹‰12345678910111213141516171819202122232425const store = new Vuex.Store({ state: { count: 0, }, mutations: { add(state) { state.count++; }, addN(state, step) { state.count += step; }, }, actions: { addAsync(context) { setTimeOut(() =&gt; { context.commit(&quot;add&quot;); }, 1000); }, addNAsync(context, step) { setTimeOut(() =&gt; { context.commit(&quot;addN&quot;, step); }, 1000); }, },}); è¿™é‡Œçš„ commit ä¸­çš„å‡½æ•°åªèƒ½æ˜¯åœ¨ mutation ä¸­çš„å‡½æ•°ï¼Œä½¿ç”¨ context æ¥è°ƒç”¨ è§¦å‘æ–¹æ³• â‘  åœ¨éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ä¸­ 12345678methods: { addBtn() { this.$store.dispatch(&quot;addAsync&quot;) }, addNBtn() { this.$store.dispatch(&quot;addNAsync&quot;, 3) }} æ–¹æ³• â‘¡ å¯¼å…¥æ¨¡å— mapActions 1import { mapActions } from &quot;vuex&quot;; å°†éœ€è¦çš„å‡½æ•°æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„ methods 123456789methods: { ...mapActions( ['addAsync', 'addNAsync'] ) addBtnAsync() { this.addAsync() } addNBtnAsync() { this.addNasync(3) }} ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸ç”¨å¦å¤–å†åœ¨é¡µé¢å£°æ˜ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°æ¥è°ƒç”¨ ç›´æ¥è°ƒç”¨ ...mapActions æ˜ å°„è¿‡æ¥çš„æ–¹æ³• 1&lt;button @click=&quot;addNAsync(3)&quot;&gt;åŠ N&lt;/button&gt; Getteræœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä» store ä¸­çš„ state ä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€(æ•°æ®)ï¼Œgetter å°±æ˜¯å¯¹ store ä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥åå½¢æˆæ–°çš„æ•°æ®ï¼Œç±»ä¼¼äºè®¡ç®—å±æ€§ store ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œgetter çš„æ•°æ®ä¹Ÿä¼šè·Ÿç€å˜åŒ– å®šä¹‰åœ¨ Vuex çš„å…¥å£æ–‡ä»¶ä¸­ 12345678910const store = new Vuex.Store({ state: { count: 0, }, getters: { showNum: function (state) { return &quot;å½“å‰çš„æ•°å€¼æ˜¯&quot; + state.count; }, },}); è§¦å‘æ–¹æ³• â‘  1this.$store.getters.åç§°; æ–¹æ³• â‘¡ ä½¿ç”¨ mapGetters 1import { mapGetters } from &quot;vuex&quot;; æ˜ å°„åœ¨å½“å‰çš„è®¡ç®—å±æ€§ä¸­ 123computed: { ...mapGetters( ['showNum'] )} ä¾‹å¦‚ 1234&lt;!--æ­£å¸¸ä½¿ç”¨æ•°æ®--&gt;&lt;h3&gt;å½“å‰çš„æ•°å€¼æ˜¯ï¼š{{ $store.state.count }}&lt;/h3&gt;&lt;!--ä½¿ç”¨ mapGetters çš„æ—¶å€™--&gt;&lt;h3&gt;{{ showNum }}&lt;/h3&gt; æ¡ˆä¾‹ä»£ç Github","link":"/2020/07/18/vuex%E5%AD%A6%E4%B9%A0/"},{"title":"åŠªåŠ›å­¦ä¹ ","text":"éšç¬”æµ‹è¯• :100:æµ‹è¯• :two:æµ‹ :four:è¯• :kissing:","link":"/2020/07/21/%E5%8A%AA%E5%8A%9B%E5%AD%A6%E4%B9%A0/"},{"title":"å‰ç«¯é‡Œçš„å„ç§ä½ç½®","text":"å…ƒç´ æ‰€å¤„ä½ç½®ï¼Œé¼ æ ‡äº‹ä»¶ä½ç½® å…ƒç´ åŸºç¡€å±æ€§scrollTopï¼šElement.scrollTop å±æ€§å¯ä»¥è·å–æˆ–è®¾ç½®ä¸€ä¸ªå…ƒç´ çš„å†…å®¹å‚ç›´æ»šåŠ¨çš„åƒç´ æ•°ã€‚ scrollLeftï¼šElement.scrollLeft å±æ€§å¯ä»¥è¯»å–æˆ–è®¾ç½®å…ƒç´ æ»šåŠ¨æ¡åˆ°å…ƒç´ å·¦è¾¹çš„è·ç¦»ã€‚ offsetParentï¼šåªè¯»ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´  æˆ–è€…æœ€è¿‘çš„table, td, th, bodyå…ƒç´ ã€‚å½“å…ƒç´ display: none;çš„æ—¶å€™ï¼ŒoffsetParent è¿”å›nullã€‚ offsetTopï¼šåªè¯»ï¼Œè¿”å›å½“å‰å…ƒç´ ç›¸å¯¹äºå…¶offsetParentå…ƒç´ é¡¶éƒ¨å†…è¾¹è·çš„è·ç¦»ã€‚ offsetLeftï¼šåªè¯»ï¼Œè¿”å›å½“å‰å…ƒç´ å·¦ä¸Šè§’ ç›¸å¯¹äºoffsetParentå·¦è¾¹ç•Œçš„è·ç¦»ã€‚ offsetWidthï¼šåªè¯»ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ çš„å¸ƒå±€å®½åº¦ã€‚é‡Œé¢åŒ…å« borderã€paddingã€scrollbarã€widthã€‚ offsetHeightï¼šåªè¯»ï¼Œè¿”å›å¸ƒå±€é«˜åº¦ã€‚é‡Œé¢ä¸åŒ…å«::beforeã€::afterç­‰ä¼ªç±»å…ƒç´  clientWidthï¼šåªè¯»ï¼Œè¿”å›å…ƒç´ å†…éƒ¨å®½åº¦ ï¼ŒåŒ…æ‹¬ paddingï¼Œä¸åŒ…æ‹¬ borderã€margin å’Œ scrollbarã€‚å†…è”å…ƒç´ ä»¥åŠæ²¡æœ‰ CSS æ ·å¼çš„å…ƒç´ çš„ clientWidth å±æ€§å€¼ä¸º 0ã€‚ clientHeightï¼šåªè¯»ï¼ŒclientHeight å¯ä»¥é€šè¿‡ CSS height + CSS padding - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ (å¦‚æœå­˜åœ¨)æ¥è®¡ç®— clientLeftï¼šåªè¯»ï¼Œä¸€ä¸ªå…ƒç´ çš„å·¦è¾¹æ¡†çš„å®½åº¦ã€‚å¦‚æœå…ƒç´ çš„æ–‡æœ¬æ–¹å‘æ˜¯ä»å³åˆ°å·¦ï¼Œå¹¶ä¸”ç”±äºå†…å®¹æº¢å‡ºå¯¼è‡´å·¦è¾¹å‡ºç°äº†ä¸€ä¸ªå‚ç›´æ»šåŠ¨æ¡ï¼Œåˆ™è¯¥å±æ€§åŒ…æ‹¬æ»šåŠ¨æ¡çš„å®½åº¦ã€‚clientLeft ä¸åŒ…æ‹¬å·¦å¤–è¾¹è·å’Œå·¦å†…è¾¹è·ã€‚display: inline;æ—¶ï¼Œè¿™ä¸ªå€¼ä¸º 0ã€‚ clientTopï¼šåªè¯»ï¼Œé¡¶éƒ¨è¾¹æ¡†å®½åº¦ï¼ŒåŒä¸Šã€‚ **getBoundingClientRect()**ï¼šæ–¹æ³•è¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚å¦‚æœæ˜¯æ ‡å‡†ç›’å­ï¼Œå…ƒç´ çš„å°ºå¯¸ç­‰äºwidth/height + padding + border-widthçš„æ€»å’Œã€‚å¦‚æœbox-sizing: border-boxï¼Œå…ƒç´ çš„çš„å°ºå¯¸ç­‰äº width/heightã€‚ Element.getBoundingClientRect() è¿”å›ä¸€ä¸ª DOMRect å¯¹è±¡ï¼Œæä¾›äº†å…ƒç´ çš„å¤§å°ï¼ŒåŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ã€‚ é‡Œé¢æœ‰åªè¯»å±æ€§ï¼šï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ xæˆ–è€…left yæˆ–è€…top widthã€heightï¼šåŒ…å«äº†paddingå’Œborder-widthï¼ˆborder-boxé™¤å¤–ï¼‰ rightï¼šx + width bottomï¼šy + height äº‹ä»¶clientXï¼šæ˜¯åªè¯»å±æ€§ï¼Œäº‹ä»¶å‘ç”Ÿæ—¶åº”ç”¨å®¢æˆ·ç«¯åŒºåŸŸï¼ˆæµè§ˆå™¨ï¼‰çš„æ°´å¹³åæ ‡ clientYï¼šåªè¯»ï¼Œå‚ç›´åæ ‡ screenXï¼šé¼ æ ‡äº‹ä»¶çš„åªè¯»å±æ€§ï¼Œé¼ æ ‡åœ¨å…¨å±€ï¼ˆå±å¹•ï¼‰ä¸­çš„æ°´å¹³åæ ‡ï¼ˆåç§»é‡ï¼‰ã€‚è¿™é‡Œçš„å±å¹•æŒ‡çš„æ˜¯æ•´ä¸ªå±å¹•ï¼Œå³ä½¿æµè§ˆå™¨çª—å£ç¼©å°ï¼Œä¹Ÿè¿˜æ˜¯æ•´ä¸ªå±å¹•ã€‚ screenYï¼šåªè¯»ï¼Œç«–ç›´åæ ‡ã€‚ pageXï¼šåªè¯»ï¼Œé¼ æ ‡äº‹ä»¶è¿”å›çš„ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£çš„X åæ ‡ï¼ˆå•ä½ï¼špxï¼‰ ã€‚å¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œè¦åŠ ä¸Šæ»šåŠ¨æ¡çš„å€¼ã€‚ pageYï¼šåªè¯»ï¼ŒåŒä¸Š pageXã€‚ ResizeObserver ç›‘å¬å…ƒç´ çš„è¾¹ç•Œå°ºå¯¸å˜åŒ– ResizeObserver.observe()ï¼šå¯¹æŒ‡å®šå…ƒç´ ä»…ä»ç›‘å¬ ResizeObserver.disconnect(target, options)ï¼šå–æ¶ˆæ‰€æœ‰ç›‘å¬ optionsï¼šboxå±æ€§ï¼ŒæŒ‡å®šç›‘å¬çš„ç›’å­ç±»å‹ï¼Œcontent-boxï¼ˆé»˜è®¤ï¼‰æˆ–è€…border-boxæˆ–è€…device-pixel-content-boxï¼ˆè®¾å¤‡åƒç´ ç›’å­ï¼‰ ResizeObserver.unobserve(target)ï¼šå–æ¶ˆæŒ‡å®šå…ƒç´ çš„ç›‘å¬","link":"/2021/09/09/%E5%89%8D%E7%AB%AF%E9%87%8C%E7%9A%84%E5%90%84%E7%A7%8D%E4%BD%8D%E7%BD%AE/"},{"title":"å¼‚æ­¥JavaScript","text":"ğŸŒ å‚è€ƒï¼šMDN-å¼‚æ­¥ JavaScriptï¼Œã€Šæ·±å…¥ç†è§£ ES6ã€‹- NICHOLAS C.ZAKASï¼Œé»‘é©¬ç¨‹åºå‘˜ï¼Œç‹ç£ŠåŒå­¦ åŒæ­¥å’Œå¼‚æ­¥åŒæ­¥æŒ‰é¡ºåºç­‰å¾…æ‰§è¡Œï¼Œä»£ç ä¼ å…¥è°ƒç”¨æ ˆï¼Œæ‰§è¡Œå®Œæ¯•åå†ä»è°ƒç”¨æ ˆä¸­ç§»é™¤ã€‚ 1234567891011121314console.log(&quot;global begin&quot;);function bar() { console.log(&quot;bar task&quot;);}function foo() { console.log(&quot;foo task&quot;); bar();}foo();console.log(&quot;global end&quot;); è¾“å‡ºç»“æœä¸ºï¼š 1234global beginfoo taskbar taskglobal end å¼‚æ­¥ğŸ“– JavaScript å¼•æ“æ˜¯åŸºäºå•çº¿ç¨‹äº‹ä»¶å¾ªç¯çš„æ¦‚å¿µæ„å»ºçš„ï¼Œåœ¨åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªä»£ç å—åœ¨è¿è¡Œã€‚å¦‚æœä¸€ä¸ªå‡½æ•°ä¾èµ–äºå¦ä¸€ä¸ªå‡½æ•°çš„ç»“æœï¼Œå®ƒåªèƒ½ç­‰å¾…é‚£ä¸ªå‡½æ•°ç»“æŸæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œè¿™æ ·å°±å®¹æ˜“é€ æˆä»£ç é˜»å¡ã€‚å¼‚æ­¥å°±æ˜¯ç”¨äºè§£å†³è¿™äº›é—®é¢˜ã€‚ å½“å‰ä»»åŠ¡ä¸ºå¼‚æ­¥çš„è¯ï¼Œä¸ä¼šç­‰å¾…å½“å‰ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œè€Œæ˜¯ç«‹å³æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ åœ¨ JavaScript ä¸­å®ç°å¼‚æ­¥çš„æ–¹æ³•æœ‰è®¸å¤šç§ï¼šsetTimeout()å’ŒsetInterval()ã€äº‹ä»¶æ¨¡å‹ã€å›è°ƒå‡½æ•°ã€Promiseã€Fetchã€async/awaitã€axios setTimeout ä½œä¸ºä¾‹å­1234567891011121314console.log(&quot;global begin&quot;);setTimeout(function timer1() { console.log(&quot;timer1 invoke&quot;);}, 1800);setTimeout(function timer2() { console.log(&quot;timer2 invoke&quot;); setTimeout(function inner() { console.log(&quot;inner invoke&quot;); }, 1000);}, 1000);console.log(&quot;global end&quot;); åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼šè°ƒç”¨æ ˆï¼Œä»»åŠ¡é˜Ÿåˆ—ï¼Œäº‹ä»¶å¾ªç¯ï¼Œapi ç¯å¢ƒï¼ˆæµè§ˆå™¨ã€nodejsï¼‰ åŒæ­¥ä»£ç æ”¾è¿›è°ƒç”¨æ ˆ é‡åˆ°è®¡æ—¶å™¨ï¼Œå°†è®¡æ—¶å™¨æ”¾è¿›apiç¯å¢ƒï¼Œè®¡æ—¶å™¨å¼€å§‹è®¡æ—¶ï¼ˆå¼‚æ­¥æ“ä½œï¼Œä¸å½±å“ç¬¬3çš„è¿›è¡Œï¼‰ é‡åˆ°åŒæ­¥ä»£ç ï¼Œç»§ç»­æ”¾è¿›è°ƒç”¨æ ˆ è®¡æ—¶å™¨æ—¶é—´åˆ°ï¼Œå°†è®¡æ—¶å™¨ï¼ˆè®¡æ—¶å™¨ä¸­çš„å›è°ƒå‡½æ•°ï¼‰æ”¾è¿›ä»»åŠ¡é˜Ÿåˆ— äº‹ä»¶å¾ªç¯æ£€æŸ¥è°ƒç”¨æ ˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºåˆ™ç»§ç»­æ‰§è¡Œè°ƒç”¨æ ˆä¸­çš„ä»£ç  è°ƒç”¨æ ˆä¸ºç©ºï¼Œäº‹ä»¶å¾ªç¯æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºåˆ™å°†ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç æ”¾è¿›è°ƒç”¨æ ˆ JavaScript æ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯è¿è¡Œå®ƒçš„ç¯å¢ƒå¹¶ä¸æ˜¯å•çº¿ç¨‹ã€‚å…·ä½“è¦çœ‹è¿è¡Œç¯å¢ƒæä¾›çš„ API åˆ°åº•æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ å›è°ƒå‡½æ•° è¢«ä½œä¸ºå®å‚ä¼ å…¥å¦ä¸€å‡½æ•°ï¼Œå¹¶åœ¨è¯¥å¤–éƒ¨å‡½æ•°å†…è¢«è°ƒç”¨ï¼Œç”¨ä»¥æ¥å®ŒæˆæŸäº›ä»»åŠ¡çš„å‡½æ•°ï¼Œç§°ä¸ºå›è°ƒå‡½æ•°ã€‚ æä¸€ä¸‹äº‹ä»¶æ¨¡å‹ï¼ˆonclickã€onmouseover ç­‰ç­‰ï¼‰ï¼Œå…¶å®å’Œå›è°ƒå‡½æ•°æ˜¯ç±»ä¼¼çš„ï¼Œæ¯”å¦‚æŒ‰é’®ç‚¹å‡»ï¼Œä»£ç éƒ½æ˜¯åœ¨æŒ‰é’®ç‚¹å‡»çš„æ—¶å€™æ‰§è¡Œã€‚ä¸åŒçš„æ˜¯å›è°ƒå‡½æ•°ä¸­è¢«æ‰§è¡Œçš„å‡½æ•°ä¸æ˜¯ä¸€èµ‹å€¼çš„å½¢å¼ä¼ é€’ï¼ˆ=ï¼‰ï¼Œè€Œæ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚ å›è°ƒå‡½æ•°åœ¨Node.jsä¸­å¹¿æ³›åº”ç”¨ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¾‹å­ä¸­ 1234567readFile(&quot;example.txt&quot;, (err, contents) =&gt; { if (err) { throw err; } console.log(contents);});console.log(&quot;Hi!&quot;); readFile()ä¼šå¼€å§‹æ‰§è¡Œï¼Œè¯»å–å‚æ•° 1 ä¸­æŒ‡å®šçš„æ–‡ä»¶ï¼Œè¯»å–ç»“æŸåæ‰§è¡Œå‚æ•° 2(å›è°ƒå‡½æ•°)ï¼Œä½†æ˜¯è¯»å–æ–‡ä»¶å¯ä»¥è¯´æ˜¯ä¸€ä¸ªé˜»å¡çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æµè§ˆå™¨æ˜¯å…ˆè¾“å‡º**Hi!**ï¼Œç„¶åå½“readFile()æ‰§è¡Œç»“æŸçš„æ—¶å€™ï¼Œä¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾æ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œç”¨äºå¤„ç†å›è°ƒå‡½æ•°é‡Œé¢çš„å†…å®¹ã€‚ å›è°ƒå‡½æ•°æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼‚æ­¥æ“ä½œï¼Œå›è°ƒå‡½æ•°åµŒå¥—å¤šçš„æ—¶å€™ï¼Œå°±ä¼šé€ æˆå›è°ƒåœ°ç‹±ã€‚å¦‚æœæƒ³å®ç°å¤æ‚çš„åŠŸèƒ½ï¼Œè¿™æ ·çš„ä»£ç å¾ˆéš¾ç†è§£å…¶æ„æ€ã€‚ 123456789101112131415161718192021readFile(&quot;example.txt&quot;, (err, contents) =&gt; { if (err) { throw err; } writeFile(&quot;example.txt&quot;, (err, contents) =&gt; { if (err) { throw err; } otherFunc1((err, contents) =&gt; { if (err) { throw err; } otherFunc2((err, contents) =&gt; { if (err) { throw err; } // ..... }); }); });}); Promise CommonJS ç‡å…ˆæå‡ºï¼ŒES6 æ ‡å‡†åŒ– æ›´å¤šï¼šå…¨å±€å¯¹è±¡â€“Promiseï¼Œå¼‚æ­¥ JavaScript promise æ‰¿è¯ºåœ¨æœªæ¥çš„æŸä¸€æ—¶é—´ä¼šè¿”å›æ‰§è¡Œçš„å†…å®¹ï¼Œä½†æ˜¯ä¸ç¡®å®šåœ¨ä»€ä¹ˆæ—¶å€™ï¼Œä¸è®ºæ‰§è¡Œçš„ç»“æœæ˜¯å¯¹çš„è¿˜æ˜¯é”™çš„éƒ½ä¼šæœ‰è¿”å›ã€‚ å®ä¾‹ä½¿ç”¨ Promise()æ„é€ å‡½æ•°åˆ›å»ºè‡ªå·±çš„ promiseï¼Œè¿™ä¸ªæ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°ï¼Œè¿™ä¸ªæ‰§è¡Œå™¨å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ˜¯ï¼šå¤„ç†æˆåŠŸæ‰§è¡Œçš„ resolve()ã€å¤„ç†å¤±è´¥æ‰§è¡Œçš„ reject() 123456789101112let promise = new Promise(function (resolve, reject) { console.log(&quot;ä½ å¥½&quot;); resolve(&quot;ä¸–ç•Œï¼&quot;); // æˆ–è€…å¤±è´¥ // reject('å¤±è´¥ï¼')});promise.then((val) =&gt; { console.log(val);});console.log(&quot;ï¼Œ&quot;); ä¸Šé¢ä»£ç ä¾æ¬¡è¾“å‡ºä½ å¥½ï¼Œä¸–ç•Œï¼ï¼› é¦–å…ˆå› ä¸ºPromise çš„æ‰§è¡Œå™¨ä¸­çš„ä»£ç ä¼šç«‹åˆ»æ‰§è¡Œï¼Œç„¶åå†æ‰§è¡Œå…¶ä»–çš„ä»£ç  è°ƒç”¨resolve()åè§¦å‘ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œä¼ å…¥thenå’Œcatch()çš„å‡½æ•°ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­å¹¶å¼‚æ­¥æ‰§è¡Œ è™½ç„¶ä¸Šé¢çš„then()åœ¨console.log('ï¼Œ')ä¹‹å‰ï¼Œä½†æ˜¯ä¸æ‰§è¡Œå™¨ä¸åŒçš„æ˜¯å¹¶æ²¡æœ‰ç«‹å³æ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºå®Œæˆå¤„ç†ç¨‹åºå’Œæ‹’ç»å¤„ç†ç¨‹åºæ€»æ˜¯åœ¨æ‰§è¡Œå™¨å®Œæˆåè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾ã€‚ promise ä¸­å¯ä»¥ä½¿ç”¨ promise çš„ åŸå½¢ å’Œ _é™æ€æ–¹æ³•_ã€‚ğŸ‘‰ æ›´å¤š promise.prototype.then()ï¼šå¤„ç†æˆåŠŸæ‰§è¡Œ promise.prototype.catch()ï¼šå¤„ç†å¤±è´¥æ‰§è¡Œ promise.prototype.finally()ï¼šä¸ç®¡æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½æ‰§è¡Œ promise.then()ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ˜¯å¤„ç†å‡½æ•°ï¼Œå‚æ•° 1 æ˜¯æˆåŠŸæ‰§è¡Œçš„å¤„ç†å‡½æ•°ï¼Œå‚æ•° 2 æ˜¯å¤±è´¥çš„å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥then(null, func) å’Œ catch()çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ 123456789101112131415promise.then((value) =&gt; { // valueæ˜¯ä¸Šé¢æˆåŠŸæ‰§è¡Œæ—¶resolve()ä¼ è¿‡æ¥çš„å‚æ•° console.log(value); // æˆåŠŸï¼});promise.then(null, (value) =&gt; { console.log(value); // å¤±è´¥ï¼});promise.catch((value) =&gt; { console.log(value); // å¤±è´¥});promise.finally(() =&gt; { console.log(&quot;finish.&quot;);}); Promise å¯¹è±¡çš„then()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥é“¾å¼è°ƒç”¨ åé¢çš„then()å°±æ˜¯ä¸ºä¸Šä¸€ä¸ªthen()çš„è¿”å›çš„ Promise æ·»åŠ å¤„ç†å‡½æ•° å‰é¢çš„then()è¿”å›çš„å€¼ä¼šä½œä¸ºåé¢then()çš„å‚æ•° å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ª Promise å®ä¾‹ï¼Œé‚£ä¹ˆåé¢çš„then()ä¼šç­‰å¾…è¿™ä¸ª Promise å®ä¾‹æ‰§è¡Œå®Œæ¯• â–¶ï¸ ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºcatch()è€Œä¸æ˜¯ä½¿ç”¨é“¾å¼catch()ï¼ŒåŒºåˆ«æ˜¯ç¬¬äºŒä¸ªå‚æ•°åªæ•è·å½“å‰çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯æ•´æ¡é“¾çš„ã€‚æœ‰åˆ©æœ‰å¼Šï¼š ä¼˜ç‚¹ï¼šå¯ä»¥åœ¨é“¾ä¸­çš„ä»»ä½•ä½ç½®å¤„ç†é”™è¯¯ï¼Œæˆ–è€…è¯´å¹¶ä¸”å®¹æ˜“æ‰¾å‡ºé”™è¯¯å‘ç”Ÿçš„ä½ç½® ç¼ºç‚¹ï¼šå¦‚æœåœ¨é“¾ä¸­çš„å¤šä¸ªä½ç½®éƒ½éœ€è¦å¤„ç†é”™è¯¯ï¼Œå°±éœ€è¦å¤šæ¬¡è°ƒç”¨catch()ï¼Œè¿™æ ·å°±ä¼šé€ æˆä»£ç å†—ä½™ é™¤äº†ä½¿ç”¨é“¾æ¡æœ€åçš„catch()æ•è·æ•´æ¡é“¾çš„é”™è¯¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨unhandledrejectionäº‹ä»¶æ•è·æ•´æ¡é“¾çš„é”™è¯¯ webç¯å¢ƒä¸­ï¼ˆå…¨å°å†™å‘½åï¼‰ 1234window.addEventListener(&quot;unhandledrejection&quot;, (event) =&gt; { console.log(event.reason); // å¤±è´¥åŸå› ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé”™è¯¯å¯¹è±¡ console.log(event.promise); // å¤±è´¥çš„ Promise å®ä¾‹}); nodeç¯å¢ƒä¸­ï¼ˆé©¼å³°å¼å‘½åï¼‰ 1234process.on(&quot;unhandledRejection&quot;, (reason, promise) =&gt; { console.log(reason); // å¤±è´¥åŸå› ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé”™è¯¯å¯¹è±¡ console.log(promise); // å¤±è´¥çš„ Promise å®ä¾‹}); ä¾‹å­åŠ è½½å›¾ç‰‡ 123456789101112131415161718192021function loadImage(url) { let promise = new Promise((resolve, reject) =&gt; { var image = new Image(); image.src = url; image.onload = () =&gt; { resolve(image); }; image.onerror = () =&gt; { reject(&quot;åŠ è½½å›¾ç‰‡å‡ºé”™ï¼&quot;); }; }); return promise;}loadImage(&quot;coffee.jpg&quot;).then( (result) =&gt; { document.body.appendChild(result); }, (error) =&gt; { console.log(error); }); é™æ€æ–¹æ³•Promise.resolve()ï¼šè¿”å›ä¸€ä¸ªé€šè¿‡çš„ promise ğŸ˜… å¦‚æœé‡Œé¢ä¼ å…¥äº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åˆåˆšå¥½æœ‰then()æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±ä¼šè¢«å½“ä½œä¸€ä¸ª promise å®ä¾‹ï¼Œç„¶åè¿”å›è¿™ä¸ªå¯¹è±¡ï¼ˆthenableï¼‰ Promise ä¸ºæ™®åŠçš„æ—¶å€™ï¼Œå…¶ä»–åº“å¯èƒ½ä¼šæœ‰è‡ªå·±çš„ promise å®ç°ï¼Œè¿™äº›å®ç°å¯èƒ½ä¸ä¼šéµå¾ª Promise/A+ è§„èŒƒï¼Œä½†æ˜¯ä¼šæœ‰then()æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨Promise.resolve()å°†å…¶è½¬æ¢ä¸º Promise å®ä¾‹ Promise.reject()ï¼šè¿”å›ä¸€ä¸ªæ‹’ç»çš„ promise ğŸ‡ ä»¥ä¸‹é™æ€æ–¹æ³•å‚æ•°æ¥æ”¶ä¸€ä¸ª æ•°ç»„ ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„é‡Œé¢çš„æ˜¯ promise å®ä¾‹ï¼ˆArray&lt;Promise&gt;ï¼‰ è¿”å›å€¼æ˜¯ä¸€ä¸ª promise å®ä¾‹ Promise.all()ï¼šåªè¦æœ‰ä¸€ä¸ªæ‹’ç»ï¼Œå°±æ˜¯æ‹’ç»ã€‚ Promise.race()ï¼šåªè¦æœ‰ä¸€ä¸ªé€šè¿‡ï¼Œå°±æ˜¯é€šè¿‡ Promise.allSettled()ï¼šä¸ç®¡æ˜¯æ‹’ç»è¿˜æ˜¯é€šè¿‡ï¼Œéƒ½ä¼šæ‰§è¡Œ ä¾‹å­ajax è¯·æ±‚è¶…æ—¶ 123456789101112const request = ajax(&quot;api/xxx&quot;);const timeout = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; reject(new Error(&quot;è¯·æ±‚è¶…æ—¶&quot;)), 5000);});Promise.race([request, timeout]) .then((result) =&gt; { console.log(result); }) .catch((error) =&gt; { console.log(error); }); node.js ä¸­çš„è¯»å–æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243let fs = require(&quot;fs&quot;);function readFile(filename) { return new Promise((resolve, reject) =&gt; { fs.readFile(filename, { encoding: &quot;utf-8&quot; }, (err, contents) =&gt; { if (err) { reject(err); return; } resolve(contents); }); });}let promise = readFile(&quot;example.txt&quot;);promise.then((contents) =&gt; { console.log(contents);});promise.catch((error) =&gt; { console.log(error);});// æˆ–è€…promise.then( (contents) =&gt; { console.log(contents); }, (error) =&gt; { console.log(error); });let p1 = readFile(&quot;happy.txt&quot;);let p2 = readFile(&quot;happyok.txt&quot;);let p3 = readFile(&quot;happyno.txt&quot;);Promise.all([p1, p2, p3]).then((result) =&gt; { console.log(result);});Promise.race([p1, p2, p3]).then((result) =&gt; { // ç”±äºp1æ‰§è¡Œè¾ƒå¿«ï¼ŒPromiseçš„then()å°†è·å¾—ç»“æœ'P1'ã€‚p2,p3ä»åœ¨ç»§ç»­æ‰§è¡Œï¼Œä½†æ‰§è¡Œç»“æœå°†è¢«ä¸¢å¼ƒã€‚ console.log(result);}); async å’Œ await å¯¹æ¯”ç”Ÿæˆå™¨ï¼Œ*å»æ‰ï¼Œæ¢æˆasyncï¼Œyieldæ¢æˆawaitï¼Œä¸éœ€è¦æ‰§è¡Œå™¨å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª promise å®ä¾‹ asyncå’Œawaitå…³é”®å­—è®©æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼å†™å‡ºåŸºäºPromiseçš„å¼‚æ­¥è¡Œä¸ºï¼Œè€Œæ— éœ€åˆ»æ„åœ°é“¾å¼è°ƒç”¨promiseã€‚ asyncä½¿ç”¨ async å…³é”®å­—ï¼ŒæŠŠå®ƒæ”¾åœ¨å‡½æ•°å£°æ˜ä¹‹å‰ï¼Œä½¿å…¶æˆä¸º async function async å‡½æ•°æ˜¯ä½¿ç”¨asyncå…³é”®å­—å£°æ˜çš„å‡½æ•°ï¼Œå…¶ä¸­å…è®¸ä½¿ç”¨awaitå…³é”®å­—ã€‚ å°† async å…³é”®å­—åŠ åˆ°å‡½æ•°ç”³æ˜ä¸­ï¼Œå¯ä»¥å‘Šè¯‰å®ƒä»¬è¿”å›çš„æ˜¯ promiseï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›å€¼ã€‚ await åŸç”Ÿ Promiseï¼Œç­‰å¾… thenable å¯¹è±¡ï¼Œæ„é€ æˆæ–°çš„ Promise ä¸æ˜¯ thenable å¯¹è±¡ï¼ŒåŒ…è£…æˆ Promise.resolve() await åªåœ¨å¼‚æ­¥å‡½æ•°é‡Œé¢æ‰èµ·ä½œç”¨ã€‚å®ƒå¯ä»¥æ”¾åœ¨ä»»ä½•å¼‚æ­¥çš„ï¼ŒåŸºäº promise çš„å‡½æ•°ä¹‹å‰ã€‚ nodejs 14.8.0 es æ¨¡å—æ”¯æŒé¡¶çº§await; æµè§ˆå™¨ç¯å¢ƒï¼Œä¹Ÿæ˜¯åœ¨æ¨¡å—é¡¶çº§å¯ç”¨ å®ƒä¼šæš‚åœä»£ç åœ¨è¯¥è¡Œä¸Šï¼Œç›´åˆ° promise å®Œæˆï¼Œç„¶åè¿”å›ç»“æœå€¼ã€‚åœ¨æš‚åœçš„åŒæ—¶ï¼Œå…¶ä»–æ­£åœ¨ç­‰å¾…æ‰§è¡Œçš„ä»£ç å°±æœ‰æœºä¼šæ‰§è¡Œäº†ã€‚(è¿™æ ·çš„å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ) ä¾‹å­å°†ä¸Šé¢çš„ promise æ”¹ä¸º async æ¨¡å¼ 12345678910111213async function load(url) { var image = new Image(); image.src = url; return image;}async function append(image) { document.body.appendChild(image);}async function loadImage(url) { let image = await load(url); await append(image);}loadImage(&quot;coffee.jpg&quot;); ç»“åˆ axios ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132// 1. async åŸºç¡€ç”¨æ³•// 1.1 asyncä½œä¸ºä¸€ä¸ªå…³é”®å­—æ”¾åˆ°å‡½æ•°å‰é¢async function queryData() { // 1.2 awaitå…³é”®å­—åªèƒ½åœ¨ä½¿ç”¨asyncå®šä¹‰çš„å‡½æ•°ä¸­ä½¿ç”¨ awaitåé¢å¯ä»¥ç›´æ¥è·Ÿä¸€ä¸ª Promiseå®ä¾‹å¯¹è±¡ var ret = await new Promise(function (resolve, reject) { setTimeout(function () { resolve(&quot;nihao&quot;); }, 1000); }); // console.log(ret.data) return ret;}// 1.3 ä»»ä½•ä¸€ä¸ªasyncå‡½æ•°éƒ½ä¼šéšå¼è¿”å›ä¸€ä¸ªpromise æˆ‘ä»¬å¯ä»¥ä½¿ç”¨then è¿›è¡Œé“¾å¼ç¼–ç¨‹queryData().then(function (data) { console.log(data);});//2. async å‡½æ•°å¤„ç†å¤šä¸ªå¼‚æ­¥å‡½æ•°axios.defaults.baseURL = &quot;http://localhost:3000&quot;;async function queryData() { // 2.1 æ·»åŠ awaitä¹‹å å½“å‰çš„await è¿”å›ç»“æœä¹‹åæ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç  var info = await axios.get(&quot;async1&quot;); //2.2 è®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥ã€è¡¨ç°èµ·æ¥æ›´åƒåŒæ­¥ä»£ç  var ret = await axios.get(&quot;async2?info=&quot; + info.data); return ret.data;}queryData().then(function (data) { console.log(data);}); å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡å®ä»»åŠ¡ï¼Œé‡æ–°å›åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ï¼›è€Œå¾®ä»»åŠ¡ï¼Œä¼šåœ¨å½“å‰ä»»åŠ¡æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œã€‚ ç”Ÿæˆå™¨ä½¿ç”¨çŸ¥è¯†ç‚¹ï¼šyeildå…³é”®å­—ï¼Œgenerator.next()ï¼Œgernerator.throw()ï¼Œgenerator.return() 12345678function* foo() { console.log(&quot;start&quot;);}// åˆæ¬¡è°ƒç”¨ï¼Œé‡Œé¢å†…å®¹å°šæœªæ‰§è¡Œconst generator = foo();// åªæœ‰è°ƒç”¨next()æ‰ä¼šæ‰§è¡Œgenerator.next(); åœ¨é‡Œé¢æ·»åŠ yieldå…³é”®å­—ï¼Œå¯ä»¥è®©å‡½æ•°æš‚åœæ‰§è¡Œï¼Œç„¶åè¿”å›ä¸€ä¸ªå€¼ è¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§ï¼švalueå’Œdoneï¼Œvalueæ˜¯yieldåé¢çš„å€¼ï¼Œdoneæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰§è¡Œå®Œæ¯•ã€‚ å’Œreturnä¸åŒï¼Œyieldä¸ä¼šç«‹å³ç»“æŸå‡½æ•°çš„æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œç„¶åæš‚åœæ‰§è¡Œï¼Œç­‰åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨next()çš„æ—¶å€™ï¼Œå†ç»§ç»­æ‰§è¡Œã€‚ 123456789function* foo() { console.log(&quot;start&quot;); yield &quot;hello&quot;; console.log(&quot;end&quot;);}const generator = foo();generator.next(); // startgenerator.next(); // end å¦‚æœè°ƒç”¨next()çš„æ—¶å€™ä¼ å…¥äº†å‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šä½œä¸ºä¸Šä¸€æ¬¡yieldçš„è¿”å›å€¼ 12345678910function* foo() { console.log(&quot;start&quot;); const val = yield &quot;hello&quot;; console.log(val); console.log(&quot;end&quot;);}const generator = foo();generator.next(); // startgenerator.next(&quot;world&quot;); // world end å¦‚æœè°ƒç”¨gernerator.throw()ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨æŠ›å‡ºï¼Œå¯ä½¿ç”¨try...catchæ•è· ç®¡ç†å¼‚æ­¥123456789101112131415161718function* main() { const users = yield ajax(&quot;api/users.json&quot;); console.log(users); const posts = yield ajax(&quot;api/posts.json&quot;); console.log(posts);}const generator = main();const result1 = generator.next();result1.value.then((data) =&gt; { const result2 = generator.next(data); if (result2.done) return; result2.value.then((data) =&gt; { generator.next(data); });}); æ”¹ä¸ºé€’å½’çš„æ–¹å¼ 123456789101112131415161718192021222324252627function* main() { try { const users = yield ajax(&quot;api/users.json&quot;); console.log(users); const posts = yield ajax(&quot;api/posts.json&quot;); console.log(posts); } catch (err) { console.log(err); }}function handleResult(result) { if (result.done) return; result.value .then((data) =&gt; { handleResult(generator.next(data)); }) .catch((err) =&gt; { // æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨ç”Ÿæˆå™¨å‡½æ•°main()ä¸­ä½¿ç”¨try...catchæ•è· generator.throw(err); });}const generator = main();handleResult(generator.next()); å°è£…æˆæ‰§è¡Œå™¨ 123456789101112131415161718function run(generator) { const iterator = generator(); function handleResult(result) { if (result.done) return; result.value .then((data) =&gt; { handleResult(iterator.next(data)); }) .catch((err) =&gt; { iterator.throw(err); }); } handleResult(iterator.next());}run(main); æœ‰ä¸€ä¸ªä¸“é—¨çš„åº“å¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼šco ä¸è¿‡åæ¥å‡ºç°äº†asyncå’Œawaitï¼Œæ‰€ä»¥è¿™ä¸ªåº“ç”¨å¾—å°±å°‘äº†ã€‚ 1","link":"/2021/05/17/%E5%BC%82%E6%AD%A5JavaScript/"},{"title":"å¾®ä¿¡å°ç¨‹åº - ä¸€äº›åŸºç¡€","text":"ä¸ºäº†æ–¹ä¾¿æŸ¥æ‰¾å’Œå¤ä¹ ï¼Œç²—ç•¥åˆ—å‡ºä¸€äº›å¯èƒ½å¸¸ç”¨åˆ°çš„ æ ‡ç­¾ã€æ ‡ç­¾çš„å±æ€§ã€æ ‡ç­¾å±æ€§çš„å€¼ã€æ–¹æ³•ã€APIã€‚å…·ä½“çš„è¿˜è¦ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºä¸» ä¸€äº›æ ‡ç­¾ ä¸‹é¢è¡¨ç¤ºé»˜è®¤å€¼æ—¶åœ¨ () é‡Œé¢ï¼Œè¡¨ç¤º Boolean å€¼æ—¶ä½¿ç”¨ âˆšå’Œ Ã— view è§†å›¾å®¹å™¨ text æ–‡æœ¬åŸŸ button æŒ‰é’® typeï¼šæŒ‰é’®ç±»å‹ primaryï¼ˆç»¿è‰²ï¼‰ defaultï¼ˆç™½è‰²ï¼‰ warnï¼ˆçº¢è‰²ï¼‰ sizeï¼šæŒ‰é’®å¤§å°ï¼Œï¼ˆ default å’Œ mini ï¼‰ image å›¾ç‰‡ modeï¼šå›¾ç‰‡è£å‰ªã€ç¼©æ”¾çš„æ¨¡å¼ï¼ˆscaleToFillï¼‰ é»˜è®¤å®½åº¦ï¼š300pxï¼Œé«˜åº¦ï¼š240px form è¡¨å• bindsubmitï¼šæºå¸¦ form ä¸­çš„æ•°æ®æäº¤ checkbox å¤é€‰æ¡† radio å•é€‰æ¡† input è¾“å…¥æ¡†â€¦è¿™é‡Œæ˜¯å•æ ‡ç­¾ï¼Œå¹¶ä¸”æ ‡ç­¾å†…éƒ¨è¦åŠ å…¥ / ä½œä¸ºç»“å°¾ type çš„åˆæ³•å€¼ textï¼šæ–‡æœ¬è¾“å…¥é”®ç›˜ï¼ˆé»˜è®¤ï¼‰ numberï¼šæ•°å­—è¾“å…¥é”®ç›˜ idcardï¼šèº«ä»½è¯è¾“å…¥é”®ç›˜ digitï¼šå¸¦å°æ•°ç‚¹çš„æ•°å­—é”®ç›˜ passwordï¼šæ˜¯å¦æ˜¯å¯†ç ç±»å‹ï¼ˆÃ—ï¼‰ placeholder-styleï¼šæŒ‡å®šè¿™ä¸ªä¸œè¥¿çš„æ ·å¼ï¼ˆplaceholder-classï¼ŒæŒ‡å®šæ ·å¼ç±»ï¼‰ bindblurï¼šå¤±å»ç„¦ç‚¹æ—¶è§¦å‘ progress è¿›åº¦æ¡ swiper è½®æ’­å›¾ï¼Œå­æ ‡ç­¾swiper-item indicator-dotsï¼šæ˜¯å¦æ˜¾ç¤ºé¢æ¿çŸ¥è¯†ç‚¹ ï¼ˆÃ—ï¼‰ indicator-colorï¼šæŒ‡ç¤ºç‚¹é¢œè‰² ï¼ˆrgba(0,0,0,.3)ï¼‰ indicator-active-colorï¼šçŸ¥è¯†ç‚¹é€‰ä¸­é¢œè‰² ï¼ˆ#000000ï¼‰ autoplayï¼šè‡ªåŠ¨æ’­æ”¾ ï¼ˆÃ—ï¼‰ currentï¼šå½“å‰æ»‘å—æ‰€å¤„çš„ indexï¼ˆ0ï¼‰ current-item-idï¼šå½“å‰æ»‘å—æ‰€åœ¨çš„ item-idï¼Œä¸èƒ½åŒæ—¶æŒ‡å‘ currentï¼ˆString ç±»å‹ï¼‰ é…åˆ &lt;swiper-item&gt; ä½¿ç”¨ï¼Œ&lt;swiper current-item-id=&quot;b&quot;&gt; &lt;swiper-item item-id=&quot;b&quot;&gt; intervalï¼šè‡ªåŠ¨åˆ‡æ¢æ—¶é—´é—´éš”(ms)ï¼Œï¼ˆ5000ï¼‰ durationï¼šæ»‘å—åŠ¨ç”»æ—¶é•¿(ms)ï¼Œï¼ˆ500ï¼‰ circularï¼šæ˜¯å¦é‡‡ç”¨è¡”æ¥æ»‘åŠ¨ï¼ˆÃ—ï¼‰ verticalï¼šæ»‘åŠ¨çš„æ–¹å‘æ˜¯å¦ä¸ºçºµå‘ï¼ˆÃ—ï¼‰ bindchangeï¼šcurrent æ”¹å˜æ—¶è§¦å‘çš„ change äº‹ä»¶ include ä»£ç å¼•ç”¨ srcï¼šå¼•ç”¨çš„ wxmlä½ç½® slider è¡¨å•ç»„ä»¶ï¼Œæ»‘åŠ¨é€‰å–æŸä¸€ä¸ªå€¼ backgroundColorï¼šèƒŒæ™¯æ¡é¢œè‰²ï¼ˆ activeColorï¼šå·²é€‰æ‹©çš„é¢œè‰²ï¼‰ maxã€minï¼šæœ€å¤§æœ€å°å€¼ stepï¼šæ­¥é•¿ï¼Œå–å€¼å¤§äº 0 ä¸”å¯è¢« maxâ€˜min æ•´é™¤ videoè§†é¢‘æ’­æ”¾ srcï¼šä½ æ‡‚å¾— ^ ^V^ loopï¼šæ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼ˆÃ—ï¼‰ controlsï¼šæ˜¯å¦é»˜è®¤æ˜¾ç¤ºæ’­æ”¾æ§ä»¶ï¼ˆâˆšï¼‰ enab-danmuï¼šæ˜¯å¦å±•ç¤ºå¼¹å¹•ï¼ˆÃ—ï¼‰ danmu-listï¼šå¼¹å¹•åˆ—è¡¨ danmu-btnï¼šæ˜¯å¦æ˜¾ç¤ºå¼¹å¹• autoplayï¼šè‡ªåŠ¨æ’­æ”¾ï¼ˆÃ—ï¼‰ posterï¼šè§†é¢‘å°é¢çš„ç½‘ç»œåœ°å€ï¼Œcontrols ä¸ºï¼ˆÃ—ï¼‰çš„æ—¶å€™è®¾ç½®æ— æ•ˆ bindplay / bindpauseï¼šè§¦å‘äº‹ä»¶ map åœ°å›¾ç›¸å…³ latitudeï¼šç»´åº¦ã€longitudeï¼šç»åº¦ï¼ˆNumberï¼‰ scaleï¼šç¼©æ”¾çº§åˆ«ï¼ŒèŒƒå›´æ˜¯ 5~18ï¼ˆ16ï¼‰ï¼ˆNumberï¼‰ markerï¼šæ ‡è®°ç‚¹ã€polineï¼šè·¯çº¿ã€circlesï¼šåœ†ï¼ˆArrayï¼‰ show-locationï¼šæ˜¾ç¤ºå¸¦æœ‰å½“å…ˆçš„å½“å‰å®šä½ç‚¹ bindmarktapï¼šå•å‡»æ ‡è®°ç‚¹æ—¶è§¦å‘ï¼Œè¿”å› maker æˆ– id ï¼ˆEventHandleï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ï¼‰ bindregionchangeï¼šè§†é‡å‘ç”Ÿæ”¹å˜çš„æ—¶ä¾¯ bindtapï¼šå•å‡»åœ°å›¾ã€bindupdateï¼šåœ°å›¾æ¸²æŸ“æ›´æ–°å®Œæˆ picker ä»åº•éƒ¨å¼¹èµ·æ»šåŠ¨é€‰æ‹©å™¨ header-textï¼šé€‰æ‹©å™¨æ ‡é¢˜ï¼ˆä»…å®‰å“å¯ç”¨ï¼‰ modeï¼šé€‰æ‹©å™¨ç±»å‹ selectorã€multiSelectorã€timeã€dateã€regionï¼ˆçœä»½ï¼‰ bindcancelï¼šå–æ¶ˆé€‰æ‹©æ—¶è§¦å‘ï¼ˆeventHandleï¼‰ disableï¼šç¦ç”¨ï¼ˆfalseï¼‰ picker-view åµŒå…¥çš„æ»šåŠ¨é€‰æ‹©å™¨ scroll-view å®ç°å¯æ»šåŠ¨è§†å›¾åŒºåŸŸ scroll-x / scroll-y å…è®¸æ¨ªå‘/çºµå‘æ»šåŠ¨ï¼ˆÃ—ï¼‰ çºµå‘æ»šåŠ¨éœ€è¦åœ¨æ ·å¼ä¸­ä¸º scroll-view è®¾ç½®ä¸€ä¸ªå›ºå®šé«˜åº¦ï¼Œå¦åˆ™å®ƒä¼šè¢«å­å…ƒç´ æ’‘å¤§ scroll-top/scroll-left è®¾ç½®ç«–å‘/æ¨ªå‘æ»šåŠ¨æ¡çš„ä½ç½®ï¼ˆnumber / stringï¼‰ bindscroll æ»šåŠ¨æ—¶è§¦å‘çš„äº‹ä»¶ ä¸€äº› API éŸ³é¢‘ API åˆ›å»ºä¸€ä¸ª InnerAudioContext å®ä¾‹ var audioCtx = wx.createInnerAudioContext() ï¼ŒaudioCtx æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢æœ‰è®¸å¤šå±æ€§å’Œæ–¹æ³• å±æ€§ï¼š src(å˜¿å˜¿å˜¿)ã€starttime(å¼€å§‹æ—¶é—´)ã€autoplay(è‡ªåŠ¨æ’­æ”¾)ã€volume(éŸ³é‡) duration(éŸ³é¢‘é•¿åº¦ï¼Œå½“å‰åˆæ³• src çš„é•¿åº¦)ã€currentTime(å½“å‰æ—¶é—´)ã€paused(å½“å‰æ˜¯æš‚åœæˆ–æ˜¯åœæ­¢çŠ¶æ€) æ–¹æ³•ï¼š play()ã€pause()ã€stop()ã€seek()ã€destroy()ï¼šé”€æ¯å½“å‰å®ä¾‹ ä»¥ä¸‹è§¦å‘çš„æ—¶å€™ï¼Œå‚æ•°éƒ½æ˜¯ callback onCanplay(éŸ³é¢‘è¿›å…¥å¯æ’­æ”¾çŠ¶æ€æ—¶çš„äº‹ä»¶) onPlay()ã€onPause()ã€onStopã€onSeek()ã€onError()ã€onEnd()ï¼šè‡ªç„¶æ’­æ”¾åˆ°ç»“æŸã€onTimeUpdate()ï¼šæ’­æ”¾è¿›åº¦æ›´æ–° èƒŒæ™¯éŸ³ä¹ API åˆ›å»ºä¸€ä¸ª BackgroundAudioManager å®ä¾‹å¯¹è±¡ var bgm = getBackgroundAudioManager() åœ¨ app.json ä¸­æ·»åŠ é…ç½®ï¼š&quot;requireBackgroundModes&quot;: [&quot;audio&quot;] æ‰“ç”µè¯ wx.makePhoneCall( { phoneNumber: '1311111111' } ) è·å–ä½ç½® wx.getLocation() æ–¹æ³•è·å–ç”¨æˆ·å½“å‰çš„ä½ç½® wx.openLocation() æ–¹æ³•æ˜¾ç¤ºè¯¥ä½ç½®çš„åœ°å›¾ è§†é¢‘ API (VideoContext) wx.createVideoContext() çš„ä¸€äº›å¸¸ç”¨æ–¹æ³• play()/pause()/stop()ï¼Œæ’­æ”¾/æš‚åœ/åœæ­¢ seek(number)ï¼šè·³è½¬åˆ°æŒ‡å®šä½ç½® playbackRate(number)ï¼šæ’­æ”¾å€é€Ÿ requestFullScreen() / exitFullScreen()ï¼šå…¨å±/é€€å‡ºå…¨å± sendDanmuï¼šå‘é€å¼¹å¹• ä¸€äº›äº‹ä»¶ç›‘å¬ bindtap è¡¨ç¤ºç»‘å®š tap äº‹ä»¶ï¼Œç‚¹å‡»è§¦å‘ é€šè¿‡å®è·µå¯¹è±¡ e å¯ä»¥è·å– type ï¼šäº‹ä»¶ç±»å‹ timestamp ï¼šäº‹ä»¶ç”Ÿæˆæ—¶çš„æ—¶é—´æˆ³ target ï¼šè§¦å‘äº‹ä»¶çš„ç»„ä»¶çš„ä¸€äº›å±æ€§å€¼é›†åˆ currentTarget ï¼šå½“å‰ç»„ä»¶çš„ä¸€äº›å±æ€§å€¼é›†åˆ detail ï¼šé¢å¤–çš„ä¿¡æ¯ catch äº‹ä»¶æ˜¯å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ï¼Œbind äº‹ä»¶ä¸è¡Œ this.setDate( { } ) ,è¯¥æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ bindchange å½“ value å€¼æ”¹å˜çš„æ—¶å€™è§¦å‘ ä¸€äº›é…ç½® â€œpluginsâ€ ä¸­æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶ â€œwindowâ€ ä¸­é…ç½®é¡µé¢çš„æ•´ä½“æ ‡é¢˜æ æ ·å¼ â€œtabBarâ€ é…ç½®åº•éƒ¨çš„èœå• æœ€å¤šå¯ä»¥é…ç½® 5 ä¸ªé€‰é¡¹ â€œrequiredBackgroundModesâ€: [â€œaudioâ€] è¯·æ±‚èƒŒæ™¯éŸ³ä¹ â€œusingComponentsâ€ ç”¨åœ¨é¡µé¢çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè¡¨ç¤ºä½¿ç”¨ç»„ä»¶ ä¸€äº›å•ä½ vw å’Œ vhï¼Œåˆ†åˆ«è¡¨ç¤ºé¡µé¢çš„ç™¾åˆ†ä¹‹ç™¾å®½å’Œç™¾åˆ†ä¹‹ç™¾é«˜ rpxï¼Œå¸¸ç”¨çš„å•ä½ï¼Œ750rpx æ­£å¥½æ˜¯é¡µé¢å®½åº¦çš„å¤§å° ä¸€äº›æ’ä»¶ è…¾è®¯è§†é¢‘æ’ä»¶ å°ç¨‹åºç®¡ç†åå°ï¼Œè®¾ç½® - ç¬¬ä¸‰æ–¹æœåŠ¡ - æ·»åŠ æ’ä»¶ åœ¨å…¨å±€ app.json ä¸­ï¼š 123456&quot;plugins&quot;: { &quot;tencentvideo&quot;: { &quot;version&quot;: &quot;å½“å‰ç‰ˆæœ¬&quot;, &quot;provider&quot;: &quot;æ’ä»¶é‡Œé¢çš„AppID&quot; }} åœ¨ä½¿ç”¨æ’ä»¶çš„å…·ä½“æ–‡ä»¶ä¸­ï¼Œå¦‚ï¼švideo.json 123&quot;usingComponents&quot;: { &quot;txv-video&quot;: &quot;plugin://tencentvideo/video&quot;} txv-video åå­—éšä¾¿èµ·ï¼Œå°†ç”¨åˆ° wxml é¡µé¢,å’Œ js ä¸­ åœ¨ xxx.wxml ä¸­ï¼š 1&lt;txv-video vid=&quot;xxxmmm&quot; playerid=&quot;txv1&quot;&gt;&lt;/txv-video&gt; vid ï¼šåœ¨è…¾è®¯è§†é¢‘æŒ‡å®šè§†é¢‘çš„ url åé¢ï¼Œå¦‚æœä¸è¡Œï¼Œç‚¹åˆ†äº«ï¼Œåœ¨åˆ†äº«é“¾æ¥ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ° playeridï¼šæŒ‡å®šå½“å‰æ ‡ç­¾ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œå¯ä»¥éšä¾¿èµ·ä¸€ä¸ªæœ‰ç‰¹è‰²çš„çš„ åœ¨ç›¸å¯¹åº”çš„ xxx.js ä¸­ï¼šé¦–å…ˆè¦ä½¿ç”¨ requirePlugin() å¼•å…¥æ’ä»¶ï¼Œç„¶åè°ƒç”¨ getTxvContext() 123456onReady: function(){ const TxvContext = requirePlugin('tencentVideo') var txvContext = TxvContext.getTxvContext('txv1') txv.Context.play() txv.Context.pause()} ä¸€äº›ç»†èŠ‚ é€šè¿‡datasetåŒºåˆ†å…ƒç´ ï¼ˆinputï¼‰ å¯ä»¥ä½¿ç”¨ data-id å–ä»£æ‰ _id_ï¼Œä¾‹å¦‚ï¼šdata-id=â€œnumâ€ï¼Œåœ¨ç»‘å®šçš„äº‹ä»¶ä¸­é€šè¿‡ e.target.dataset.idå°±å¯ä»¥è·å¾— è€Œä¸”ï¼Œé€šè¿‡e.target.dataset.åç§°å°±å¯ä»¥è·å¾— data-åç§° çš„å€¼ ä¸€äº›æ³¨æ„ first-child å’Œ last-child ç›¸å¯¹çš„æ˜¯ä½¿ç”¨å…ƒç´ çš„æœ¬èº« &lt;div&gt; &lt;view&gt;æˆ‘æ˜¯â‘ &lt;/view&gt; &lt;view&gt;æˆ‘æ˜¯â‘¡&lt;/view&gt; &lt;/div&gt; å¦‚æœè¦é€‰ä¸­ div é‡Œé¢çš„ view ï¼Œå†™çš„åº”è¯¥æ˜¯ div view:first-child ä½¿ç”¨ import è°ƒç”¨å¤–éƒ¨æ ·å¼ï¼šimport â€œ è·¯å¾„ â€œ WXS å¤§å _WeiXin Script_ï¼Œå’Œ js å·®ä¸å¤šï¼Œæ˜¯å°ç¨‹åºçš„è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥åœ¨ wxml ä¸­æ’å…¥ 123&lt;wxs module=&quot;haha&quot;&gt; module.exports = function(value){ var x =xxx var m = mmm }&lt;/wxs&gt; å±æ€§ module è¡¨ç¤ºæ¨¡å—åç§°ï¼Œå¯¼å‡ºåï¼Œå¯ä»¥åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ 1&lt;view&gt; {{ haha(xm) }} &lt;/view&gt;","link":"/2020/05/18/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"title":"ä¼šè¯æŠ€æœ¯","text":"æ¦‚è¿°ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€çš„åè®®ã€‚å½“ä¸€ä¸ªç”¨æˆ·è¯·æ±‚ä¸€ä¸ªé¡µé¢ä¹‹åå†è¯·æ±‚å¦å¤–ä¸€ä¸ªé¡µé¢æ—¶ï¼ŒHTTP æ— æ³•çŸ¥é“è¿™ä¸¤ä¸ªè¯·æ±‚æ—¶æ¥è‡ªåŒä¸€ä¸ªç”¨æˆ·ã€‚æ‰€ä»¥å°±éœ€è¦ä¼šè¯æŠ€æœ¯æ¥è®°å½•ç”¨æˆ·çš„çŠ¶æ€ ä¼šè¯æŠ€æœ¯æ˜¯ç»´æŠ¤åŒä¸€ä¸ªæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´å¤šæ¬¡è¯·æ±‚æ•°æ®çŠ¶æ€çš„æŠ€æœ¯ã€‚PHP ä¸­å¸¸ç”¨çš„ä¼šè¯æŠ€æœ¯æœ‰ Cookie å’Œ Session ä¸¤ç§ï¼Œ Cookieï¼šåœ¨æµè§ˆå™¨ç«¯å­˜å‚¨æ•°æ®å¹¶ä»¥æ­¤æ¥è·Ÿè¸ªå’Œè¯†åˆ«ç”¨æˆ·çš„æœºåˆ¶ Sessionï¼šå°†ä¿¡æ¯å­˜æ”¾åœ¨æœåŠ¡å™¨ç«¯çš„ä¼šè¯æŠ€æœ¯ Cookieå½“ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—® Web æœåŠ¡å™¨ æ—¶ï¼ŒæœåŠ¡å™¨ä¼šç»™ç”¨æˆ·å‘é€ä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½ä¿å­˜åœ¨ Cookie ä¸­ã€‚å½“æµè§ˆå™¨å†æ¬¡æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¸­åŒæ—¶å°† Cookie å‘é€ç»™æœåŠ¡å™¨ã€‚ åˆ©ç”¨ Cookie å¯ä»¥è·Ÿè¸ªç”¨æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¼šè¯çŠ¶æ€ï¼Œé€šå¸¸åº”ç”¨äºä¿å­˜æµè§ˆå†å²ã€ä¿å­˜è´­ç‰©è½¦å•†å“å’Œä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ç­‰åœºæ™¯ã€‚ å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”æ¶ˆæ¯ä¸­å¢åŠ  Set-Cookie å¤´å­—æ®µï¼Œå°†ä¿¡æ¯ä»¥ Cookie çš„å½¢å¼å‘é€ç»™æµè§ˆå™¨ï¼Œä¿å­˜åˆ°æµè§ˆå™¨ç¼“å†²åŒºã€‚ä¸‹æ¬¡è®¿é—®çš„æ—¶å€™å†å°† Cookie å‘ç»™æœåŠ¡å™¨ï¼Œè¿™æ ·æœåŠ¡å™¨å°±è¯†åˆ«å‡ºäº†æ˜¯å“ªä¸ªç”¨æˆ·åœ¨å‘é€è¯·æ±‚ã€‚ï¼ˆå…³äº Cookie çš„ä¸€äº›çŸ¥è¯†åœ¨æ–‡ç« åº•éƒ¨ï¼‰ Cookie çš„ä¸€äº›ç¼ºç‚¹ï¼š é™„åŠ åœ¨ HTTP æ¶ˆæ¯ä¸­ï¼Œå¢åŠ äº†æ•°æ®æµé‡ åœ¨ HTTP ä¸­æ˜¯ä»¥æ˜æ–‡ä¼ è¾“çš„ï¼Œå®‰å…¨æ€§ä¸é«˜ï¼Œå®¹æ˜“è¢«çªƒå– Cookie å­˜å‚¨äºæµè§ˆå™¨ï¼Œå¯ä»¥è¢«ç¯¡æ”¹ï¼ŒæœåŠ¡å™¨æ¥æ”¶åå¿…é¡»éªŒè¯æ•°æ®çš„åˆæ³•æ€§ æµè§ˆå™¨é™åˆ¶ Cookie çš„æ•°é‡å’Œå¤§å°ï¼ˆä¸€èˆ¬æ˜¯ 50 ä¸ªï¼Œä¸€ä¸ªä¸è¶…è¿‡ 4KBï¼‰ Cookie çš„åŸºæœ¬ä½¿ç”¨â‘  åˆ›å»º Cookie åœ¨ PHP ä¸­ä½¿ç”¨ setcookie() å‡½æ•°å¯ä»¥åˆ›å»ºå’Œä¿®æ”¹ Cookieã€‚å…¶å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š 123456789bool setcookie( string $name, // Cookie çš„åå­—ï¼ˆå¿…é€‰ï¼‰ string $value = &quot;&quot;, // Cookie çš„å€¼ int $expire = 0, // Cookie çš„æœ‰æ•ˆæœŸ string $path = &quot;&quot;, // Cookie åœ¨æœåŠ¡å™¨ç«¯çš„è·¯å¾„ string $domain = &quot;&quot;, // Cookie çš„æœ‰æ•ˆåŸŸå bool $secure = false, // æŒ‡å®šæ˜¯å¦é€šè¿‡å®‰å…¨çš„ HTTPS è¿æ¥æ¥ä¼ è¾“ bool $httponly = false // æŒ‡å®š Cookie åªèƒ½é€šè¿‡ HTTP åè®®è®¿é—®) å®ç°ä»£ç  1setcookie('abc', '123', time() + 1800) â€‹ ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ—¶é—´æˆ³ï¼Œçœç•¥çš„æ—¶å€™ï¼ŒCookie ä¼šåœ¨æµè§ˆå™¨ç»“æŸçš„æ—¶å€™å…³æ‰ å¦‚æœä½¿ç”¨ JavaScript æ“ä½œ Cookieï¼Œsetcookie() çš„ $httponly çš„å€¼è¦è®¾ç½®ä¸º false â‘¡ è·å– Cookie åœ¨ PHP ä¸­ï¼Œä»»ä½•ä»å®¢æˆ·ç«¯å‘é€çš„ Cookie æ•°æ®éƒ½ä¼šè¢«è‡ªåŠ¨å­˜å…¥åˆ° $_COOKIE è¶…å…¨å±€æ•°ç»„( $_COOKIE[] )å˜é‡ä¸­ï¼Œä»¥æ­¤æ¥è·å– Cookie æ•°æ® 123456789setcookie('name', 'å¼ ä¸‰');echo $_COOKIE['name'];// ä¿å­˜å’Œè·å–æ•°ç»„å½¢å¼çš„Cookiesetcookie('history[one]', 1);setcookie('history[two]', 2);$history = isset($_COOKIE['history']) ? (array)$_COOKIE['history'] : [];foreach ($history as $k =&gt; $v) { echo &quot;$k - $v &lt;br&gt;&quot;} å½“ PHP ç¬¬ä¸€æ¬¡ä½¿ç”¨ setcookie() æ¥åˆ›å»º Cookie æ—¶ï¼Œ$_COOKIE ä¸­æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œå½“æµè§ˆå™¨ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰å¯ä»¥é€šè¿‡ $_COOKIE è·å–åˆ°å€¼ â‘¢ åˆ é™¤ Cookie å¦‚æœæ²¡è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå½“æµè§ˆå™¨å…³é—­çš„æ—¶å€™ Cookie æ–‡ä»¶å°±ä¼šè¢«æ¸…é™¤ã€‚å¦‚æœæƒ³è‡ªå®šä¹‰åˆ é™¤ï¼š 1setcookie('data', '', time() - 1); è¡¨ç¤ºç«‹å³è¿‡æ—¶ï¼Œç›¸å½“äºåˆ é™¤äº†ã€‚value è®¾ç½®ä¸ºç©ºï¼Œè¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºå°äºå½“å‰ç³»ç»Ÿæ—¶é—´ã€‚ Cookie çš„è·¯å¾„å’ŒåŸŸåChrome æµè§ˆå™¨ä¸­ï¼Œè®¾ç½® &gt; é«˜çº§è®¾ç½® &gt; éšç§è®¾ç½® &gt; å†…å®¹è®¾ç½® &gt; æ‰€æœ‰ Cookie å’Œç½‘ç«™æ•°æ® ä¸åŒç‰ˆæœ¬çš„æµè§ˆå™¨å¯èƒ½ä¸åŒï¼Œä¸åŒæµè§ˆå™¨èƒ½å¤Ÿå­˜æ”¾çš„æ•°é‡ä¹Ÿå¯èƒ½ä¸åŒ è¶…å…¨å±€å˜é‡ $_REQUESTé»˜è®¤æƒ…å†µä¸‹ï¼Œ$_REQUEST è¶…å…¨å±€å˜é‡æ•°ç»„å˜é‡ï¼Œå¯ä»¥åŒæ—¶è·å–ç”¨æˆ· GET å’Œ POST è¯·æ±‚æ–¹å¼æäº¤çš„æ•°æ® 1234&lt;form method=&quot;post&quot; action=&quot;test.php?a=xxx&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;b&quot; value=&quot;yyy&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/form&gt; åœ¨ test.php ä¸­ 1print_r($_REQUEST); $_REQUEST çš„å€¼å— php.ini æ–‡ä»¶ä¸­çš„ request_order å½±å“ 1request_order = &quot;GP&quot; G è¡¨ç¤º$_GETï¼ŒP è¡¨ç¤º $_POST æ·»åŠ  Cï¼ˆ$_COOKIEï¼‰å¯ä»¥æ¥å— Cookie æ•°æ®ï¼ŒPHP è§£æçš„ä¼˜å…ˆçº§æ˜¯ C&gt;P&gt;Gã€‚æ¥å—æ•°æ®åŒåçš„æ—¶å€™ï¼Œä¼˜å…ˆçº§é«˜çš„ä¼šè¦†ç›–ä¼˜å…ˆçº§ä½çš„ PHP è§£æä¼˜å…ˆçº§ä¹Ÿå¯ä»¥æ”¹ï¼ŒåŒæ ·åœ¨ php.init æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ 1variable_order = &quot;PG&quot; åè§£æçš„æ–°å€¼ä¼šè¦†ç›–æ—§å€¼ SessionSession åœ¨ç½‘ç»œåº”ç”¨ä¸­ç§°ä¸ºä¼šè¯ï¼Œé€šå¸¸ç”¨äºä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ã€ä¿å­˜ç”Ÿæˆçš„éªŒè¯ç ç­‰ Session æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯çš„æŠ€æœ¯ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä»ç”¨æˆ·è®¿é—®é¡µé¢å¼€å§‹ï¼ŒçŸ¥é“æ–­å¼€ä¸ç½‘ç«™çš„è¿æ¥ç»“æŸã€‚Web æœåŠ¡å™¨åœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªç”¨æˆ·çš„æµè§ˆå™¨åˆ›å»ºä¾›å…¶ä¸€ä¸ªç‹¬äº«çš„ Session æ–‡ä»¶ æ¯ä¸€ä¸ª Session éƒ½å…·æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯ IDï¼Œç”¨äºæ ‡è¯†ä¸åŒçš„ç”¨æˆ·ã€‚ä¼šè¯ ID ä¼šåˆ†åˆ«ä¿å­˜åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼Œå®¢æˆ·ç«¯é€šè¿‡ Cookie ä¿å­˜ï¼Œè€ŒæœåŠ¡å™¨ç«¯ä»¥æ–‡ä»¶çš„å½¢å¼ä¿å­˜åœ¨ php.ini æŒ‡å®šçš„ Session ç›®å½•ï¼ˆWindows é»˜è®¤ä¿å­˜ï¼šC:Windows\\Tempï¼‰ Session çš„åŸºæœ¬ä½¿ç”¨â‘  å¯åŠ¨ ä½¿ç”¨ session_start() å¯åŠ¨ï¼Œè¯¥å‡½æ•°è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼ŒæˆåŠŸè¿”å› trueï¼Œå¤±è´¥ false å¯åœ¨æµè§ˆå™¨ä¸­ Network ä¸­ ç‚¹ä¸­æŸä¸€æ¡å“åº”æŸ¥çœ‹å®ƒçš„ Session â‘¡ ä½¿ç”¨ å¯ä»¥é€šè¿‡ $_SESSION æ·»åŠ ã€è¯»å–ã€ä¿®æ”¹ Session ä¸­çš„æ•°æ® 123456789session_start();$_SESSION['username'] = 'Tome';$_SESSION['id'] = [1, 2, 3];if (isset($_SESSION['test'])) { $test = $_SESSION['test'];}unset($_SESSION['username']); // åˆ é™¤å•ä¸ªæ•°æ®$_SESSION = []; // åˆ é™¤æ‰€æœ‰æ•°æ®session_destroy(); // ç»“æŸå½“å‰ä¼šè¯ $_SESSION = []ï¼Œå¯ä»¥åˆ é™¤ Session ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯ _Session æ–‡ä»¶è¿˜æ˜¯å­˜åœ¨çš„_ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ å¦‚æœè¦åˆ é™¤è¿™ä¸ªç©ºæ–‡ä»¶ï¼Œä½¿ç”¨session_destroy() â‘¢ Session çš„é…ç½® é…ç½®é¡¹ å«ä¹‰ session.name æŒ‡å®š Cookie çš„åå­—ï¼Œåªèƒ½ç”±å­—æ¯ã€æ•°å­—ç»„æˆï¼Œé»˜è®¤ä¸º PHPSESSID session.save_path è¯»å–æˆ–è®¾ç½®å½“å‰ä¼šè¯æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºâ€œC:Windows\\Tempâ€ session.auto_start æŒ‡å®šæ˜¯å¦åœ¨è¯·æ±‚å¼€å§‹æ—¶è‡ªåŠ¨å¯åŠ¨ä¸€ä¸ªä¼šè¯ï¼Œé»˜è®¤å€¼æ˜¯ 0ï¼ˆä¸å¯åŠ¨ï¼‰ session.cookie_lifetime ä»¥ç§’æ•°æŒ‡å®šå‘é€åˆ°æµè§ˆå™¨çš„ Cookie çš„ç”Ÿå‘½å‘¨æœŸï¼Œé»˜è®¤ä¸º 0ï¼ˆçŸ¥é“æµè§ˆå™¨å…³é—­ï¼‰ session.cookie_path è®¾å®šä¼šè¯ Cookie çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º / session.cookie.domain è®¾å®šä¼šè¯ Cookie çš„åŸŸåï¼Œé»˜è®¤ä¸ºæ²¡æœ‰ session.cookie_secure æ˜¯å¦ä»…é€šè¿‡å®‰å…¨è¿æ¥å‘é€ Cookieï¼Œé»˜è®¤ off session.cookie_httponly æ˜¯å¦ä»…é€šè¿‡ HTTP è®¿é—® Cookieï¼Œé»˜è®¤ off PHP7.0 å¼€å§‹ï¼Œåœ¨ session_start() ä¸­å¯ä»¥å¯¹ Session è¿›è¡Œé…ç½®ï¼Œç”¨äºè¦†ç›– php.ini ä¸­å¯¹ Session çš„é…ç½®æŒ‡ä»¤ 1session_start(['name' =&gt; 'MySESSID']); åœ¨è¿™é‡Œé…ç½®çš„æ—¶å€™ï¼Œé”®åä¸éœ€è¦åŠ ä¸Š session. åœ¨è¿™é‡Œé…ç½®çš„æ—¶å€™ï¼Œsession.cookie_lifetimeï¼ˆæ•´å½¢ï¼‰ï¼Œsession.auto_startã€session.cookie_secure å’Œ session.cookie_httponly ä¸ºå¸ƒå°”å‹ï¼Œå…¶å®ƒçš„æ˜¯å­—ç¬¦ä¸²å‹ session_start() ä¸­çš„é…ç½®åªåœ¨è„šæœ¬è¿è¡Œå‘¨æœŸä¸­ç”Ÿæ•ˆï¼Œå¹¶ä¸å½±å“ php.ini ä¸­åŸæœ¬çš„é…ç½® Session æœºåˆ¶Session æœºåˆ¶æ˜¯é€šè¿‡è°ƒç”¨ session_set_save_handler å®ç°çš„ é»˜è®¤æƒ…å†µä¸‹ï¼ŒPHP ä¸­çš„ Session æ˜¯é€šè¿‡å®ç° SessionHandlerInterface æ¥å£ï¼Œå°†å…¶ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­çš„ï¼Œè¿™ä¸ªæ¥å£æœ‰ 6 ç§æŠ½è±¡æ–¹æ³•ï¼š closeï¼šå…³é—­ Session destroyï¼šé”€æ¯ Session gcï¼šåƒåœ¾å›æ”¶ openï¼šå¼€å¯ Session readï¼šè¯»å– Session writeï¼šå†™å…¥ Session 123456789interface SessionHandlerInterface{ public function close(); public function destroy(string $session_id); public function gc(int $maxlifetime); public function open(string $save_path, string $session_name); public function read(string $session_id); public function write(string $session_id, string $session_data);} default charset=utf-8; é€šè¿‡é‡æ–°å®ç°æ¥å£ï¼Œå®Œæˆå…·ä½“çš„å®ç°æ–¹æ³•ï¼Œç„¶åå†åˆ©ç”¨ Session æœºåˆ¶å¯ä»¥æ”¹å˜ Session å­˜å‚¨çš„é»˜è®¤æ–¹å¼ ä¾‹ï¼šSession å…¥åº“å®ç°ä¾‹å­ â‘  å…ˆåˆ›å»ºä¸€ä¸ªä¿å­˜ Session çš„æ•°æ®è¡¨ 1234567create database `sess_storage`;use `sess_storage`;create table `session` ( `id` varchar(255) primary key comment 'SessionID', `expires` int unsigned not null comment 'è¿‡æœŸæ—¶é—´', `data` blog comment 'æ•°æ®') â‘¡ å®ç°æ¥å£ åˆ›å»º SessionDB.php æ–‡ä»¶ï¼Œç”¨äºå®ç°æ¥å£ 12345678910class SessionDB implements SessionHandlerInterface{ private $link; public function open($savePath, $sessionName) { /*å¤„ç†è¯­å¥*/ }; public function close() { /*å¤„ç†è¯­å¥*/ }; public function write($id, $data) { /*å¤„ç†è¯­å¥*/ }; public function read($id) { /*å¤„ç†è¯­å¥*/ }; public function destroy($id) { /*å¤„ç†è¯­å¥*/ }; public function gc(int $maxlifetime) { /*å¤„ç†è¯­å¥*/ };} $link ç”¨äºä¿å­˜æ•°æ®åº“è¿æ¥ å®ç° open æ–¹æ³• æ¥å£é‡Œé¢çš„ open() æ–¹æ³•ç±»ä¼¼äºç±»çš„æ„é€ æ–¹æ³•ï¼Œåœ¨ä¼šè¯æ‰“å¼€çš„æ—¶å€™å†…è°ƒç”¨ 1234public function open($savePath, $sessionName) { $this -&gt; link = new mysqli('localhost', 'root', '123456', 'sess_storage'); return (bool) $this -&gt; link;} å®ç° close æ–¹æ³• è¿™ç±»ä¼¼äºç±»çš„ææ„æ–¹æ³•ï¼Œåœ¨ write æ–¹æ³•è°ƒç”¨å®Œæˆä¹‹åè°ƒç”¨ã€‚è¿™é‡Œå®ç°å…³é—­æ•°æ®åº“è¿æ¥ 123public function close() { return $this -&gt; link -&gt; close();} å®ç° write æ–¹æ³• å°† Session æ•°æ®å†™å…¥æŒ‡å®šçš„ä½ç½®ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹ä»¥æ–‡ä»¶çš„å½¢å¼å†™è¿›æœåŠ¡å™¨ä¸­ã€‚ä»¥æ­¤æ–¹æ³•ä¿®æ”¹ä¿å­˜åˆ°æ•°æ®åº“ä¸­ 1234567public function write($id, $data) { $expires = time() + 3600; // ä¸€å°æ—¶çš„è¿‡æœŸæ—¶é—´ $sql = 'REPLACE INTO `session` SET `id` = ?, `data` = ?'; $stmt = $this-&gt;link-&gt;prepare($sql); $stmt = bind_param('sis', $id, $expires, $data); return (bool) $stmt-&gt;execute();}; Session æ•°æ®è¡¨ä¸­çš„ ID æ˜¯ Session çš„ä¼šè¯ IDï¼Œæ˜¯å”¯ä¸€çš„ åœ¨æœ‰æ•ˆçš„æ—¶é—´å†…é‡å¤ä¿®æ”¹ Session æ•°æ®ï¼Œä½¿ç”¨ REPLACE å®ç° read æ–¹æ³• ç”¨äºæ ¹æ® Session çš„ä¼šè¯ ID åˆ°æŒ‡å®šä½ç½®è·å– Session æ•°æ®å¹¶è¿”å›æ‰§è¡Œç»“æœ 12345public function read($id) { $now = time(); $sql = &quot;SELECT `data` FROM `session` WHERE `id` = '$id' AND `expires` &gt; $now&quot;; return (string) $this-&gt;link-&gt;query($sql)-&gt;fetch_assoc()['data'];} å­˜åœ¨æ—¶ç›´æ¥è¿”å›ç»“æœï¼Œä¸å­˜åœ¨è¿”å›ç©ºå­—ç¬¦ä¸² å®ç° destroy æ–¹æ³• å®ç°ç”¨äºç»“æŸå½“å‰ä¼šè¯çš„åŒæ—¶ï¼Œæ ¹æ®ä¼šè¯ IDåˆ é™¤æ•°æ®åº“ä¸­å¯¹åº”çš„ Session ä¿¡æ¯ 1234public function destroy($id) { $sql = &quot;DELETE FROM `session` WHERE `id` = $id&quot;; return (bool) $this-&gt;link-&gt;query($sql);} å®ç° gc æ–¹æ³• ç”¨äºæ¸…ç†ä¼šè¯ä¸­çš„æ—§æ•°æ® 12345public function gc(int $maxlifetime) { $sql = &quot;DELETE FROM `session` WHERE (`expires` + $maxlifetime) &lt; $maxlifetime&quot;; $result = $this-&gt;link-&gt;query($sql); return (bool) $result;} $maxlifetime ä¿å­˜çš„æ˜¯ php.ini ä¸­ session.gc_maxlifetime é…ç½®é¡¹æŒ‡å®šçš„ Session æ•°æ®ç»è¿‡å¤šé•¿æ—¶é—´è¢«è§†ä¸ºåƒåœ¾è€Œæ¸…é™¤çš„ç§’æ•° å®Œæˆ Session å…¥åº“è®¾ç½® å®ç°æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ä¹‹åï¼Œåˆ©ç”¨ SessionDB ç±»çš„æ„é€ æ–¹æ³•è®¾ç½® Session æœºåˆ¶ 123public function __construct() { session_set_save_handler($this, true);} ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå®ç° SessionHandlerInterface æ¥å£çš„å¯¹è±¡ ç¬¬ äºŒä¸ªå‚æ•°ï¼štrue è¡¨ç¤ºå°† session_write_close() è®¾ç½®ä¸º php ç»ˆæ­¢æ˜¯æ‰§è¡Œçš„å‡½æ•° æµ‹è¯• Session å…¥åº“ æ–°å»º test.php æ–‡ä»¶ï¼Œå¼•å…¥ SessionDB.php æ–‡ä»¶ï¼Œæµ‹è¯• Session æ•°æ®æ˜¯å¦ä¿å­˜åœ¨æ•°æ®åº“ä¸­ 1234require './SessionDB.php';new SessionDB(); // é…ç½®Sessionå…¥åº“session_start();$_SESSION['test'] = 'content'; åˆ°æ•°æ®åº“ä¸­æŸ¥çœ‹åˆ°ï¼štest|s:7:&quot;content testï¼šSession æ•°æ®å¯¹åº”çš„ key å€¼ | å çš„ â€œs:7â€ è¡¨ç¤ºè¯¥æ•°æ®æ˜¯ 7 ä¸ºå­—ç¬¦é•¿åº¦çš„å­—ç¬¦ä¸²ç±»å‹æ•°æ® contentï¼šSession æ•°æ® é¢˜å¤–è¯[](ï¿£ â–½ ï¿£)* Cookie çš„ä¸€äº›å…³ç³» Cookie ï¼šæ˜¯ä¸€ä¸ªè¯·æ±‚å¤´ï¼Œå…¶ä¸­å«æœ‰å…ˆå‰ç”±æœåŠ¡å™¨é€šè¿‡Set-Cookieå“åº”å¤´æŠ•æ”¾å¹¶å­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„ HTTP cookies Set-Cookie ï¼šå“åº”å¤´ï¼Œç”¨æ¥ç”±æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å‘é€ cookies HTTP Cookie ï¼šä¹Ÿå« Web Cookie æˆ–è€… _æµè§ˆå™¨ Cookie_ã€‚æ˜¯ç”±æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼ˆä¸Šé¢ä»‹ç»çš„ Cookie æ˜¯è¿™ä¸ªï¼‰ MDN ä¸­æ˜¯è¿™æ ·å†™çš„ï¼Œåœ¨ MDN ä¸­å®ƒä»¬çš„ç›®å½•å…³ç³»æ˜¯ï¼š Cookie ï¼šHTTP &gt; HTTP Headers &gt; Cookie Set-Cookie ï¼šHTTP &gt; HTTP Headers &gt; Set-Cookie HTTP Cookie ï¼šHTTP &gt; HTTP cookies æ‰€ä»¥ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š Cookie å’Œ Set-Cookie åœ¨ Web æŠ€æœ¯ä¸­æ˜¯å±äº Headerï¼Œè€Œ HTTP Cookieï¼Œæ˜¯ Cookie çš„è¯·æ±‚å†…å®¹ï¼Œæ˜¯ Set-Cookie çš„å“åº”å†…å®¹ åœ¨æµè§ˆå™¨è¯·æ±‚ä¸­å°±å¯ä»¥çœ‹åˆ° Cookie å’Œ åé¢ä¸€å¤§ä¸²å­—ç¬¦ä¸²çš„ HTTP cookie ç›¸å…³èµ„æ–™ï¼šMDN","link":"/2020/07/21/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF/"},{"title":"ç§»åŠ¨webå¼€å‘","text":"ç®€å•ä»‹ç»ç§»åŠ¨ç«¯ web å¼€å‘æ‰€éœ€è¦çš„åŸºç¡€çŸ¥è¯† å¥½å¥½å­¦ä¹ ã€‚ åŸºç¡€&lt;meta&gt;è§†å£æ ‡ç­¾1234&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0&quot;/&gt; æ·»åŠ è§†å£æ ‡ç­¾ä¹‹å‰ï¼Œé¡µé¢ä¼šæœ‰æ‹–åŠ¨æ¡ï¼Œè¿™æ˜¯é»˜è®¤çš„é¡µé¢å¤§å°ã€‚æ·»åŠ è§†å£æ ‡ç­¾ä¹‹åï¼Œé¡µé¢å°±ä¼šè‡ªåŠ¨é€‚åº”è®¾å¤‡çš„å¤§å°ï¼Œæ‹–åŠ¨æ¡ä¹Ÿä¸ä¼šå‡ºç°äº†ã€‚ äºŒå€å›¾å•ä½pxå’ŒçœŸå®çš„ç‰©ç†åƒç´ ï¼ˆåˆ†è¾¨ç‡ï¼‰åœ¨ç§»åŠ¨ç«¯æ˜¯æœ‰ä¸€å®šç¨‹åº¦çš„åå·®çš„ï¼Œå¾€å¾€æ˜¯1pxå¯¹åº”å¤šä¸ªåƒç´ ç‚¹ ä¾‹ï¼šéœ€è¦åœ¨å±å¹•æ˜¾ç¤º50pxçš„å›¾ç‰‡ï¼Œæ”¾åˆ°æ‰‹æœºå±å¹•å¯èƒ½ä¼šè¢«æ”¾å¤§åˆ°100pxï¼Œè¿™æ ·å›¾ç‰‡å°±ä¼šæ¨¡ç³Šã€‚å‡†å¤‡ä¸€å¼ 100pxçš„å›¾ç‰‡ï¼Œç„¶åæ‰‹åŠ¨è°ƒèŠ‚è¿™å¼ å›¾ç‰‡çš„ CSS æ ·å¼ä¸º50pxï¼Œä»¥æ­¤è§£å†³æ¨¡ç³Šã€‚ ä¸ä»…æ˜¯äºŒå€å›¾ï¼Œå¶å¯èƒ½æ˜¯ä¸‰å€å›¾ã€å››å€å›¾ã€‚ å¯¹äºèƒŒæ™¯å›¾ç‰‡çš„è®¾ç½®ï¼Œä½¿ç”¨background-sizeå±æ€§ï¼Œå…¶å€¼é™¤äº†æ•°å€¼å•ä½ï¼Œè¿˜æœ‰coverå’Œcontainã€‚åä¸¤è€…çš„åŒºåˆ«æ˜¯coveré“ºæ»¡æ•´ä¸ªå®¹å™¨ï¼Œcontainçš„å®½æˆ–è€…é«˜é“ºæ»¡å®¹å™¨åå°±åœæ­¢ç¼©æ”¾ã€‚ å¼€å‘é€‰æ‹© å•ç‹¬çš„ç§»åŠ¨ç«¯é¡µé¢ï¼šä¸ºç§»åŠ¨ç«¯å¦å¤–å†™ä»£ç ï¼ˆæ¨èï¼‰ï¼Œé€šè¿‡æ‰“å¼€ç½‘ç«™çš„è®¾å¤‡æ¥è·³è½¬åˆ°ä¸åŒçš„é¡µé¢ã€‚ å“åº”å¼é¡µé¢å…¼å®¹ç§»åŠ¨ç«¯ï¼šä¸€å¥—ä»£ç åŒ…å«æ¡Œé¢å’Œç§»åŠ¨ç«¯ï¼ˆä¸å¤ªæ¨èï¼‰ï¼Œé€šè¿‡åˆ¤æ–­å±å¹•çš„å®½åº¦æ¥æ”¹å˜æ ·å¼ã€‚ å…¶ä»– CSS åˆå§‹åŒ–â€”â€”normalize.cssã€‚npm install --save normalize.css å¯ä»¥ä½¿ç”¨box-sizingå±æ€§è§£å†³ä¸€äº›é—®é¢˜ï¼Œçœå»å‡å»marginã€paddingçš„éº»çƒ¦ å¯¹äº Safari ä¸­çš„æ ‡å‡†ï¼Œæ¸…é™¤ç±»ä¼¼äº&lt;a&gt;ç‚¹å‡»çš„é«˜äº®æ•ˆæœï¼š-webkit-tap-heighlight-color: transparentï¼ˆéæ ‡å‡†ï¼‰ å¯¹äº Safari ä¸ŠæŒ‰é’®å’Œè¾“å…¥æ¡†è‡ªå®šä¹‰æ ·å¼æ·»åŠ å‰æï¼š-webkit-apperance: noneï¼ˆå®éªŒä¸­çš„åŠŸèƒ½ï¼‰ å¯¹äº Safari ä¸Šï¼Œå¦‚&lt;a&gt;ï¼ŒæŒ‰ä½åä¼šå¼¹å‡ºè¿™ä¸ªè·³è½¬çš„é¢„è§ˆçª—å£ï¼Œ-webkit-touch-callout: noneå¯ä»¥å…³é—­å®ƒï¼ˆéæ ‡å‡†ï¼‰(ä»…æ”¯æŒ Safari) å•ç‹¬é¡µé¢å¸¸è§å¸ƒå±€ï¼šæµå¼å¸ƒå±€ã€flex å¸ƒå±€ã€less+rem+åª’ä½“æŸ¥è¯¢å¸ƒå±€ã€æ··åˆå¸ƒå±€å“åº”å¼é¡µé¢å…¼å®¹ï¼šåª’ä½“æŸ¥è¯¢ã€Bootsrap ä¹‹ç±»çš„æ¡†æ¶ æµå¼å¸ƒå±€ ä¹Ÿç§°ç™¾åˆ†æ¯”å¸ƒå±€ã€éå›ºå®šåƒç´ å¸ƒå±€ ä¸€èˆ¬ä¼šä½¿ç”¨åˆ°floatã€position åŸºç¡€æ ·å¼åŸºæœ¬å®½åº¦ 123456body { width: 100%; min-width: 320px; max-width: 640px; margin: 0 auto;} ç„¶åæ¥ä¸‹æ¥çš„å†…å®¹çš„å®½åº¦éƒ½æ˜¯ä½¿ç”¨%ä½œä¸ºå•ä½ã€‚ ä¾‹ 1ï¼Œä¸¤è¾¹ç»¿è‰²çš„æ˜¯å›ºå®šä½ç½®å›ºå®šå¤§å°çš„æŒ‰é’®ï¼Œä¸­é—´çš„æ˜¯æœç´¢æ¡†ï¼Œé•¿åº¦å¯ä»¥éšç€å±å¹•å°ºå¯¸çš„æ”¹å˜è€Œæ”¹å˜ 1234567891011121314151617181920212223.main { position: relative; height: 50px;}.left { position: absolute; top: 0; left: 0; width: 50px; height: 50px;}.right { position: absolute; top: 0; right: 0; width: 50px; height: 50px;}/* ä¸­é—´çš„æ˜¯æ ‡å‡†æµå°±è¡Œï¼Œä¼šé“ºæ»¡ã€‚ç„¶åè®¾ç½®marginæˆ–è€…paddingè°ƒèŠ‚å·¦å³é—´éš™çš„è·ç¦» */.center { height: 50px; margin: 0 50px;} æ³¨ï¼šå›ºå®šå®šä½çš„ç›’å­è¦æœ‰ä¸ªå®½åº¦æ‰è¡Œã€‚ ä¾‹ 2ï¼Œä¸€ä¸ªå¯¼èˆªæ é‡Œé¢æœ‰ 10 ä¸ªå›¾æ ‡ï¼Œæ¯è¡Œ 5 ä¸ªã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨&lt;nav&gt;å’Œ&lt;a&gt;ï¼Œ&lt;a&gt;é‡Œé¢æ”¾å…·ä½“å†…å®¹ 1234.nav a { float: left; width: 20%;} ç²¾çµå›¾ ä»¥backgroundçš„å½¢å¼å­˜åœ¨ å¯¹äºäºŒå€ç²¾çµå›¾ï¼Œåœ¨å›¾ç‰‡ç¼–è¾‘å·¥å…·ä¸­å°†ç²¾çµå›¾ç­‰æ¯”ç¼©æ”¾åˆ°åŸæ¥çš„ä¸€åŠï¼Œç„¶åæ ¹æ®å¤§å°ï¼Œæµ‹é‡å‡ºæ‰€éœ€å›¾æ ‡åœ¨æ•´ä¸ªç²¾çµå›¾ä¸­æ‰€å¤„çš„åæ ‡ï¼Œå¦‚ï¼šbackground: url(./img/jl.png) no-repeat 100px 0ï¼Œåé¢çš„å°±æ˜¯åæ ‡ã€‚ åœ¨å›¾ç‰‡ç¼–è¾‘å™¨ä¸­ç¼©æ”¾åªæ˜¯ä½œä¸ºåæ ‡å‚è€ƒï¼Œä¸è¦ä¿å­˜ç¼©æ”¾åçš„å›¾ç‰‡ã€‚ æœ€åï¼Œè¿˜è¦ä½¿ç”¨background-sizeæ¥åœ¨ CSS å±‚é¢ç¼©å°ç²¾çµå›¾ä¸ºåŸæ¥çš„ä¸€åŠ flex å¸ƒå±€ ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥ä½¿ç”¨flexå¸ƒå±€ çˆ¶ç›’å­è®¾ç½®ä¸ºflexçš„æ—¶å€™ï¼Œfloatã€clearã€vertical-alignå¤±æ•ˆ å¸¸è§çˆ¶é¡¹å±æ€§ å±æ€§ æè¿° flex-direction è®¾ç½®ä¸»è½´çš„æ–¹å‘ justify-content è®¾ç½®ä¸»è½´ä¸Šå­å…ƒç´ æ’åˆ—æ–¹å¼ flex-wrap è®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ align-content è®¾ç½®ä¾§è½´ä¸Šå­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå¤šè¡Œï¼‰ align-items è®¾ç½®ä¾§è½´ä¸Šå­å…ƒç´ æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰ flex-flow ç›¸å½“äºåŒæ—¶è®¾ç½®äº† flex-direction å’Œ flex-wrap å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„ï¼Œæ‰€ä»¥å…ˆçŸ¥é“æ˜¯å“ªä¸€æ¡ flex-wrapï¼Œæ˜¯å¦æ¢è¡Œã€‚å„ä¸ªå­å…ƒç´ åœ¨ä¸»è½´æ–¹å‘ä¸Šçš„æ€»é•¿åº¦å¤§äºçˆ¶å…ƒç´ çš„é•¿åº¦ï¼Œä½¿ç”¨wrapä¹‹åä¼šæ¢è¡Œï¼ˆå¹¶ä¸”ä¸€è¡Œæˆ–ä¸€åˆ—æ˜¾ç¤ºå¤šå°‘ä¸ªï¼Œå–å†³äºå­å…ƒç´ çš„é•¿åº¦ï¼‰ã€‚å¦‚æœä¸ä½¿ç”¨ï¼Œå­å…ƒç´ çš„å®½åº¦å°±ä¼šç­‰æ¯”ç¼©å°ï¼ŒæŒ¤åœ¨ä¸€è¡Œæˆ–æ˜¯ä¸€åˆ—ã€‚ align-itemï¼Œå…¶ä¸­stretchå€¼æ˜¯æ‹‰ä¼¸æ•ˆæœï¼Œå‰ææ˜¯å­å…ƒç´ æ²¡æœ‰è®¾ç½®é«˜åº¦ align-contentï¼Œå¤šäº†space-aroundã€space-betweenï¼Œå¯ä»¥è®¾ç½®ä¸Šä¸€è¡Œç½®é¡¶ï¼Œä¸‹ä¸€è¡Œåœ¨æœ€åº•ï¼ˆå‰ææ˜¯è¦æœ‰æ¢è¡Œï¼‰ã€‚align-itemæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºåªèƒ½æ“ä½œä¸€è¡Œã€‚ å¸¸è§å­é¡¹å±æ€§ å±æ€§ æè¿° flex å­é¡¹å çš„ä»½æ•°ï¼ˆä¸ä»…èƒ½å·¦å³è¿˜èƒ½ä¸Šä¸‹ï¼Œæ‰€ä»¥æ¯”ç™¾åˆ†æ¯”å¥½ç”¨äº›ï¼‰ align-self æ§åˆ¶å­é¡¹è‡ªå·±åœ¨ä¾§è½´çš„æ’åˆ—æ–¹å¼ï¼ˆæŸå•ä¸ªï¼‰ order å±æ€§å®šä¹‰å­é¡¹çš„æ’åˆ—é¡ºåºï¼ˆå‰åæ’åºï¼Œé»˜è®¤æ˜¯ 0ï¼Œå¯ä»¥ä¸ºè´Ÿæ•°ï¼‰ flexçš„å€¼å¯ä»¥ä¸ºç™¾åˆ†æ•°ã€‚ åŸºç¡€æ ·å¼å¯¹äºé¡¶å›ºçš„æœç´¢æ¡†ï¼Œåº”è¯¥æ˜¯å›ºå®šå®šä½çš„ï¼Œå¹¶ä¸”å›ºå®šå®šä½ä½ç½®ä¸çˆ¶å…ƒç´ æ— å…³ï¼Œæ˜¯ä»¥å±å¹•ä¸ºå‡†çš„ 1234567891011.search { position: fixed; top: 0; left: 50%; transform: translateX(-50%); /* å›ºå®šçš„ç›’å­è¦æœ‰å®½åº¦ */ width: 100%; min-width: 320px; max-width: 540px; height: 50px;} ğŸ“‹ å‚è€ƒï¼šé»‘é©¬ç¨‹åºå‘˜","link":"/2021/07/21/%E7%A7%BB%E5%8A%A8web%E5%BC%80%E5%8F%91/"},{"title":"ç»„ä»¶åŸºç¡€","text":"ç»„ä»¶åŸºç¡€åŸºæœ¬ä½¿ç”¨ ç»„ä»¶è¦æœ‰ä¸€ä¸ªæ ¹å…ƒç´ æŠŠå­å…ƒç´ åŒ…ä½ ç»„ä»¶å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼Œè€Œä¸”ç»„ä»¶é‡Œé¢æ•°æ®éƒ½æ˜¯å½“å‰ç»„ä»¶ç‹¬äº«çš„momentï¼Œä¸å…³åˆ«çš„ç»„ä»¶çš„äº‹ï¼Œå³ä½¿å®ƒä»¬çš„åå­—æ˜¯ä¸€æ ·çš„ åœ¨ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·ã€åå¼•å·ï¼ˆ ``ï¼‰ï¼Œä¸ºäº†æ¨¡æ¿å­—ç¬¦ä¸²æ ¼å¼å¥½çœ‹ï¼Œæ¨èä½¿ç”¨åå¼•å· å…¨å±€æ³¨å†Œç»„ä»¶ å…¨å±€æ³¨å†Œçš„ç»„ä»¶å¯ä»¥ç”¨åœ¨ä»»æ„çš„ Vue æ ¹å®ä¾‹ä¸­ï¼ˆ new Vue ( { }) ï¼‰ ä½¿ç”¨ Vue.component( â€œç»„ä»¶åâ€, â€œ { æ¨¡æ¿å­—ç¬¦ä¸²ç­‰å†…å®¹ } â€œ) 12345678910111213141516&lt;div id=&quot;app&quot;&gt; &lt;my-com&gt;&lt;/my-com&gt;&lt;/div&gt;&lt;script&gt; Vue.component(&quot;myCom&quot;, { data(){ return { msg: &quot;åŠ æ²¹åŠ æ²¹ã€‚&quot; } } template: &quot;&lt;h1&gt;æˆ‘æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå­¦ä¹ å¾ˆå¿«ä¹ï¼&lt;/h1&gt;&quot; }) var vm = new Vue({ el: &quot;#app&quot; })&lt;/script&gt; åœ¨å…¨å±€æ³¨å†Œçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ é©¼å³°æ³• æˆ–è€…åŠ  - ï¼ŒæŒ‰æ—¶åœ¨ä½¿ç”¨çš„æ—¶å€™åªèƒ½æ˜¯åŠ  - ï¼Œå±€éƒ¨æ³¨å†Œä¹Ÿä¸€æ · data å’Œå®ä¾‹ vue ä¸ä¸€æ ·ï¼Œè¿™é‡Œçš„ data æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæ•°æ®åœ¨é‡Œé¢ å±€éƒ¨æ³¨å†Œç»„ä»¶ åªèƒ½åœ¨å½“å‰æ³¨å†Œäº†è¿™ä¸ªç»„ä»¶çš„ Vue ä¸­ä½¿ç”¨ 123456789101112131415161718&lt;div id=&quot;app&quot;&gt; &lt;my-com&gt;&lt;/my-com&gt;&lt;/div&gt;&lt;script&gt; var login = { tempalte:`&lt;div&gt; &lt;h3&gt;åŠªåŠ›&lt;/h3&gt; &lt;h3&gt;å¥‹æ–—&lt;/h3&gt; &lt;/div&gt;` } var vm = new Vue({ el: &quot;#app&quot;, data: {}, componentss: { &quot;my-com&quot;: login } })&lt;/script&gt; çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ ä½¿ç”¨ props åœ¨å­ç»„ä»¶å®šä¹‰ä¸€ä¸ª props å¯ä»¥ç”¨å­—ç¬¦ä¸²æ•°ç»„çš„å½¢å¼åˆ—å‡ºï¼Œä¹Ÿå¯ä»¥ç”¨å¯¹è±¡çš„å½¢å¼åˆ—å‡º åœ¨éœ€è¦ç»‘å®šçš„ç»„ä»¶ä¸ŠåŠ ä¸Š props ä¸­å†™å¥½çš„å€¼ï¼Œå¯ä»¥é™æ€ç»‘å®šï¼Œå³æ˜¯æ²¡æœ‰ v-bind ä½ ç»™å®ƒä»€ä¹ˆå€¼å°±æ˜¯ä»€ä¹ˆå€¼, åŠ¨æ€ç»‘å®š v-bind ç®€å†™ä¸º,å®ƒçš„å€¼æ˜¯çˆ¶ç»„ä»¶ data ä¸­çš„å€¼ 12&lt;my-h1 title=&quot;msg&quot;&gt;&lt;/my-h1&gt;&lt;my-h1 :title=&quot;msg&quot;&gt;&lt;/my-h1&gt; 123456789101112131415Vue.component(&quot;myH1&quot;, { props: [&quot;title&quot;, &quot;title1&quot;], template: ` &lt;div&gt; &lt;h1&gt;{{title}}&lt;/h1&gt; &lt;h1&gt;{{title1}}&lt;/h1&gt; &lt;/div&gt;`});var vm = new Vue({ el: &quot;#app&quot;, data: { msg: &quot;hello prop&quot;,}}); å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ å­ç»„ä»¶ä½¿ç”¨ $emit è§¦å‘äº‹ä»¶ $emit çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè‡ªå®šä¹‰å¯¹è±¡çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¼ é€’çš„æ•°æ® çˆ¶ç»„ä»¶ä½¿ç”¨ v-on ç›‘å¬å­ç»„ä»¶çš„äº‹ä»¶ 1234567891011121314151617181920212223&lt;div id=&quot;app&quot;&gt; &lt;div :style=&quot;{fontSize: fontSize + 'px'}&quot;&gt; {{msg}} &lt;/div&gt; &lt;my-com @enlage-font='handle($event)'&gt;&lt;/my-com&gt;&lt;/div&gt;&lt;script&gt; Vue.component(&quot;myCom&quot;, { template: ` &lt;button @click=&quot;$emit('enlage-font', 10)&quot;&gt;ä½ ç‚¹ä¸€ä¸‹è¯•è¯•&lt;/button&gt;` }) var vm = new Vue({ el: &quot;#app&quot;, data: { msg: &quot;åŠ æ²¹åŠ æ²¹â€œ, fontSize: 10 }, methods: { handle: function(val){ this.fontSize += val; } } })&lt;/script&gt; å’Œä½¿ç”¨ props ä¼ å€¼å¾ˆåƒ å‡å¦‚æˆ‘æœ‰å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œéœ€è¦ä¿®æ”¹é¡µé¢çš„å€¼ï¼Œä½†æ˜¯é¡µé¢çš„å€¼æ¥è‡ªçˆ¶ç»„ä»¶ã€‚è¿™æ˜¯å°±éœ€è¦ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼ åœ¨å­ç»„ä»¶ä¸­,æ¯”å¦‚æˆ‘æƒ³åˆ é™¤åˆ—è¡¨ä¸­çš„ä¸€é¡¹æ•°æ®ï¼ˆè¿™ä¸ªå°±å¥½æ¯”æ˜¯å­ç»„ä»¶ä¸­çš„propsï¼‰,å¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥æŠ›å‡ºä¸€ä¸ªå¯¹è±¡ï¼ˆ{id: id, type=â€delâ€}ï¼‰ 123del: function(id) { this.$emit(&quot;cart-del&quot;, id);} ç„¶åï¼Œçˆ¶ç»„ä»¶ä¸­(è¿™ä¸ªå°±å¥½æ¯”æ˜¯dataä¸­çš„æ•°æ®) 123456delCart: function(id){ var index = this.goodList.findIndex(item =&gt; { return item.id == id;}); this.goodList.splice(index, 1);} æœ€åå°±åƒpropsä¸€æ ·ï¼Œåœ¨æ ‡ç­¾æ±‡ä¸­ç»‘å®šã€‚ï¼ˆpropsç”¨v-bindï¼Œè¿™é‡Œç”¨v-onï¼‰ 1&lt;cart-list @cartDel=&quot;del-cart($event)&quot;&gt;&lt;/cart-list&gt; ç»„ä»¶æ’æ§½ è‡ªå®šä¹‰ç»„ä»¶ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½åœ¨å…¶ä¸­æ’å…¥ä¸œè¥¿ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ ç»„ä»¶æ’æ§½ æ„Ÿè§‰å°±ç›¸å½“äºä¸€ä¸ªå ä½ç¬¦ å½“ç»„ä»¶å¼€å§‹æ¸²æŸ“çš„æ—¶å€™ï¼Œslot ä¼šè¢«æ›¿æ¢æˆ èŠœæ¹– åŒ¿åæ’æ§½123456789101112&lt;test&gt;èŠœæ¹–&lt;/test&gt;&lt;script&gt; Vue.component('test', { data(){ return { name: &quot;å¼ ä¸‰&quot; } } template: `&lt;div&gt; &lt;strong&gt;èµ·é£~&lt;/strong&gt; &lt;slot&gt;&lt;slot&gt; &lt;/div&gt;` })&lt;/script&gt; æ’æ§½å†…ä¸ä»…å¯ä»¥æ”¾æ–‡æœ¬ï¼Œè¿˜å¯ä»¥æ”¾ HTMLã€å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶ å¦‚æœæ²¡æœ‰ slot æ ‡ç­¾ï¼Œè‡ªå®šä¹‰çš„å†…å®¹å°†ä¸ä¼šæ˜¾ç¤º æ’æ§½ä¼ å€¼ä»¥åŠå€¼å¾—ä½œç”¨åŸŸ1234&lt;test url=&quot;/aoligei&quot;&gt; {{ name }} {{ url }}&lt;/test&gt; æ’æ§½å’Œæ¨¡æ¿ä¸­çš„å…¶ä»–å…„å¼Ÿä¸€æ ·ï¼Œä»–ä»¬èƒ½è®¿é—®åˆ°ç›¸åŒä½œç”¨åŸŸçš„å€¼ ä¸Šé¢çš„å€¼ä¸­ï¼Œ name æ˜¯å¯ä»¥å–å¾—åˆ°å€¼å¾—ï¼Œä½†æ˜¯ url ä¸è¡Œï¼Œå¹¶ä¸”æ˜¾ç¤º undefinedã€‚å› ä¸º url å·²ç»ä¸æ˜¯å“¥å„¿ä»¬äº†ï¼Œurlçš„å€¼æ˜¯ä¼ ç»™ test ç»„ä»¶çš„ çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ã€‚ åå¤‡å†…å®¹123456&lt;!-- åœ¨bodyä¸­--&gt;&lt;test&gt;&lt;/test&gt;&lt;!-- åœ¨æ¨¡æ¿ä¸­--&gt;&lt;button&gt; &lt;slot&gt;Submit&lt;/slot&gt;&lt;/button&gt; å¦‚æœå°±è¿™æ ·ï¼Œæ˜¾ç¤ºçš„æ˜¯ Submitï¼Œå¦‚æœåœ¨ test é‡Œé¢åŠ ä¸Š save ï¼Œé‚£ submit å°±å˜æˆ save å…·åæ’æ§½ å½“ä½¿ç”¨äº†å¥½å¤šä¸ªæ’æ§½çš„æ—¶å€™ï¼Œå¯ä»¥ç»™æ’æ§½èµ·ä¸ªåå­— 123456789101112&lt;!-- åœ¨æ¨¡æ¿ä¸­ --&gt;&lt;div&gt; &lt;header&gt; &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt; &lt;/header&gt; &lt;session&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/session&gt; &lt;footer&gt; &lt;slot name=&quot;fotter&quot;&gt;&lt;/slot&gt; &lt;/footer&gt;&lt;/div&gt; ä¸æ²¡ name çš„ slot è¢«äººå–äº†ä¸ªèŠ±åå« â€œdefaultâ€ ä½¿ç”¨çš„æ—¶å€™ï¼Œè¦åœ¨æ ‡ç­¾ä¸­åŠ ä¸€ä¸ª template å…ƒç´ ï¼Œå¹¶ä¸”åœ¨é‡Œé¢ä½¿ç”¨ v-slot ç»‘å®šï¼Œç®€å†™ # 12345678910&lt;!-- åœ¨bodyä¸­(ç»§ç»­ç”¨ä¸Šé¢çš„testç»„ä»¶åšä¾‹å­) --&gt;&lt;tset&gt; &lt;template v-slot:header&gt; &lt;h1&gt;åŠ æ²¹å•Š&lt;/h1&gt; &lt;/template&gt; &lt;p&gt;å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š&lt;/p&gt; &lt;template v-slot:footer&gt; &lt;p&gt;æ¯å¤©éƒ½æ˜¯å¥½å¿ƒæƒ…&lt;/p&gt; &lt;/template&gt;&lt;/tset&gt; è¿™æ · slot å°±ä¸ºå®ƒå‘½ä¸­æ³¨å®šçš„é‚£ä¸ª template å äº†ä½ç½® ä½œç”¨åŸŸæ’æ§½ çˆ¶ç»„ä»¶å¯¹å­ç»„ä»¶åŠ å·¥å¤„ç† å³å¯å¤ç”¨å­ç»„ä»¶çš„ slotï¼Œä¹Ÿå¯ä»¥ä½¿å¾— slot çš„å†…å®¹ä¸ä¸€æ · 1234&lt;!-- åœ¨æ¨¡æ¿ä¸­ â—‹ --&gt;&lt;span&gt; &lt;slot&gt; {{user.lastName}} &lt;/slot&gt;&lt;/span&gt; ç„¶åï¼Œæˆ‘ä¸æƒ³ä½¿ç”¨ lastName äº†ï¼Œæˆ‘æƒ³æ¢ä¸ªä¸œè¥¿ 12&lt;!-- åœ¨bodyä¸­ â€» --&gt;&lt;test&gt; {{user.firstName}} &lt;/test&gt; è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºåœ¨ test ä¸­ï¼Œä»–ä»¬å·²ç»ä¸æ˜¯ slot çš„å¥½å…„å¼Ÿäº† ä¸ºäº†è®© user åœ¨çˆ¶çº§çš„æ’æ§½å†…å®¹ä¸­å¯ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°† user ä½œä¸º å…ƒç´ çš„ä¸€ä¸ª attribute ç»‘å®šä¸Šå»ï¼š 1234&lt;!-- åœ¨æ¨¡æ¿ä¸­ â—‹ --&gt;&lt;span&gt; &lt;slot v-bind:user=&quot;user&quot;&gt; {{user.lastName}} &lt;/slot&gt;&lt;/span&gt; è¿™ä¸ªç»‘å®šåœ¨ slot ä¸Šçš„å±æ€§å«ä½œ æ’æ§½prop ç„¶åå°±å¯ä»¥ä½¿ç”¨å¸¦å€¼çš„ v-slot æ¥å®šä¹‰ æ’æ§½prop çš„åå­—äº†ï¼š 123456&lt;!-- åœ¨bodyä¸­ â€» --&gt;&lt;test&gt; &lt;template v-slot:default=&quot;slotProps&quot;&gt; {{ slotProps.user.first }} &lt;/template&gt;&lt;/test&gt; slotProps åå­—éšä¾¿å– å› ä¸º slot æ²¡æœ‰åå­—ï¼Œæ‰€ä»¥ è¿™é‡Œä½¿ç”¨äº† default ä½œä¸º slot çš„å±æ€§ å¦‚æœæ˜¯æ²¡åå­—ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸å¸¦å‚æ•°ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ v-slot=&quot;slotProps&quot; ä¸€äº›ç¬”è®° $event é€šè¿‡åœ¨æ–¹æ³•åé¢åŠ ä¸ª $event å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡ã€‚æ¯”å¦‚ï¼š 1&lt;input @blur=&quot;warn('hahaha', $event)&quot;&gt; åœ¨jsä¸­å®šä¹‰æ–¹æ³•warn 12345warn: function(msg, event){ console.log(msg); console.log(event.target.value); // è·å–åˆ°inputçš„å€¼} åœ¨å­—ç¬¦ä¸²æ¨¡æ¿ä¸­ï¼ŒåŒ…å«æ¨¡æ¿çš„æ˜¯ ` æ–œç‚¹ï¼Œè€Œä¸æ˜¯å•å¼•å·æˆ–è€…åŒå¼•å· findIndexå’Œsomeæ˜¯éå†æ•°ç»„çš„ã€‚ è¯­æ³•ï¼šarray.findIndex(function (currentValue, index, arr), thisValue) currentValue æ˜¯å¿…é€‰å‚æ•° 123var index = this.goodList.findIndex(item =&gt; { return item.id == id;}","link":"/2020/04/03/%E8%87%AA%E5%AD%A6Vue-%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/"},{"title":"éƒ¨ç½²æ‰‹å†Œ","text":"ğŸ‘‹ æ°¸è¿œéƒ½è®°ä¸ä½çš„é…ç½®è¿‡ç¨‹ gitlinux é…ç½®ç™»å½• Windows ä¼šç›´æ¥å¼¹å‡ºå¼¹çª—ä»¥è¾“å…¥è´¦å·å¯†ç ï¼ˆå‰ææ˜¯å®‰è£…äº† GUI è½¯ä»¶ï¼‰ ä½¿ç”¨git pushæ—¶è¾“å…¥ç”¨æˆ·æ˜å’Œå¯†ç ç™»å½•åï¼Œæç¤ºä¸å†æ”¯æŒæ­¤ç™»å½•æ–¹å¼ï¼š æ ¹æ®æç¤ºä¸­çš„é“¾æ¥ï¼Œæ‰¾åˆ°Git å‡­æ®ç®¡ç†å™¨ï¼ˆGit Credential Managerï¼‰ï¼Œå¤§è‡´å®‰è£…ã€é…ç½®æ­¥éª¤ï¼šï¼ˆUbuntuï¼‰ å®‰è£….NET tool 12sudo apt-get update &amp;&amp; \\ sudo apt-get install -y dotnet-sdk-8.0 å®‰è£…ç®¡ç†å·¥å…· 1dotnet tool install -g git-credential-manager æˆåŠŸå®‰è£…åä¼šæç¤ºå°†å…¶è®¾ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼š é…ç½® 1git-credential-manager configure è®¾ç½®GCM_CREDENTIAL_STOREç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œä½¿ç”¨gpgï¼Œå¹¶ä¸”éœ€è¦é¢å¤–å®‰è£…passï¼ˆæ­¤å¤–è¿˜æœ‰åˆ«çš„è®¾ç½®å½¢å¼ï¼‰ 1export GCM_CREDENTIAL_STORE=&quot;gpg&quot; 1apt install pass åˆå§‹åŒ– store 12# initåé¢çš„åç§°éšæ„pass init github-gpg-id æ¨é€ä»£ç  1git push NGINXğŸ‘‰ Nginx å®‰è£… åå‘ä»£ç† å¸¸è§æ“ä½œå°±æ˜¯ä½¿ç”¨ä»£ç†ç»“å±€è·¨åŸŸé—®é¢˜ ç«¯å£åˆ°å­åŸŸå123456789101112server { listen 80; server_name your_subdomain.yourdomain.com; location / { proxy_pass http://127.0.0.1:8080; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; }} ç«¯å£åˆ°è·¯å¾„1234567891011server { listen 80; location /your-subpath/ { proxy_pass http://localhost:8080; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; }} ç¤ºä¾‹ï¼šè§£å†³å‰ç«¯è·¨åŸŸ é€šè¿‡ä»£ç†è¯·æ±‚ä»¥è§£å†³å‰ç«¯è·¨åŸŸé—®é¢˜ï¼ŒåŸå› æ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥å¯¼è‡´ï¼ˆSame-Origin Policyï¼‰ å‰ç«¯è·¨åŸŸäº§ç”Ÿçš„åŸå› ï¼šæµè§ˆå™¨é€šè¿‡ JavaScript å‘é€ç½‘ç»œè¯·æ±‚æ—¶ï¼Œè¯·æ±‚çš„æ¥å£ä¸å½“å‰é¡µé¢çš„ URL ä¸åœ¨åŒä¸€ä¸ªåŸŸåã€åè®®å’Œç«¯å£ä¹‹ä¸‹ï¼Œæµè§ˆå™¨å°±ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè·¨åŸŸè¯·æ±‚ï¼Œä»è€Œæ ¹æ®åŒæºç­–ç•¥é˜»æ­¢è¿™ä¸ªè¯·æ±‚ï¼ˆé™¤éæœåŠ¡å™¨åœ¨å“åº”å¤´æ˜ç¡®å£°æ˜å…è®¸è·¨åŸŸï¼‰ 123456789101112131415161718server { listen 80; server_name localhost; location / { root /usr/share/nginx/html; index index.html index.htm; } # å‰ç«¯è¯·æ±‚ /api çš„ä»£ç†é…ç½® location /api/ { proxy_pass http://api.example.com/; # å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; }} locationé…ç½®çš„æ˜¯/api/è€Œä¸æ˜¯/apiï¼ŒäºŒè€…åŒºåˆ«ï¼š /api/ï¼šåŒ¹é…å½“å‰è§„åˆ™ä¹‹åçš„æ‰€æœ‰è·¯å¾„ /apiï¼šåŒ¹é…ä»¥è¿™ä¸ªå¼€å¤´çš„æ‰€æœ‰è·¯å¾„ proxy_passåŒæ ·éœ€è¦ä»¥/ç»“å°¾ï¼ŒäºŒè€…åŒºåˆ«ï¼š æœ‰/ç»“å°¾ï¼šè¯·æ±‚ä¸­çš„/api å°†ä¼šè¢«å»æ‰ï¼Œå…¶ä½™éƒ¨åˆ†æ‹¼æ¥ä¸Šå» å¦‚ï¼šhttp://api.example.com/login æ— /ç»“å°¾ï¼š/api ä¼šç»§ç»­æ‹¼æ¥åˆ°è¯·æ±‚çš„æ¥å£ä¸­ å¦‚ï¼šhttp://api.example.com/api/login DockerVSCode å®¹å™¨å¼€å‘âš™ï¸ éœ€è¦å®‰è£… vscode æ’ä»¶Dev Containers ğŸ”— å®¹å™¨å†…å¤–æ–‡ä»¶ä¼šè‡ªåŠ¨åŒæ­¥ ä½¿ç”¨åœºæ™¯ï¼šç»Ÿä¸€çš„å¼€å‘ç¯å¢ƒï¼Œæˆ–è€…æ˜¯ç‰¹æ®Šçš„å¼€å‘ç¯å¢ƒï¼Œä»¥ä¸‹ç¤ºä¾‹åŸºäºpython2ã€node14çš„ä¸å¸¸è§å¼€å‘ç¯å¢ƒï¼ˆå¯¹äº 2025 å¹´æ¥è¯´ï¼‰ åˆ›å»ºé…ç½®æ–‡ä»¶åœ¨æ ¹ç›®å½•åˆ›å»º.devcontaineræ–‡ä»¶å¤¹ï¼Œæ·»åŠ ä»¥ä¸‹æ–‡ä»¶ï¼š Dockerfile 123456789101112131415161718192021# ä½¿ç”¨å®˜æ–¹ Python 2 é•œåƒä½œä¸ºåŸºç¡€FROM python:2.7-slim# å®‰è£… Node.js 14RUN apt-get update &amp;&amp; apt-get install -y curlRUN curl -fsSL https://deb.nodesource.com/setup_14.x | bash -RUN apt-get install -y nodejs# å®‰è£…å¸¸ç”¨å·¥å…·ï¼ˆå¯é€‰ï¼‰RUN apt-get install -y git vim# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /workspace# å®‰è£… Python ä¾èµ–ï¼ˆå¯é€‰ï¼‰COPY requirements.txt .RUN pip install -r requirements.txt# å®‰è£… Node.js ä¾èµ–ï¼ˆå¯é€‰ï¼‰COPY package.json .RUN npm install å’Œç»ˆç«¯ä¸€æ ·ï¼Œå‘½ä»¤å’Œä½¿ç”¨\\æ¥æ¢è¡Œ devcontainer.json 123456789101112131415{ &quot;name&quot;: &quot;Python 2 + Node.js 14&quot;, &quot;build&quot;: { &quot;dockerfile&quot;: &quot;Dockerfile&quot; }, &quot;extensions&quot;: [ &quot;ms-python.python&quot;, // Python æ‰©å±• &quot;dbaeumer.vscode-eslint&quot;, // ESLint æ‰©å±• &quot;esbenp.prettier-vscode&quot; // Prettier æ‰©å±• ], &quot;forwardPorts&quot;: [3000], // è½¬å‘ç«¯å£ï¼ˆNode.js åº”ç”¨ï¼‰ï¼Œå¯æŒ‡å®šå¤šä¸ªï¼Œæ¯”å¦‚å®¹å™¨é‡Œé¢è¿˜æœ‰æœåŠ¡ç«¯çš„ç«¯å£ &quot;postCreateCommand&quot;: &quot;npm install&quot;, // å®¹å™¨åˆ›å»ºåè¿è¡Œå‘½ä»¤ &quot;workspaceMount&quot;: &quot;source=${localWorkspaceFolder},target=/workspace,type=bind&quot;, &quot;workspaceFolder&quot;: &quot;/workspace&quot;} å¯åŠ¨åœ¨ VSCode ä¸­è¾“å…¥å¿«æ·é”®Ctrl/Cmd + Shift + Pï¼Œæˆ–è€…ç‚¹å‡»å·¦ä¸‹è§’çš„è“è‰²ç®­å¤´ï¼ˆæˆ–è€…å…¶ä»–ä¸»é¢˜è‰²ï¼‰ï¼Œé€‰æ‹©Reopen in containerï¼ˆåœ¨å®¹å™¨ä¸­é‡æ–°æ‰“å¼€ï¼‰ æ­¤è¿‡ç¨‹ä¸­ä¼šï¼š åˆ›å»ºä¸€ä¸ªé•œåƒï¼Œé•œåƒåç§°ä»¥vscå¼€å¤´ åŸºäºé•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨ è¿è¡ŒæˆåŠŸåï¼Œvscode åœ°ä¸‹çš„é¢æ¿ä¸­çš„ PORTï¼ˆç«¯å£ï¼‰ é€‰é¡¹é¢æ¿å°±ä¼šæ˜¾ç¤ºå‡ºåœ¨forwardPortsä¸­é…ç½®çš„è½¬å‘ç«¯å£ å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œå¹¶ä¸”æ˜¯ç”±äºæ‹‰å»ä¸åˆ°é•œåƒï¼Œå¯ä»¥å…ˆæ‹‰å»æ‰€éœ€è¦çš„é•œåƒï¼Œå†å¯åŠ¨ã€‚å¦‚docker pull python:2.7-slim JavamavenUbuntu ä¾èµ–Javaè¿è¡Œï¼Œéœ€è¦å…ˆå®‰è£…Java 12sudo apt updatesudo apt install openjdk-17-jdk é€šè¿‡å‹ç¼©åŒ…å®‰è£… 1wget https://dlcdn.apache.org/maven/maven-3/3.9.6/binaries/apache-maven-3.9.6-bin.tar.gz è§£å‹ã€å®‰è£… 1tar -zxvf apache-maven-3.9.6-bin.tar.gz -C /opt/ é…ç½®è½¯è¿æ¥ 1ln -s /opt/apache-maven-3.9.6 /opt/maven ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸”æ·»åŠ å†…å®¹ 1vim /etc/profile.d/maven.sh 123# æ·»åŠ ä»¥ä¸‹å†…å®¹export MAVEN_HOME=/opt/mavenexport PATH=${MAVEN_HOME}/bin:${PATH} 1source /etc/profile.d/maven.sh éªŒè¯å®‰è£… 1mvn -v MySQLDockeræ‹‰å– -&gt; åˆ›å»º -&gt; è¿è¡Œ 1docker pull mysql:8.0 123456docker run -d \\ --name mysql-8 \\ -p 3306:3306 \\ -e MYSQL_ROOT_PASSWORD=123456 \\ -v mysql-data:/var/lib/mysql \\ mysql:8.0 1docker exec -it mysql-8 bash è¿›å…¥å®¹å™¨ååˆ›å»ºå¯è¿œç¨‹è¿æ¥çš„ç”¨æˆ· 1mysql -uroot -p123456 123CREATE USER 'root'@'%' IDENTIFIED BY '123456';GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;FLUSH PRIVILEGES; ç›¸å…³æ¦‚å¿µè·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰ è·¨åŸŸèµ„æºå…±äº« å’Œ æµè§ˆå™¨çš„åŒæºç­–ç•¥ äº§ç”Ÿçš„è·¨åŸŸé—®é¢˜å±äºä¸¤ä¸ªä¸åŒèŒƒç•´ é€šè¿‡ Nginx çš„é…ç½®å¯è§£å†³å‰ç«¯çš„è·¨åŸŸé—®é¢˜ï¼Œä½†æ˜¯è·¨åŸŸèµ„æºå…±äº«åˆ™éœ€è¦åç«¯è§£å†³ï¼š CORS å±äºæœåŠ¡ç«¯çš„è§£å†³æ–¹æ¡ˆ CORS å…è®¸ç›®æ ‡æœåŠ¡å™¨å£°æ˜å“ªäº›å¤–éƒ¨åŸŸåå¯ä»¥è®¿é—®å…¶èµ„æº åç«¯åœ¨å“åº”å¤´ï¼Œéœ€è¦çš„æ˜¯æ·»åŠ å¦‚Access-Control-Allow-*ä¹‹ç±»çš„å£°æ˜ é»˜è®¤æƒ…å†µä¸‹æµè§ˆå™¨ä¼šæ ¹æ®åŒæºç­–ç•¥æ¥é˜»æ­¢éåŒæºè¯·æ±‚ï¼Œå¦‚æœ ç›®æ ‡æœåŠ¡å™¨æ”¯æŒ CORSï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å“åº”å¤´æ·»åŠ é€‚å½“çš„ CORS å¤´æ¥å‘Šè¯‰æµè§ˆå™¨å…è®¸ç‰¹å®šçš„è·¨åŸŸè¯·æ±‚ã€‚ CORS å·¥ä½œåŸç†ï¼š é¢„æ£€è¯·æ±‚ï¼ˆPreflight Requestï¼‰ å¯¹äºæŸäº›è·¨åŸŸè¯·æ±‚ï¼ˆPUTã€DELETE æˆ–å¸¦æœ‰è‡ªå®šä¹‰å¤´çš„è¯·æ±‚ï¼‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ä¸€ä¸ª OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€è¯·æ±‚ï¼‰æ¥è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ã€‚ CORS å“åº”å¤´ æœåŠ¡ç«¯åœ¨å“åº”å¤´ä¸­åŠ å…¥å¦‚ Access-Control-Allo-Originã€Access-Control-Allow-Methods æ¥å…è®¸æµè§ˆå™¨è·¨åŸŸè®¿é—® ç®€å•è¯·æ±‚ GETã€POSTï¼ˆå¹¶ä¸”æ²¡æœ‰ç‰¹æ®Šå¤´çš„è¯·æ±‚ï¼‰ç­‰ç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ä¸ä¼šå‘é€é¢„æ£€è¯·æ±‚ã€‚å¦‚æœæœåŠ¡ç«¯çš„å“åº”å¤´ä¸­æœ‰ç›¸å…³çš„ CORS å¤´é…ç½®ï¼Œæµè§ˆå™¨ä¼šå…è®¸è¿™ä¸ªè¯·æ±‚","link":"/2025/02/15/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/"}],"tags":[{"name":"API","slug":"API","link":"/tags/API/"},{"name":"å¼€å‘è§„èŒƒ","slug":"å¼€å‘è§„èŒƒ","link":"/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"},{"name":"ftp","slug":"ftp","link":"/tags/ftp/"},{"name":"css","slug":"css","link":"/tags/css/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"apache","slug":"apache","link":"/tags/apache/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"linux","slug":"linux","link":"/tags/linux/"},{"name":"nginx","slug":"nginx","link":"/tags/nginx/"},{"name":"php","slug":"php","link":"/tags/php/"},{"name":"mysql","slug":"mysql","link":"/tags/mysql/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"vue","slug":"vue","link":"/tags/vue/"},{"name":"çŠ¶æ€ç®¡ç†","slug":"çŠ¶æ€ç®¡ç†","link":"/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/"},{"name":"ts","slug":"ts","link":"/tags/ts/"},{"name":"æ‰“åŒ…","slug":"æ‰“åŒ…","link":"/tags/%E6%89%93%E5%8C%85/"},{"name":"ç»„ä»¶","slug":"ç»„ä»¶","link":"/tags/%E7%BB%84%E4%BB%B6/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"node","slug":"node","link":"/tags/node/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"github","slug":"github","link":"/tags/github/"},{"name":"python","slug":"python","link":"/tags/python/"},{"name":"vscode","slug":"vscode","link":"/tags/vscode/"},{"name":"æµ‹è¯•","slug":"æµ‹è¯•","link":"/tags/%E6%B5%8B%E8%AF%95/"},{"name":"react","slug":"react","link":"/tags/react/"},{"name":"éšç¬”","slug":"éšç¬”","link":"/tags/%E9%9A%8F%E7%AC%94/"},{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","link":"/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}],"categories":[{"name":"åç«¯å­¦ä¹ ","slug":"åç«¯å­¦ä¹ ","link":"/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"},{"name":"éƒ¨ç½²è¿ç»´","slug":"éƒ¨ç½²è¿ç»´","link":"/categories/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/"},{"name":"å‰ç«¯å­¦ä¹ ","slug":"å‰ç«¯å­¦ä¹ ","link":"/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"},{"name":"è½¯ä»¶é…ç½®","slug":"è½¯ä»¶é…ç½®","link":"/categories/%E8%BD%AF%E4%BB%B6%E9%85%8D%E7%BD%AE/"}],"pages":[{"title":"å…³ssssäº","text":"asdasdasdasdasd","link":"/about/test.html"},{"title":"å…³äº","text":"è¿™æ˜¯ä»€ä¹ˆ ç½‘ç«™å†…å®¹ åå‘ç¬”è®°ç±»ï¼Œæ²¡ä»€ä¹ˆå¹²è´§ï¼Œä½†å¸Œæœ›å¯ä»¥åšåˆ°éšæ—¶éšåœ°å¤ä¹ ã€æŸ¥é˜…ã€‚ æœªæ¥æ‰“ç®—ï¼šé™¤äº†æ·»åŠ æ–°å†…å®¹å¤–ï¼Œè¿˜å¸Œæœ›åœ¨æ—§æœ‰çš„å†…å®¹ä¸Šæ›´æ–°ï¼Œä¸æ–­å®Œå–„ã€‚åœ¨å¤ä¹ çš„æ—¶å€™å¯ä»¥ä½œä¸ºæ–°æ—§å¯¹æ¯”ï¼Œæ›´å¥½åœ°ç†è§£æ•´ä¸ªçŸ¥è¯†ä½“ç³»ï¼Œå³ä½¿å¤ªä¹…æ²¡æ¥è§¦äº†ä¹Ÿèƒ½å°½å¿«æ¡èµ·æ¥ å…³äºæˆ‘çš„ æˆ‘åº”è¯¥ç®—æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ï¼Œåœ¨å­¦ä¹ å¾ˆå¤šä¹‹å ğŸ™ƒ æ­£åœ¨å­¦ä¹  vue react electron node php python smalljerry AKA dsjerry ğŸ‘‰ ğŸ“§ dsjerry@qq.com åŠªåŠ›å­¦ä¹ ï¼ŒåŠ æ²¹ï¼ æ—¥å¿—2025-03-03 ï¼ˆAIï¼‰å¤§è¯­è¨€æ¨¡å‹çš„å‡ºç°å¸¦æ¥äº†é¢ è¦†æ€§çš„å˜åŒ–ï¼Œæˆ‘åº”è¯¥å¦‚ä½•è¿½èµ¶ï¼Ÿ","link":"/about/index.html"}]}